/*
DayPilot Pro
Copyright (c) 2005 - 2014 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 1418
*/
if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.$ !== 'undefined') {
        return;
    };
    DayPilot.$ = function(id) {
        return document.getElementById(id);
    };
    DayPilot.mo = function(t, ev) {
        ev = ev || window.event;
        if (ev.layerX) {
            var $a = {
                x: ev.layerX,
                y: ev.layerY
            };
            if (!t) {
                return $a;
            };
            return $a;
        };
        if (ev.offsetX) {
            return {
                x: ev.offsetX,
                y: ev.offsetY
            };
        };
        return null;
    };
    DayPilot.isKhtml = (navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1);
    DayPilot.isIE = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
    DayPilot.isIEQuirks = DayPilot.isIE && (document.compatMode && document.compatMode === "BackCompat");
    DayPilot.browser = {};
    DayPilot.browser.ie8 = (function() {
        var $b = document.createElement("div");
        $b.innerHTML = "<!--[if IE 8]><i></i><![endif]-->";
        var $c = ($b.getElementsByTagName("i").length === 1);
        return $c;
    })();
    DayPilot.browser.ie9 = (function() {
        var $b = document.createElement("div");
        $b.innerHTML = "<!--[if IE 9]><i></i><![endif]-->";
        var $c = ($b.getElementsByTagName("i").length === 1);
        return $c;
    })();
    DayPilot.browser.ielt9 = (function() {
        var $b = document.createElement("div");
        $b.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
        var $c = ($b.getElementsByTagName("i").length === 1);
        return $c;
    })();
    DayPilot.touch = {};
    DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart";
    DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove";
    DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend";
    DayPilot.mo2 = function($d, ev) {
        ev = ev || window.event;
        if (typeof(ev.offsetX) !== 'undefined') {
            var $a = {
                x: ev.offsetX + 1,
                y: ev.offsetY + 1
            };
            if (!$d) {
                return $a;
            };
            var $e = ev.srcElement;
            while ($e && $e !== $d) {
                if ($e.tagName !== 'SPAN') {
                    $a.x += $e.offsetLeft;
                    if ($e.offsetTop > 0) {
                        $a.y += $e.offsetTop - $e.scrollTop;
                    }
                };
                $e = $e.offsetParent;
            };
            if ($e) {
                return $a;
            };
            return null;
        };
        if (typeof(ev.layerX) !== 'undefined') {
            var $a = {
                x: ev.layerX,
                y: ev.layerY,
                $f: ev.target
            };
            if (!$d) {
                return $a;
            };
            var $e = ev.target;
            while ($e && $e.style.position !== 'absolute' && $e.style.position !== 'relative') {
                $e = $e.parentNode;
                if (DayPilot.isKhtml) {
                    $a.y += $e.scrollTop;
                }
            }
            while ($e && $e !== $d) {
                $a.x += $e.offsetLeft;
                $a.y += $e.offsetTop - $e.scrollTop;
                $e = $e.offsetParent;
            };
            if ($e) {
                return $a;
            };
            return null;
        };
        return null;
    };
    DayPilot.mo3 = function($d, ev) {
        ev = ev || window.event;
        var $g = DayPilot.page(ev);
        if ($g) {
            var $h = DayPilot.abs($d);
            return {
                x: $g.x - $h.x,
                y: $g.y - $h.y
            };
        };
        return DayPilot.mo2($d, ev);
    };
    DayPilot.mc = function(ev) {
        if (ev.pageX || ev.pageY) {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        return {
            x: ev.clientX + document.documentElement.scrollLeft,
            y: ev.clientY + document.documentElement.scrollTop
        };
    };
    DayPilot.Queue = function() {
        var q = this;
        this.items = [];
        this.index = 0;
        this.add = function(f) {
            q.items.push(f);
            q.testNext();
        };
        this.testNext = function() {
            var f = q.items[q.index];
            if (typeof f === 'function') {
                setTimeout(q.doNext);
            } else {
                q.clear();
                setTimeout(q.testNext, 100);
            }
        };
        this.doNext = function() {
            var f = q.items[q.index];
            if (typeof f === 'function') {
                f();
                q.index += 1;
            };
            q.testNext();
        };
        this.clear = function() {
            if (q.items.length === 0) {
                return;
            };
            q.items = [];
            q.index = 0;
        };
    };
    DayPilot.dynlist = function($i) {
        var $c = {};
        $c.each = function(f) {
            if (!f) {
                return;
            };
            for (var i = 0; i < $i.length; i++) {
                var $j = function(i) {
                    return function() {
                        f(i);
                    }
                };
                setTimeout($j($i[i]));
            }
        };
        $c.seqEach = function(f) {
            if (!f) {
                return;
            };
            process(0);

            function process(i) {
                if (i >= $i.length) {
                    return;
                };
                f($i[i]);
                setTimeout(process(i + 1));
            }
        };
        return $c;
    };
    DayPilot.list = function($i) {
        var $k = [];
        $k.each = function(f) {
            if (!f) {
                return;
            };
            for (var i = 0; i < this.length; i++) {
                f($k[i]);
            }
        };
        $k.addProps = function($l) {
            var $c = DayPilot.list(this);
            if ($l) {
                for (var name in $l) {
                    $c[name] = $l[name];
                }
            };
            return $c;
        };
        $k.map = function($m, $n) {
            var T, A, k;
            if (this == null) {
                throw new TypeError(' this is null or not defined');
            };
            var O = Object(this);
            var $o = O.length >>> 0;
            if (typeof $m !== 'function') {
                throw new TypeError($m + ' is not a function');
            };
            if (arguments.length > 1) {
                T = $n;
            };
            A = DayPilot.list();
            k = 0;
            while (k < $o) {
                var $p, $q;
                if (k in O) {
                    $p = O[k];
                    $q = $m.call(T, $p, k, O);
                    A[k] = $q;
                };
                k++;
            };
            return A;
        };
        if (DayPilot.isArray($i)) {
            for (var i = 0; i < $i.length; i++) {
                $k.push($i[i]);
            }
        } else if (typeof $i === 'object') {
            $k.push($i);
        };
        return $k;
    };
    DayPilot.line = function(x1, y1, x2, y2, $r) {
        var $s = {
            x: x1,
            y: y1
        };
        var $d = {
            x: x2,
            y: y2,
            "deg": DayPilot.deg(x1, y1, x2, y2)
        };
        if (y1 < y2) {
            var $t = y1;
            y1 = y2;
            y2 = $t;
            $t = x1;
            x1 = x2;
            x2 = $t;
        };
        var $u = DayPilot.deg(x1, y1, x2, y2);
        var $v = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            return Math.sqrt(a * a + b * b);
        })();
        var x = (function() {
            var a = Math.abs(x1 - x2);
            var b = Math.abs(y1 - y2);
            var sx = (x1 + x2) / 2;
            var sy = (y1 + y2) / 2;
            var $v = Math.sqrt(a * a + b * b);
            return sx - $v / 2;
        })();
        var y = (function() {
            return (y1 + y2) / 2;
        })();
        var $b = document.createElement("div");
        $b.setAttribute('style', 'border:1px solid black;width:' + $v + 'px;height:0px;-moz-transform:rotate(' + $u + 'deg);-webkit-transform:rotate(' + $u + 'deg);-ms-transform:rotate(' + $u + 'deg);transform:rotate(' + $u + 'deg);position:absolute;top:' + y + 'px;left:' + x + 'px;');
        var $w = document.createElement("div");
        $w.appendChild($b);
        if ($r) {
            var $v = 6;
            var top = $d.y - $v;
            var $x = $d.x - $v;;
            var $u = $u;
            if ($d.y > $s.y) {
                $u -= 180;
            };
            var a = document.createElement("div");
            a.style.borderColor = "transparent black transparent transparent";
            a.style.borderWidth = $v + "px";
            a.style.borderStyle = "solid";
            a.style.position = "absolute";
            a.style.left = $x + "px";
            a.style.top = top + "px";
            a.style.transform = "rotate(" + $u + "deg)";
            $w.appendChild(a);
        };
        return $w;
    };
    DayPilot.deg = function(x1, y1, x2, y2) {
        var a = Math.abs(x1 - x2);
        var b = Math.abs(y1 - y2);
        var c;
        var sx = (x1 + x2) / 2;
        var sy = (y1 + y2) / 2;
        var $v = Math.sqrt(a * a + b * b);
        var x = sx - $v / 2;
        var y = sy;
        a = $v / 2;
        c = Math.abs(sx - x);
        b = Math.sqrt(Math.abs(x1 - x) * Math.abs(x1 - x) + Math.abs(y1 - y) * Math.abs(y1 - y));
        var $y = (b * b - a * a - c * c) / (2 * a * c);
        var $z = Math.acos($y);
        var $u = ($z * 180) / Math.PI;
        return $u;
    };
    DayPilot.complete = function(f) {
        if (document.readyState === "complete") {
            f();
            return;
        };
        if (!DayPilot.complete.list) {
            DayPilot.complete.list = [];
            DayPilot.re(document, "readystatechange", function() {
                if (document.readyState === "complete") {
                    for (var i = 0; i < DayPilot.complete.list.length; i++) {
                        var d = DayPilot.complete.list[i];
                        d();
                    };
                    DayPilot.complete.list = [];
                }
            });
        };
        DayPilot.complete.list.push(f);
    };
    DayPilot.page = function(ev) {
        ev = ev || window.event;
        if (typeof ev.pageX !== 'undefined') {
            return {
                x: ev.pageX,
                y: ev.pageY
            };
        };
        if (typeof ev.clientX !== 'undefined') {
            return {
                x: ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: ev.clientY + document.body.scrollTop + document.documentElement.scrollTop
            };
        };
        return null;
    };
    DayPilot.abs = function(element, $A) {
        if (!element) {
            return null;
        };
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        if (element.getBoundingClientRect) {
            var b = null;
            try {
                b = element.getBoundingClientRect();
            } catch (e) {
                b = {
                    top: element.offsetTop,
                    $x: element.offsetLeft
                };
            };
            r.x = b.left;
            r.y = b.top;
            var d = DayPilot.doc();
            r.x -= d.clientLeft || 0;
            r.y -= d.clientTop || 0;
            var $B = DayPilot.pageOffset();
            r.x += $B.x;
            r.y += $B.y;
            if ($A) {
                var $C = DayPilot.absOffsetBased(element, false);
                var $A = DayPilot.absOffsetBased(element, true);
                r.x += $A.x - $C.x;
                r.y += $A.y - $C.y;
                r.w = $A.w;
                r.h = $A.h;
            };
            return r;
        } else {
            return DayPilot.absOffsetBased(element, $A);
        }
    };
    DayPilot.isArray = function(o) {
        return Object.prototype.toString.call(o) === '[object Array]';
    };
    DayPilot.absOffsetBased = function(element, $A) {
        var r = {
            x: element.offsetLeft,
            y: element.offsetTop,
            w: element.clientWidth,
            h: element.clientHeight,
            toString: function() {
                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
            }
        };
        while (DayPilot.op(element)) {
            element = DayPilot.op(element);
            r.x -= element.scrollLeft;
            r.y -= element.scrollTop;
            if ($A) {
                if (r.x < 0) {
                    r.w += r.x;
                    r.x = 0;
                };
                if (r.y < 0) {
                    r.h += r.y;
                    r.y = 0;
                };
                if (element.scrollLeft > 0 && r.x + r.w > element.clientWidth) {
                    r.w -= r.x + r.w - element.clientWidth;
                };
                if (element.scrollTop && r.y + r.h > element.clientHeight) {
                    r.h -= r.y + r.h - element.clientHeight;
                }
            };
            r.x += element.offsetLeft;
            r.y += element.offsetTop;
        };
        var $B = DayPilot.pageOffset();
        r.x += $B.x;
        r.y += $B.y;
        return r;
    };
    DayPilot.wd = function() {
        var $D = DayPilot.isIEQuirks;
        var $E = document.documentElement.clientHeight;
        if ($D) {
            $E = document.body.clientHeight;
        };
        var $F = document.documentElement.clientWidth;
        if ($D) {
            $F = document.body.clientWidth;
        };
        var $G = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;
        var $H = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft;
        var $c = {};
        $c.width = $F;
        $c.height = $E;
        $c.scrollTop = $G;
        $c.scrollLeft = $H;
        return $c;
    };
    DayPilot.op = function(element) {
        try {
            return element.offsetParent;
        } catch (e) {
            return document.body;
        }
    };
    DayPilot.distance = function($I, $J) {
        return Math.sqrt(Math.pow($I.x - $J.x, 2) + Math.pow($I.y - $J.y, 2));
    };
    DayPilot.doc = function() {
        var de = document.documentElement;
        return (de && de.clientHeight) ? de : document.body;
    };
    DayPilot.pageOffset = function() {
        if (typeof pageXOffset !== 'undefined') {
            return {
                x: pageXOffset,
                y: pageYOffset
            };
        };
        var d = DayPilot.doc();
        return {
            x: d.scrollLeft,
            y: d.scrollTop
        };
    };
    DayPilot.ac = function(e, $K) {
        if (!$K) {
            var $K = [];
        };
        for (var i = 0; e.children && i < e.children.length; i++) {
            $K.push(e.children[i]);
            DayPilot.ac(e.children[i], $K);
        };
        return $K;
    };
    DayPilot.indexOf = function($i, $L) {
        if (!$i || !$i.length) {
            return -1;
        };
        for (var i = 0; i < $i.length; i++) {
            if ($i[i] === $L) {
                return i;
            }
        };
        return -1;
    };
    DayPilot.contains = function($i, $L) {
        return DayPilot.indexOf($i, $L) !== -1;
    };
    DayPilot.rfa = function($i, $L) {
        var i = DayPilot.indexOf($i, $L);
        if (i === -1) {
            return;
        };
        $i.splice(i, 1);
    };
    DayPilot.sheet = function() {
        var style = document.createElement("style");
        style.setAttribute("type", "text/css");
        if (!style.styleSheet) {
            style.appendChild(document.createTextNode(""));
        };
        var h = document.head || document.getElementsByTagName('head')[0];
        h.appendChild(style);
        var $M = !!style.styleSheet;
        var $N = {};
        $N.rules = [];
        $N.commit = function() {
            try {
                if ($M) {
                    style.styleSheet.cssText = this.rules.join("\n");
                }
            } catch (e) {}
        };
        $N.add = function($O, $P, $Q) {
            if ($M) {
                this.rules.push($O + "{" + $P + "\u007d");
                return;
            };
            if (style.sheet.insertRule) {
                style.sheet.insertRule($O + "{" + $P + "\u007d", $Q);
            } else if (style.sheet.addRule) {
                style.sheet.addRule($O, $P, $Q);
            } else {
                throw "No CSS registration method found";
            }
        };
        return $N;
    };
    DayPilot.Debug = function($R) {
        var debug = this;
        this.printToBrowserConsole = false;
        this.messages = [];
        this.$2P = null;
        this.clear = function() {
            this.messages = [];
            if (debug.$2P) {
                debug.$2P.innerHTML = '';
            }
        };
        this.hide = function() {
            DayPilot.de(debug.$2P);
            debug.$2P = null;
        };
        this.show = function() {
            if (debug.$2P) {
                debug.hide();
            };
            var $S = $R.nav.top;
            var $b = document.createElement("div");
            $b.style.position = "absolute";
            $b.style.top = "0px";
            $b.style.bottom = "0px";
            $b.style.left = "0px";
            $b.style.right = "0px";
            $b.style.backgroundColor = "black";
            $b.style.color = "#ccc";
            $b.style.overflow = "auto";
            $b.style.webkitUserSelect = 'auto';
            $b.style.MozUserSelect = 'all';
            $b.onclick = function() {
                debug.hide();
            };
            for (var i = 0; i < this.messages.length; i++) {
                var $T = debug.messages[i];
                var $U = $T.$2Q();
                $b.appendChild($U);
            };
            this.$2P = $b;
            $S.appendChild($b);
        };
        this.message = function($V, $W) {
            var $T = {};
            $T.time = new DayPilot.Date();
            $T.level = $W || "debug";
            $T.text = $V;
            $T.$2Q = function() {
                var $U = document.createElement("div");
                $U.innerHTML = $T.time + " (" + $T.level + "): " + $T.text;
                switch ($T.level) {
                    case "error":
                        $U.style.color = "red";
                        break;
                    case "warning":
                        $U.style.color = "orange";
                        break;
                    case "info":
                        $U.style.color = "white";
                        break;
                    case "debug":
                        break;
                };
                return $U;
            };
            this.messages.push($T);
            if (this.printToBrowserConsole && typeof console !== 'undefined') {
                console.log($T);
            }
        };
    };
    DayPilot.re = function(el, ev, $X) {
        if (!$X) {
            return;
        };
        if (el.addEventListener) {
            el.addEventListener(ev, $X, false);
        } else if (el.attachEvent) {
            var f = function(ev) {
                $X.call(el, ev);
            };
            el.attachEvent("on" + ev, f);
        }
    };
    DayPilot.ue = function(el, ev, $X) {
        if (el.removeEventListener) {
            el.removeEventListener(ev, $X, false);
        } else if (el.detachEvent) {
            el.detachEvent("on" + ev, $X);
        }
    };
    DayPilot.tr = function($Y) {
        if (!$Y) return '';
        return $Y.replace(/^\s+|\s+$/g, "");
    };
    DayPilot.ds = function(d) {
        return DayPilot.Date.toStringSortable(d);
    };
    DayPilot.gs = function(el, $Z) {
        var x = el;
        if (x.currentStyle) var y = x.currentStyle[$Z];
        else if (window.getComputedStyle) var y = document.defaultView.getComputedStyle(x, null).getPropertyValue($Z);
        if (typeof(y) === 'undefined') y = '';
        return y;
    };
    DayPilot.ea = function(a) {
        var $00 = "";
        for (var i = 0; i < a.length; i++) {
            if (a[i] || typeof(a[i]) === 'number') {
                if (a[i].isDayPilotDate) {
                    a[i] = a[i].toStringSortable();
                } else if (a[i].getFullYear) {
                    a[i] = DayPilot.ds(a[i]);
                };
                $00 += encodeURIComponent(a[i]);
            };
            if (i + 1 < a.length) {
                $00 += '&';
            }
        };
        return $00;
    };
    DayPilot.he = function(str) {
        var $c = str.replace(/&/g, "&amp;");
        $c = $c.replace(/</g, "&lt;");
        $c = $c.replace(/>/g, "&gt;");
        $c = $c.replace(/"/g, "&quot;");
        return $c;
    };
    DayPilot.ci = function($01) {
        var i = $01.cellIndex;
        if (i && i > 0) return i;
        var tr = $01.parentNode;
        var $o = tr.cells.length;
        for (i = 0; i < $o; i++) {
            if (tr.cells[i] === $01) return i;
        };
        return null;
    };
    DayPilot.us = function(element) {
        if (element) {
            element.setAttribute("unselectable", "on");
            element.style.userSelect = 'none';
            element.style.MozUserSelect = 'none';
            element.style.KhtmlUserSelect = 'none';
            element.style.webkitUserSelect = 'none';
            for (var i = 0; i < element.childNodes.length; i++) {
                if (element.childNodes[i].nodeType === 1) {
                    DayPilot.us(element.childNodes[i]);
                }
            }
        }
    };
    DayPilot.pu = function(d) {
        var a = d.attributes,
            i, l, n;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                if (!a[i]) {
                    continue;
                };
                n = a[i].name;
                if (typeof d[n] === 'function') {
                    d[n] = null;
                }
            }
        };
        a = d.childNodes;
        if (a) {
            l = a.length;
            for (i = 0; i < l; i += 1) {
                var $K = DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.puc = function(d) {
        var a = d.childNodes,
            i, l;
        if (a) {
            var l = a.length;
            for (i = 0; i < l; i += 1) {
                DayPilot.pu(d.childNodes[i]);
            }
        }
    };
    DayPilot.de = function(e) {
        if (!e) {
            return;
        };
        if (DayPilot.isArray(e)) {
            for (var i = 0; i < e.length; i++) {
                DayPilot.de(e[i]);
            };
            return;
        };
        e.parentNode && e.parentNode.removeChild(e);
    };
    DayPilot.gr = function($01) {
        var i = 0;
        var tr = $01.parentNode;
        while (tr.previousSibling) {
            tr = tr.previousSibling;
            if (tr.tagName === "TR") {
                i++;
            }
        };
        return i;
    };
    DayPilot.fade = function(element, $02, end) {
        if (!element) {
            return;
        };
        var $03 = 50;
        var $A = element.style.display !== 'none';
        var $04 = $02 > 0;
        var $05 = $02 < 0;
        if ($02 === 0) {
            return;
        };
        if ($04) {
            element.status = "in";
        } else if ($05) {
            element.status = "out";
        };
        if ($04 && !$A) {
            element.target = parseFloat(element.style.opacity);
            element.opacity = 0;
            element.style.opacity = 0;
            element.style.filter = "alpha(opacity=0)";
            element.style.display = '';
        } else if ($05 && !element.target) {
            element.target = element.style.opacity;
        } else {
            var $e = element.opacity;
            var $06 = Math.floor(10 * ($e + $02)) / 10;
            if ($04 && $06 > element.target) {
                $06 = element.target;
            };
            if ($05 && $06 < 0) {
                $06 = 0;
            };
            var ie = $06 * 100;
            element.opacity = $06;
            element.style.opacity = $06;
            element.style.filter = "alpha(opacity=" + ie + ")";
        };
        if (($04 && (element.opacity >= element.target || element.opacity >= 1)) || ($05 && element.opacity <= 0)) {
            element.target = null;
            if ($05) {
                element.style.opacity = element.target;
                element.opacity = element.target;
                var $07 = element.target ? "alpha(opacity=" + (element.target * 100) + ")" : null;
                element.style.filter = $07;
                element.style.display = 'none';
            };
            if (end && typeof end === 'function') {
                delete element.status;
                end();
            }
        } else {
            element.messageTimeout = setTimeout(function() {
                DayPilot.fade(element, $02, end);
            }, $03);
        }
    };
    DayPilot.sw = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetWidth - element.clientWidth;
    };
    DayPilot.swa = function() {
        var $b = document.createElement("div");
        $b.style.position = "absolute";
        $b.style.top = "-2000px";
        $b.style.left = "-2000px";
        $b.style.width = '200px';
        $b.style.height = '100px';
        $b.style.overflow = 'auto';
        var $08 = document.createElement("div");
        $08.style.width = '300px';
        $08.style.height = '300px';
        $b.appendChild($08);
        document.body.appendChild($b);
        var sw = DayPilot.sw($b);
        document.body.removeChild($b);
        return sw;
    };
    DayPilot.sh = function(element) {
        if (!element) {
            return 0;
        };
        return element.offsetHeight - element.clientHeight;
    };
    DayPilot.guid = function() {
        var S4 = function() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        };
        return ("" + S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4());
    };
    DayPilot.ua = function($i) {
        if (typeof $i === "string" || typeof $i === "number") {
            return [$i];
        };
        var u = {},
            a = [];
        for (var i = 0, l = $i.length; i < l; ++i) {
            if ($i[i] in u) {
                continue;
            };
            a.push($i[i]);
            u[$i[i]] = 1;
        };
        return a;
    };
    DayPilot.am = function() {
        if (typeof angular === "undefined") {
            return null;
        };
        if (!DayPilot.am.cached) {
            DayPilot.am.cached = angular.module("daypilot", []);
        };
        return DayPilot.am.cached;
    };
    (function() {
        DayPilot.pop = wave;

        function wave($b, $09) {
            var $d = {
                w: $b.offsetWidth,
                h: $b.offsetHeight,
                x: parseInt($b.style.left),
                y: parseInt($b.style.top)
            };
            $d.height = $b.style.height;
            $d.width = $b.style.width;
            $d.top = $b.style.top;
            $d.left = $b.style.left;
            $d.toString = function() {
                return "w: " + this.w + " h:" + this.h;
            };
            var $0a = {};
            $0a.finished = null;
            $0a.vertical = 'center';
            $0a.horizontal = 'center';
            if ($09) {
                for (var name in $09) {
                    $0a[name] = $09[name];
                }
            };
            $b.style.visibility = 'hidden';
            $b.style.display = '';
            var $0b = $09.animation || "fast";
            var $0c = createPlan($0b);
            $0c.div = $b;
            $0c.i = 0;
            $0c.target = $d;
            $0c.config = $0a;
            doStep($0c);
        };

        function createPlan($0d) {
            var $0e = function() {
                var $0c = [];
                $0c.time = 10;
                var $0f;
                var $02 = 0.08;
                $0f = 0.1;
                for (var i = $0f; i < 1.2; i += $02) {
                    $0c.push(i);
                    $0f = i;
                };
                $02 = 0.03;
                for (var i = $0f; i > 0.8; i -= $02) {
                    $0c.push(i);
                    $0f = i;
                };
                for (var i = $0f; i <= 1; i += $02) {
                    $0c.push(i);
                    $0f = i;
                };
                return $0c;
            };
            var $0g = function() {
                var $0c = [];
                $0c.time = 15;
                var $0f;
                var $02 = 0.04;
                $0f = 0.1;
                for (var i = $0f; i <= 1; i += $02) {
                    $0c.push(i);
                    $0f = i;
                };
                return $0c;
            };
            var $0h = function() {
                var $0c = [];
                $0c.time = 9;
                var $0f;
                var $02 = 0.04;
                $0f = 0.1;
                for (var i = $0f; i <= 1; i += $02) {
                    $0c.push(i);
                    $0f = i;
                };
                return $0c;
            };
            var $0i = {
                "fast": $0h,
                "slow": $0g,
                "jump": $0e
            };
            if (!$0i[$0d]) {
                $0d = "fast";
            };
            return $0i[$0d]();
        };

        function doStep($0c) {
            var $b = $0c.div;
            var $0j = $0c[$0c.i];
            var $0k = $0j * $0c.target.h;
            var top;
            switch ($0c.config.vertical) {
                case "center":
                    top = $0c.target.y - ($0k - $0c.target.h) / 2;
                    break;
                case "top":
                    top = $0c.target.y;
                    break;
                case "bottom":
                    top = $0c.target.y - ($0k - $0c.target.h);
                    break;
                default:
                    throw "Unexpected 'vertical' value.";
            };
            var $v = $0j * $0c.target.w;
            var $x;
            switch ($0c.config.horizontal) {
                case "left":
                    $x = $0c.target.x;
                    break;
                case "center":
                    $x = $0c.target.x - ($v - $0c.target.w) / 2;
                    break;
                case "right":
                    $x = $0c.target.x - ($v - $0c.target.w);
                    break;
                default:
                    throw "Unexpected 'horizontal' value.";
            };
            var wd = DayPilot.wd();
            var $0l = (wd.height + wd.scrollTop) - (top + $0k);
            if ($0l < 0) {
                top += $0l;
            };
            var $0m = (wd.width) - ($x + $v);
            if ($0m < 0) {
                $x += $0m;
            };
            $b.style.height = $0k + "px";
            $b.style.top = top + "px";
            $b.style.width = $v + "px";
            $b.style.left = $x + "px";
            $b.style.visibility = 'visible';
            $0c.i++;
            if ($0c.i < $0c.length - 1) {
                setTimeout((function($0c) {
                    return function() {
                        doStep($0c);
                    };
                })($0c), $0c.time);
            } else {
                $b.style.width = $0c.target.width;
                $b.style.height = $0c.target.height;
                $b.style.top = $0c.target.top;
                $b.style.left = $0c.target.left;
                if (typeof $0c.config.finished === 'function') {
                    $0c.config.finished();
                }
            }
        }
    })();
    DayPilot.Util = {};
    DayPilot.Util.addClass = function($L, name) {
        if (!name) {
            return;
        };
        if (!$L) {
            return;
        };
        if (DayPilot.isArray($L)) {
            for (var i = 0; i < $L.length; i++) {
                DayPilot.Util.addClass($L[i], name);
            };
            return;
        };
        if (!$L.className) {
            $L.className = name;
            return;
        };
        var $0n = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0n.test($L.className)) {
            $L.className = $L.className + ' ' + name;
        }
    };
    DayPilot.Util.addClassToString = function(str, name) {
        if (!str) {
            return name;
        };
        var $0n = new RegExp("(^|\\s)" + name + "($|\\s)");
        if (!$0n.test(str)) {
            return str + ' ' + name;
        } else {
            return str;
        }
    };
    DayPilot.Util.removeClassFromString = function(str, name) {
        if (!str) {
            return "";
        };
        var $0n = new RegExp("(^|\\s)" + name + "($|\\s)");
        return str.replace($0n, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.removeClass = function($L, name) {
        if (!$L) {
            return;
        };
        if (DayPilot.isArray($L)) {
            for (var i = 0; i < $L.length; i++) {
                DayPilot.Util.removeClass($L[i], name);
            };
            return;
        };
        var $0n = new RegExp("(^|\\s)" + name + "($|\\s)");
        $L.className = $L.className.replace($0n, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };
    DayPilot.Util.props = function(o) {
        var t = [];
        for (var a in o) {
            t.push(a);
            t.push(o[a]);
        };
        return t.join("-");
    };
    DayPilot.Util.propArray = function($0o, name) {
        var $c = [];
        if (!$0o || !$0o.length) {
            return $c;
        };
        for (var i = 0; i < $0o.length; i++) {
            $c.push($0o[i][name]);
        };
        return $c;
    };
    DayPilot.Util.updatePropsFromArray = function($0o, name, $i) {
        for (var i = 0; i < $i.length; i++) {
            $0o[i][name] = $i[i];
        }
    };
    DayPilot.Util.copyProps = function($s, $d, $0o) {
        if (!$s) {
            return;
        };
        if (typeof $0o === 'undefined') {
            for (var name in $s) {
                if (typeof $s[name] !== 'undefined') {
                    $d[name] = $s[name];
                }
            }
        } else {
            for (var i = 0; i < $0o.length; i++) {
                var name = $0o[i];
                if (typeof $s[name] !== 'undefined') {
                    $d[name] = $s[name];
                }
            }
        }
    };
    DayPilot.Util.createArrayCopy = function($s, $0p) {
        if (!DayPilot.isArray($s)) {
            return [];
        };
        var $k = [];
        for (var i = 0; i < $s.length; i++) {
            var $0q = {};
            DayPilot.Util.copyProps($s[i], $0q, $0p);
            $k.push($0q);
        };
        return $k;
    };
    DayPilot.Util.avg = function(a, b) {
        return (a + b) / 2;
    };
    DayPilot.Util.div = function(parent, $x, top, $v, $0k) {
        var $b = document.createElement("div");
        if ($x || top || $v || $0k) {
            if ($v < 0) {
                $x += $v;
                $v *= -1;
            };
            if ($0k < 0) {
                top += $0k;
                $0k *= -1;
            };
            $b.style.position = "absolute";
            if (typeof $x === "number") {
                $b.style.left = $x + "px";
            };
            if (typeof top === "number") {
                $b.style.top = top + "px";
            };
            if (typeof $v === "number") {
                $b.style.width = $v + "px";
            };
            if (typeof $0k === "number") {
                $b.style.height = $0k + "px";
            }
        };
        if (parent) {
            parent.appendChild($b);
        };
        return $b;
    };
    DayPilot.Util.overlaps = function($0r, $0s, $0t, $0u) {
        $0r = $0r.isDayPilotDate ? $0r.getTime() : $0r;
        $0t = $0t.isDayPilotDate ? $0t.getTime() : $0t;
        $0s = $0s.isDayPilotDate ? $0s.getTime() : $0s;
        $0u = $0u.isDayPilotDate ? $0u.getTime() : $0u;
        return !($0s <= $0t || $0r >= $0u);
    };
    DayPilot.Util.isMouseEvent = function(ev) {
        if (!navigator.msPointerEnabled) {
            return false;
        };
        if (!ev.pointerType) {
            return false;
        };
        if (ev.pointerType === "mouse") {
            return true;
        };
        if (ev.pointerType === 4) {
            return true;
        };
        return false;
    };
    DayPilot.Util.mouseButton = function(ev) {
        var $c = {};
        ev = ev || window.event;
        if (typeof ev.which === 'undefined') {
            switch (ev.button) {
                case 1:
                    $c.left = true;
                    break;
                case 4:
                    $c.middle = true;
                    break;
                case 2:
                    $c.right = true;
                    break;
                case 0:
                    $c.unknown = true;
                    break;
            }
        } else {
            switch (ev.which) {
                case 1:
                    $c.left = true;
                    break;
                case 2:
                    $c.middle = true;
                    break;
                case 3:
                    $c.right = true;
                    break;
            }
        };
        return $c;
    };
    DayPilot.Util.membersPlain = function($0v) {
        var $0w = DayPilot.Util.members($0v, 2);
        var $0x = function($i) {
            for (var i = 0; i < $i.length; i++) {
                var $0q = $i[i];
                var name = $0q.name;
                if ($0q.obsolete) {
                    name += " (obsolete)";
                };
                if ($0q.noCssOnly) {
                    name += " (!cssOnly)";
                };
                if ($0q.aspnet) {
                    name += " (ASP.NET)";
                };
                if ($0q.mvc) {
                    name += "(MVC)";
                };
                $i[i] = name;
            }
        };
        $0x($0w.events);
        $0x($0w.methods);
        $0x($0w.properties);
        return $0w;
    };
    DayPilot.Util.members = function($0v, $0y) {
        var $0z = [];
        var $0A = [];
        var $0B = [];
        var $0C = ($0v && $0v.members) ? $0v.members.obsolete : [];
        var $0D = ($0v && $0v.members) ? $0v.members.noCssOnly : [];
        var $0E = ($0v && $0v.members) ? $0v.members.ignore : [];
        var $0F = ($0v && $0v.members && $0v.members.ignoreFilter) ? $0v.members.ignoreFilter : function() {
            return false;
        };
        for (var name in $0v) {
            if (name.indexOf("$") === 0) {
                continue;
            };
            if (name.indexOf("_") === 0) {
                continue;
            };
            if (name.indexOf("number") === 0) {
                continue;
            };
            if (name.indexOf("is") === 0) {
                continue;
            };
            if (name === "v") {
                continue;
            };
            if (DayPilot.contains($0E, name)) {
                continue;
            };
            if ($0F(name)) {
                continue;
            };
            if (name.indexOf("on") === 0) {
                $0z.push(name);
                continue;
            };
            if (typeof $0v[name] === 'function') {
                $0A.push(name);
                continue;
            };
            if (typeof $0v[name] === 'object') {
                var o = $0v[name];
                if ($0y === 0) {
                    $0B.push(name);
                    continue;
                };
                if (o && o.nodeType > 0) {
                    $0B.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Bubble) {
                    $0B.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Date) {
                    $0B.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Menu) {
                    $0B.push(name);
                    continue;
                };
                if (o instanceof DayPilot.Scheduler) {
                    $0B.push(name);
                    continue;
                };
                if (DayPilot.isArray(o)) {
                    $0B.push(name);
                    continue;
                };
                if (o === null) {
                    $0B.push(name);
                };
                var ml = null;
                if (typeof $0y === "number") {
                    ml = $0y - 1;
                };
                var $0w = DayPilot.Util.members(o, ml);
                for (var i = 0; i < $0w.events.length; i++) {
                    $0z.push(name + "." + $0w.events[i].name);
                };
                for (var i = 0; i < $0w.methods.length; i++) {
                    $0A.push(name + "." + $0w.methods[i].name);
                };
                for (var i = 0; i < $0w.properties.length; i++) {
                    $0B.push(name + "." + $0w.properties[i].name);
                };
                continue;
            };
            $0B.push(name);
        };
        $0z.sort();
        $0A.sort();
        $0B.sort();
        var $0x = function($i) {
            for (var i = 0; i < $i.length; i++) {
                var name = $i[i];
                var $0q = {};
                $0q.name = name;
                $i[i] = $0q;
                if (DayPilot.contains($0C, name)) {
                    $0q.obsolete = true;
                };
                if (DayPilot.contains($0D, name)) {
                    $0q.noCssOnly = true;
                };
                if (name.indexOf("CallBack") !== -1) {
                    $0q.aspnet = true;
                    $0q.mvc = true;
                };
                if (name.indexOf("PostBack") !== -1) {
                    $0q.aspnet = true;
                };
                if (name.indexOf("Notify") !== -1) {
                    $0q.aspnet = true;
                    $0q.mvc = true;
                }
            }
        };
        $0x($0z);
        $0x($0A);
        $0x($0B);
        return {
            "events": $0z,
            "methods": $0A,
            "properties": $0B
        };
    };
    DayPilot.Util.replaceCharAt = function(str, $Q, $0G) {
        return str.substr(0, $Q) + $0G + str.substr($Q + $0G.length);
    };
    DayPilot.Util.evalVariable = function(str, $0H) {
        $0H = $0H || ['object'];
        if (str === null) {
            return null;
        };
        if ($0H.indexOf(typeof str) !== -1) {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a variable name (not a string).";
        };
        if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str)) {
            throw "Invalid variable name: " + str;
        };
        return eval(str);
    };
    DayPilot.Util.evalFunction = function(str) {
        if (str === null) {
            return null;
        };
        if (typeof str === "function") {
            return str;
        };
        if (typeof str !== "string") {
            throw "Unable to resolve a function (not a string).";
        };
        if (str.indexOf("function") !== 0) {
            throw "Invalid function string";
        };
        return eval("(" + str + ")");
    };
    DayPilot.Util.parseJSON = function(str) {
        if ($0I.parse) {
            return $0I.parse(str);
        } else {
            DayPilot.JSON.parse(str);
        }
    };
    DayPilot.Areas = {};
    DayPilot.Areas.attach = function($b, e, $09) {
        var $0J = $09.areas;
        var $0H = $09.allowed || function() {
            return true;
        };
        DayPilot.re($b, "mousemove", function(ev) {
            if (!$b.active && $0H()) {
                DayPilot.Areas.showAreas($b, e, ev, $0J);
            }
        });
        DayPilot.re($b, "mouseout", function(ev) {
            DayPilot.Areas.hideAreas($b, ev);
        });
        $0J = $0K(e, $0J);
        for (var j = 0; j < $0J.length; j++) {
            var $0L = $0J[j];
            var v = $0L.v || "Visible";
            if (v !== "Visible") {
                continue;
            };
            var a = DayPilot.Areas.createArea($b, e, $0L);
            $b.appendChild(a);
        }
    };
    var $0K = function(e, $0J) {
        if (!DayPilot.isArray($0J)) {
            $0J = e.areas;
            if (!$0J) {
                if (e.cache) {
                    $0J = e.cache.areas;
                } else if (e.data) {
                    $0J = e.data.areas;
                }
            }
        };
        return $0J;
    };
    DayPilot.Areas.showAreas = function($b, e, ev, $0J) {
        if (DayPilot.Global.resizing) {
            return;
        };
        if (DayPilot.Global.moving) {
            return;
        };
        if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) {
            for (var i = 0; i < DayPilot.Areas.all.length; i++) {
                var d = DayPilot.Areas.all[i];
                if (d !== $b) {
                    DayPilot.Areas.hideAreas(d, ev);
                }
            }
        };
        if ($b.active) {
            return;
        };
        $b.active = {};
        if (!DayPilot.isArray($0J)) {
            $0J = e.areas;
            if (!$0J) {
                if (e.cache) {
                    $0J = e.cache.areas;
                } else if (e.data) {
                    $0J = e.data.areas;
                }
            }
        };
        if (!$0J || $0J.length === 0) {
            return;
        };
        if ($b.areas && $b.areas.length > 0) {
            return;
        };
        $b.areas = [];
        for (var i = 0; i < $0J.length; i++) {
            var $0L = $0J[i];
            var v = $0L.v || "Visible";
            if (v !== 'Hover') {
                continue;
            };
            var a = DayPilot.Areas.createArea($b, e, $0L);
            $b.areas.push(a);
            $b.appendChild(a);
            DayPilot.Areas.all.push($b);
        };
        $b.active.children = DayPilot.ac($b);
    };
    DayPilot.Areas.createArea = function($b, e, $0L) {
        var a = document.createElement("div");
        a.isActiveArea = true;
        a.setAttribute("unselectable", "on");
        var w = $0L.w || $0L.width;
        var h = $0L.h || $0L.height;
        var $0M = $0L.css || $0L.className;
        if (typeof $0L.style !== "undefined") {
            a.setAttribute("style", $0L.style);
        };
        a.style.position = "absolute";
        if (typeof w !== 'undefined') {
            a.style.width = w + "px";
        };
        if (typeof h !== 'undefined') {
            a.style.height = h + "px";
        };
        if (typeof $0L.right !== 'undefined') {
            a.style.right = $0L.right + "px";
        };
        if (typeof $0L.top !== 'undefined') {
            a.style.top = $0L.top + "px";
        };
        if (typeof $0L.left !== 'undefined') {
            a.style.left = $0L.left + "px";
        };
        if (typeof $0L.bottom !== 'undefined') {
            a.style.bottom = $0L.bottom + "px";
        };
        if (typeof $0L.html !== 'undefined' && $0L.html) {
            a.innerHTML = $0L.html;
        };
        if ($0M) {
            a.className = $0M;
        };
        if ($0L.backColor) {
            a.style.background = $0L.backColor;
        };
        if ($0L.action === "ResizeEnd" || $0L.action === "ResizeStart" || $0L.action === "Move") {
            if (e.calendar.isCalendar) {
                switch ($0L.action) {
                    case "ResizeEnd":
                        $0L.cursor = "s-resize";
                        $0L.dpBorder = "bottom";
                        break;
                    case "ResizeStart":
                        $0L.cursor = "n-resize";
                        $0L.dpBorder = "top";
                        break;
                    case "Move":
                        $0L.cursor = "move";
                        break;
                }
            };
            if (e.calendar.isScheduler || e.calendar.isMonth) {
                switch ($0L.action) {
                    case "ResizeEnd":
                        $0L.cursor = "e-resize";
                        $0L.dpBorder = "right";
                        break;
                    case "ResizeStart":
                        $0L.cursor = "w-resize";
                        $0L.dpBorder = "left";
                        break;
                    case "Move":
                        $0L.cursor = "move";
                        break;
                }
            };
            a.onmousemove = (function($b, e, $0L) {
                return function(ev) {
                    var ev = ev || window.event;
                    $b.style.cursor = $0L.cursor;
                    if ($0L.dpBorder) {
                        $b.dpBorder = $0L.dpBorder;
                    };
                    ev.cancelBubble = true;
                };
            })($b, e, $0L);
            a.onmouseout = (function($b, e, $0L) {
                return function(ev) {
                    $b.style.cursor = '';
                };
            })($b, e, $0L);
        };
        if ($0L.action === "Move" && e.isEvent) {
            if (e.calendar.internal.touch) {
                var $0N = (function($b, e, $0L) {
                    return function(ev) {
                        ev.cancelBubble = true;
                        var $0O = e.calendar.internal.touch;
                        var t = ev.touches ? ev.touches[0] : ev;
                        var $a = {
                            x: t.pageX,
                            y: t.pageY
                        };
                        e.calendar.coords = $0O.relativeCoords(ev);
                        $0O.preventEventTap = true;
                        $0O.startMoving($b, $a);
                    };
                })($b, e, $0L);
                DayPilot.re(a, DayPilot.touch.start, $0N);
            }
        };
        if ($0L.action === "Move" && e.isRow) {
            if (e.calendar.internal.touch) {}
        };
        if ($0L.action === "Bubble" && e.isEvent) {
            a.onmousemove = (function($b, e, $0L) {
                return function(ev) {
                    if (e.calendar.bubble) {
                        e.calendar.bubble.showEvent(e);
                    }
                };
            })($b, e, $0L);
            a.onmouseout = (function($b, e, $0L) {
                return function(ev) {
                    if (typeof DayPilot.Bubble !== "undefined") {
                        if (e.calendar.bubble) {
                            e.calendar.bubble.hideOnMouseOut();
                        }
                    }
                };
            })($b, e, $0L);
        };
        if ($0L.action === "HoverMenu") {
            a.onmousemove = (function($b, e, $0L) {
                return function(ev) {
                    var m = $0L.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (m && m.show) {
                        if (!m.visible) {
                            m.show(e);
                        } else if (m.source && typeof m.source.id !== 'undefined' && m.source.id !== e.id) {
                            m.show(e);
                        };
                        m.cancelHideTimeout();
                    }
                };
            })($b, e, $0L);
            a.onmouseout = (function($b, e, $0L) {
                return function(ev) {
                    var m = $0L.menu;
                    if (typeof m === 'string') {
                        m = DayPilot.Util.evalVariable(m);
                    };
                    if (!m) {
                        return;
                    };
                    if (m.hideOnMouseOver) {
                        m.delayedHide();
                    }
                };
            })($b, e, $0L);
        };
        a.onmousedown = (function($b, e, $0L) {
            return function(ev) {
                if (typeof $0L.onmousedown === 'function') {
                    $0L.onmousedown(ev);
                };
                if ($0L.action === "Move" && e.isRow) {
                    var $0P = e.$.row;
                    var $0Q = e.calendar.internal.rowtools;
                    $0Q.startMoving($0P);
                };
                var $0R = true;
                if ($0R) {
                    if ($0L.action === "Move" || $0L.action === "ResizeEnd" || $0L.action === "ResizeStart") {
                        return;
                    };
                    ev = ev || window.event;
                    ev.cancelBubble = true;
                }
            };
        })($b, e, $0L);
        a.onclick = (function($b, e, $0L) {
            return function(ev) {
                var ev = ev || window.event;
                switch ($0L.action) {
                    case "JavaScript":
                        var f = $0L.js;
                        if (typeof f === 'string') {
                            f = DayPilot.Util.evalFunction($0L.js);
                        };
                        if (typeof f === 'function') {
                            f.call(this, e);
                        };
                        break;
                    case "ContextMenu":
                        var m = $0L.menu;
                        if (typeof m === 'string') {
                            m = DayPilot.Util.evalVariable(m);
                        };
                        if (m && m.show) {
                            m.show(e);
                        };
                        break;
                    case "CallBack":
                        alert("callback not implemented yet, id: " + $0L.id);
                        break;
                };
                ev.cancelBubble = true;
            };
        })($b, e, $0L);
        return a;
    };
    DayPilot.Areas.all = [];
    DayPilot.Areas.hideAreas = function($b, ev) {
        if (!$b) {
            return;
        };
        if (!$b || !$b.active) {
            return;
        };
        var $0S = $b.active;
        var $0J = $b.areas;
        if ($0S && $0S.children) {
            var ev = ev || window.event;
            if (ev) {
                var $d = ev.toElement || ev.relatedTarget;
                if (~DayPilot.indexOf($0S.children, $d)) {
                    return;
                }
            }
        };
        if (!$0J || $0J.length === 0) {
            $b.active = null;
            return;
        };
        DayPilot.de($0J);
        $b.active = null;
        $b.areas = [];
        DayPilot.rfa(DayPilot.Areas.all, $b);
        $0S.children = null;
    };
    DayPilot.Areas.hideAll = function(ev) {
        if (!DayPilot.Areas.all || DayPilot.Areas.all.length === 0) {
            return;
        };
        for (var i = 0; i < DayPilot.Areas.all.length; i++) {
            DayPilot.Areas.hideAreas(DayPilot.Areas.all[i], ev);
        }
    };
    DayPilot.Action = function($R, $0T, $0U, $0V) {
        this.calendar = $R;
        this.isAction = true;
        this.action = $0T;
        this.params = $0U;
        this.data = $0V;
        this.notify = function() {
            $R.internal.invokeEvent("Immediate", this.action, this.params, this.data);
        };
        this.auto = function() {
            $R.internal.invokeEvent("Notify", this.action, this.params, this.data);
        };
        this.queue = function() {
            $R.queue.add(this);
        };
        this.toJSON = function() {
            var $0W = {};
            $0W.name = this.action;
            $0W.params = this.params;
            $0W.data = this.data;
            return $0W;
        };
    };
    DayPilot.Selection = function($0X, end, $0Y, $0Z) {
        this.menuType = 'selection';
        this.start = $0X.isDayPilotDate ? $0X : new DayPilot.Date($0X);
        this.end = end.isDayPilotDate ? end : new DayPilot.Date(end);
        this.resource = $0Y;
        this.root = $0Z;
        this.toJSON = function($10) {
            var $0W = {};
            $0W.start = this.start;
            $0W.end = this.end;
            $0W.resource = this.resource;
            return $0W;
        };
    };
    DayPilot.Link = function($0V, $R) {
        this.isLink = true;
        this.data = $0V;
        this.calendar = $R;
        this.to = function() {
            return this.data.to;
        };
        this.from = function() {
            return this.data.from;
        };
        this.type = function() {
            return this.data.type;
        };
        this.id = function() {
            return this.data.id;
        };
        this.toJSON = function() {
            var $0W = {};
            $0W.from = this.data.from;
            $0W.to = this.data.to;
            $0W.id = this.data.id;
            $0W.type = this.data.type;
            return $0W;
        };
    };
    DayPilot.Event = function($0V, $R, $11) {
        var e = this;
        this.calendar = $R;
        this.data = $0V ? $0V : {};
        this.part = $11 ? $11 : {};
        if (typeof this.data.id === 'undefined') {
            this.data.id = this.data.value;
        };
        var $12 = {};
        var $13 = ["id", "text", "start", "end", "resource","userid"];
        this.isEvent = true;
        this.temp = function() {
            if ($12.dirty) {
                return $12;
            };
            for (var i = 0; i < $13.length; i++) {
                $12[$13[i]] = e.data[$13[i]];
            };
            $12.dirty = true;
            return $12;
        };
        this.copy = function() {
            var $c = {};
            DayPilot.Util.copyProps(e.data, $c);
            return $c;
        };
        this.commit = function() {
            if (!$12.dirty) {
                return;
            };
            for (var i = 0; i < $13.length; i++) {
                e.data[$13[i]] = $12[$13[i]];
            };
            $12.dirty = false;
        };
        this.dirty = function() {
            return $12.dirty;
        };
        this.id = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $14;
            }
        };
        this.value = function($14) {
            if (typeof $14 === 'undefined') {
                return e.id();
            } else {
                e.id($14);
            }
        };
        this.text = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $14;
                this.client.innerHTML($14);
            }
        };
        this.start = function($14) {
            if (typeof $14 === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($14);
            }
        };
        this.end = function($14) {
            if (typeof $14 === 'undefined') {
                if ($R && $R.internal.adjustEndNormalize) {
                    return $R.internal.adjustEndNormalize(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($14);
            }
        };
        this.rawend = function() {
            if (typeof $14 === 'undefined') {
                if ($R && $R.internal.adjustEndIn) {
                    return $R.internal.adjustEndIn(new DayPilot.Date(e.data.end));
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($14);
            }
        };
        this.partStart = function() {
            return new DayPilot.Date(this.part.start);
        };
        this.partEnd = function() {
            return new DayPilot.Date(this.part.end);
        };
        this.row = function() {
            return this.resource();
        };
        this.allday = function() {
            if (typeof $14 === 'undefined') {
                return e.data.allday;
            } else {
                this.temp().allday = $14;
            }
        };
        this.isAllDay = this.allday;
        this.resource = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.resource;
            } else {
                this.temp().resource = $14;
            }
        };
        this.userid = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.userid;
            } else {
                this.temp().userid = $14;
            }
        };
        this.recurrent = function() {
            return e.data.recurrent;
        };
        this.recurrentMasterId = function() {
            return e.data.recurrentMasterId;
        };
        this.useBox = function() {
            return this.part.box;
        };
        this.staticBubbleHTML = function() {
            return this.bubbleHtml();
        };
        this.bubbleHtml = function() {
            if (e.cache) {
                return e.cache.bubbleHtml || e.data.bubbleHtml;
            };
            return e.data.bubbleHtml;
        };
        this.tag = function($15) {
            var $16 = e.data.tag;
            if (!$16) {
                return null;
            };
            if (typeof $15 === 'undefined') {
                return e.data.tag;
            };
            var $l = e.calendar.tagFields;
            var $Q = -1;
            for (var i = 0; i < $l.length; i++) {
                if ($15 === $l[i]) $Q = i;
            };
            if ($Q === -1) {
                throw "Field name not found.";
            };
            return $16[$Q];
        };
        this.client = {};
        this.client.innerHTML = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.html !== "undefined") {
                    return e.cache.html;
                };
                if (typeof e.data.html !== "undefined") {
                    return e.data.html;
                };
                return e.data.text;
            } else {
                e.data.html = $14;
            }
        };
        this.client.html = this.client.innerHTML;
        this.client.header = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.header;
            } else {
                e.data.header = $14;
            }
        };
        this.client.cssClass = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.cssClass;
            } else {
                e.data.cssClass = $14;
            }
        };
        this.client.toolTip = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.toolTip !== "undefined") {
                    return e.cache.toolTip;
                };
                return typeof e.data.toolTip !== 'undefined' ? e.data.toolTip : e.data.text;
            } else {
                e.data.toolTip = $14;
            }
        };
        this.client.backColor = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.backColor !== "undefined") {
                    return e.cache.backColor;
                };
                return typeof e.data.backColor !== "undefined" ? e.data.backColor : e.calendar.eventBackColor;
            } else {
                e.data.backColor = $14;
            }
        };
        this.client.borderColor = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.borderColor !== "undefined") {
                    return e.cache.borderColor;
                };
                return typeof e.data.borderColor !== "undefined" ? e.data.borderColor : e.calendar.eventBorderColor;
            } else {
                e.data.borderColor = $14;
            }
        };
        this.client.barColor = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.barColor !== "undefined") {
                    return e.cache.barColor;
                };
                return typeof e.data.barColor !== "undefined" ? e.data.barColor : e.calendar.durationBarColor;
            } else {
                e.data.barColor = $14;
            }
        };
        this.client.barVisible = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.barHidden !== "undefined") {
                    return !e.cache.barHidden;
                };
                return e.calendar.durationBarVisible && !e.data.barHidden;
            } else {
                e.data.barHidden = !$14;
            }
        };
        this.client.contextMenu = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.oContextMenu) {
                    return e.oContextMenu;
                };
                return (e.data.contextMenu) ? DayPilot.Util.evalVariable(e.data.contextMenu) : null;
            } else {
                e.oContextMenu = $14;
            }
        };
        this.client.moveEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.moveDisabled !== "undefined") {
                    return !e.cache.moveDisabled;
                };
                return e.calendar.eventMoveHandling !== 'Disabled' && !e.data.moveDisabled;
            } else {
                e.data.moveDisabled = !$14;
            }
        };
        this.client.resizeEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.resizeDisabled !== "undefined") {
                    return !e.cache.resizeDisabled;
                };
                return e.calendar.eventResizeHandling !== 'Disabled' && !e.data.resizeDisabled;
            } else {
                e.data.resizeDisabled = !$14;
            }
        };
        this.client.rightClickEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.rightClickDisabled !== "undefined") {
                    return !e.cache.rightClickDisabled;
                };
                return e.calendar.rightClickHandling !== 'Disabled' && !e.data.rightClickDisabled;
            } else {
                e.data.rightClickDisabled = !$14;
            }
        };
        this.client.clickEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.clickDisabled !== "undefined") {
                    return !e.cache.clickDisabled;
                };
                return e.calendar.clickHandling !== 'Disabled' && !e.data.clickDisabled;
            } else {
                e.data.clickDisabled = !$14;
            }
        };
        this.client.deleteEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$14;
            }
        };
        this.client.doubleClickEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.doubleClickDisabled !== "undefined") {
                    return !e.cache.doubleClickDisabled;
                };
                return e.calendar.eventDoubleClickHandling !== 'Disabled' && !e.data.doubleClickDisabled;
            } else {
                e.data.doubleClickDisabled = !$14;
            }
        };
        this.client.deleteClickEnabled = function($14) {
            if (typeof $14 === 'undefined') {
                if (e.cache && typeof e.cache.deleteDisabled !== "undefined") {
                    return !e.cache.deleteDisabled;
                };
                return e.calendar.eventDeleteHandling !== 'Disabled' && !e.data.deleteDisabled;
            } else {
                e.data.deleteDisabled = !$14;
            }
        };
        this.toJSON = function($10) {
            var $0W = {};
            $0W.value = this.id();
            $0W.id = this.id();
            $0W.text = this.text();
            $0W.start = this.start().toJSON();
            $0W.end = this.end().toJSON();
            $0W.resource = this.resource();
            $0W.userid = this.userid();
            $0W.isAllDay = false;
            $0W.recurrentMasterId = this.recurrentMasterId();
            $0W.tag = {};
            if (e.calendar.tagFields) {
                var $l = e.calendar.tagFields;
                for (var i = 0; i < $l.length; i++) {
                    $0W.tag[$l[i]] = this.tag($l[i]);
                }
            };
            return $0W;
        };
    };
    DayPilot.Task = function($0V, $R) {
        if (!$0V) {
            throw "Trying to initialize DayPilot.Task with null data parameter";
        };
        var e = this;
        var event = null;
        if ($0V instanceof DayPilot.Event) {
            event = $0V;
            this.data = $0V.data.task;
        } else if ($0V instanceof DayPilot.Task) {
            return $0V;
        } else if ($0V.isTaskWrapper) {
            this.data = $0V.data;
        } else {
            this.data = $0V;
        };
        var $12 = {};
        var $13 = ["id", "text", "start", "end", "complete", "type"];
        this.isTask = true;
        this.calendar = $R;
        this.temp = function() {
            if ($12.dirty) {
                return $12;
            };
            for (var i = 0; i < $13.length; i++) {
                $12[$13[i]] = e.data[$13[i]];
            };
            $12.dirty = true;
            return $12;
        };
        this.copy = function() {
            var $c = {};
            DayPilot.Util.copyProps(e.data, $c);
            return $c;
        };
        this.commit = function() {
            if (!$12.dirty) {
                return;
            };
            for (var i = 0; i < $13.length; i++) {
                e.data[$13[i]] = $12[$13[i]];
            };
            $12.dirty = false;
        };
        this.dirty = function() {
            return $12.dirty;
        };
        this.id = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.id;
            } else {
                this.temp().id = $14;
            }
        };
        this.text = function($14) {
            if (typeof $14 === 'undefined') {
                return e.data.text;
            } else {
                this.temp().text = $14;
                this.client.innerHTML($14);
            }
        };
        this.start = function($14) {
            if (typeof $14 === 'undefined') {
                return new DayPilot.Date(e.data.start);
            } else {
                this.temp().start = new DayPilot.Date($14);
            }
        };
        this.end = function($14) {
            if (typeof $14 === 'undefined') {
                if ($R && $R.eventEndSpec === "Date") {
                    return new DayPilot.Date(e.data.end).getDatePart().addDays(1);
                };
                return new DayPilot.Date(e.data.end);
            } else {
                this.temp().end = new DayPilot.Date($14);
            }
        };
        this.type = function($14) {
            if (typeof $14 === 'undefined') {
                if (event) {
                    return event.data.type;
                };
                return e.data.type;
            } else {
                this.temp().type = $14;
            }
        };
        this.complete = function($14) {
            if (typeof $14 === 'undefined') {
                if (!e.data.complete) {
                    return 0;
                };
                return e.data.complete;
            } else {
                this.temp().complete = $14;
            }
        };
        this.children = function() {
            var $k = [];
            $k.add = function($0V) {
                var $17 = new DayPilot.Task($0V);
                if (!this.data.children) {
                    this.data.children = [];
                };
                this.children.push($17.data);
            };
            for (var i = 0; this.data.children && i < this.data.children.length; i++) {
                $k.push(new DayPilot.Task(this.data.children[i], $R));
            };
            return $k;
        };
        this.toJSON = function($10) {
            var $0W = {};
            $0W.id = this.id();
            $0W.text = this.text();
            $0W.start = this.start().toJSON();
            $0W.end = this.end().toJSON();
            $0W.type = this.type();
            $0W.tags = {};
            DayPilot.Util.copyProps(this.data.tags, $0W.tags);
            return $0W;
        };
        this.row = {};
        var $0P = this.row;
        $0P.expanded = function($14) {
            if (typeof $14 === 'undefined') {
                if (!e.data.row) {
                    return true;
                };
                return !e.data.row.collapsed;
            } else {
                if (!e.data.row) {
                    e.data.row = {};
                };
                if (!!e.data.row.collapsed !== !$14) {
                    $R.internal.rowObjectForTaskData(e.data).toggle();
                };
                e.data.row.collapsed = !$14;
            }
        };
        $0P.expand = function() {
            $0P.expanded(true);
        };
        $0P.collapse = function() {
            $0P.expanded(false);
        };
        $0P.toggle = function() {
            $0P.expanded(!$0P.expanded());
        };
    };
    DayPilot.request = function($18, $m, $19, $1a) {
        var $1b = DayPilot.createXmlHttp();
        if (!$1b) {
            return;
        };
        $1b.open("POST", $18, true);
        $1b.setRequestHeader('Content-type', 'text/plain');
        $1b.onreadystatechange = function() {
            if ($1b.readyState !== 4) return;
            if ($1b.status !== 200 && $1b.status !== 304) {
                if ($1a) {
                    $1a($1b);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1b.status);
                    }
                };
                return;
            };
            $m($1b);
        };
        if ($1b.readyState === 4) {
            return;
        };
        if (typeof $19 === 'object') {
            $19 = DayPilot.JSON.stringify($19);
        };
        $1b.send($19);
    };
    DayPilot.ajax = function($L) {
        var $1b = DayPilot.createXmlHttp();
        if (!$1b) {
            return;
        };
        var $1c = $L.method || "GET";
        var $1d = $L.success || function() {};
        var $1e = $L.error || function() {};
        var $0V = $L.data;
        var $18 = $L.url;
        $1b.open($1c, $18, true);
        $1b.setRequestHeader('Content-type', 'text/plain');
        $1b.onreadystatechange = function() {
            if ($1b.readyState !== 4) return;
            if ($1b.status !== 200 && $1b.status !== 304) {
                if ($1e) {
                    var $1f = {};
                    $1f.request = $1b;
                    $1e($1f);
                } else {
                    if (window.console) {
                        console.log('HTTP error ' + $1b.status);
                    }
                };
                return;
            };
            var $1f = {};
            $1f.request = $1b;
            $1d($1f);
        };
        if ($1b.readyState === 4) {
            return;
        };
        if (typeof $0V === 'object') {
            $0V = DayPilot.JSON.stringify($19);
        };
        $1b.send($0V);
    };
    DayPilot.createXmlHttp = function() {
        var $1g;
        try {
            $1g = new XMLHttpRequest();
        } catch (e) {
            try {
                $1g = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        };
        return $1g;
    };
    DayPilot.TimeSpan = function($1h) {
        var $1i = 1000 * 60 * 60 * 24;
        var $1j = 1000 * 60 * 60;
        var $1k = 1000 * 60;
        var $1l = 1000;
        this.ticks = $1h;
        this.toString = function($1m) {
            if (!$1m) {
                return this.days() + "." + this.hours() + ":" + this.minutes() + ":" + this.seconds() + "." + this.milliseconds();
            };
            var $1n = this.minutes();
            $1n = ($1n < 10 ? "0" : "") + $1n;
            var $c = $1m;
            $c = $c.replace("mm", $1n);
            $c = $c.replace("m", this.minutes());
            $c = $c.replace("H", this.hours());
            $c = $c.replace("h", this.hours());
            $c = $c.replace("d", this.days());
            $c = $c.replace("s", this.seconds());
            return $c;
        };
        this.totalHours = function() {
            return $1h / $1j;
        };
        this.totalDays = function() {
            return $1h / $1i;
        };
        this.totalHours = function() {
            return $1h / $1j;
        };
        this.totalMinutes = function() {
            return $1h / $1k;
        };
        this.totalSeconds = function() {
            return $1h / $1o;
        };
        this.days = function() {
            return Math.floor(this.totalDays());
        };
        this.hours = function() {
            var $1p = $1h - this.days() * $1i;
            return Math.floor($1p / $1j);
        };
        this.minutes = function() {
            var $1q = $1h - Math.floor(this.totalHours()) * $1j;
            return Math.floor($1q / $1k);
        };
        this.seconds = function() {
            var $1r = $1h - Math.floor(this.totalMinutes()) * $1k;
            return Math.floor($1r / $1l);
        };
        this.milliseconds = function() {
            return $1h % $1l;
        };
    };
    DayPilot.Date = function($1s, $1t) {
        if (typeof $1s === 'undefined') {
            this.isDayPilotDate = true;
            this.d = DayPilot.Date.fromLocal();
            this.ticks = this.d.getTime();
            this.value = this.toStringSortable();
            return;
        };
        if ($1s.isDayPilotDate) {
            return $1s;
        };
        var $1u = DayPilot.Date.Cache.Ctor;
        if ($1u[$1s]) {
            return $1u[$1s];
        };
        if (typeof $1s === "string") {
            var $c = DayPilot.Date.fromStringSortable($1s);
            $1u[$1s] = $c;
            return $c;
        };
        if (typeof $1s === "number") {
            return new DayPilot.Date(new Date($1s));
        };
        if (!$1s.getFullYear) {
            throw "date parameter is not a Date object: " + $1s;
        };
        if ($1t) {
            this.isDayPilotDate = true;
            this.d = DayPilot.Date.fromLocal($1s);
            this.ticks = this.d.getTime();
        } else {
            this.isDayPilotDate = true;
            this.d = $1s;
            this.ticks = this.d.getTime();
        };
        this.value = this.toStringSortable();
    };
    DayPilot.Date.Cache = {};
    DayPilot.Date.Cache.Parsing = {};
    DayPilot.Date.Cache.Ctor = {};
    DayPilot.Date.prototype.addDays = function($1v) {
        return new DayPilot.Date(DayPilot.Date.addDays(this.d, $1v));
    };
    DayPilot.Date.prototype.addHours = function($1w) {
        return this.addTime($1w * 60 * 60 * 1000);
    };
    DayPilot.Date.prototype.addMilliseconds = function($1x) {
        return this.addTime($1x);
    };
    DayPilot.Date.prototype.addMinutes = function($1n) {
        return this.addTime($1n * 60 * 1000);
    };
    DayPilot.Date.prototype.addMonths = function($1y) {
        return new DayPilot.Date(DayPilot.Date.addMonths(this.d, $1y));
    };
    DayPilot.Date.prototype.addSeconds = function($1o) {
        return this.addTime($1o * 1000);
    };
    DayPilot.Date.prototype.addTime = function($1h) {
        return new DayPilot.Date(DayPilot.Date.addTime(this.d, $1h));
    };
    DayPilot.Date.prototype.addYears = function($1z) {
        var n = this.clone();
        n.d.setUTCFullYear(this.getYear() + $1z);
        return n;
    };
    DayPilot.Date.prototype.clone = function() {
        return new DayPilot.Date(DayPilot.Date.clone(this.d));
    };
    DayPilot.Date.prototype.dayOfWeek = function() {
        return this.d.getUTCDay();
    };
    DayPilot.Date.prototype.getDayOfWeek = function() {
        return this.d.getUTCDay();
    };
    DayPilot.Date.prototype.daysInMonth = function() {
        return DayPilot.Date.daysInMonth(this.d);
    };
    DayPilot.Date.prototype.daysInYear = function() {
        var $1A = this.getYear();
        if ($1A % 4 !== 0) {
            return 365;
        };
        if ($1A % 100 === 0 && $1A % 400 !== 0) {
            return 365;
        };
        return 366;
    };
    DayPilot.Date.prototype.dayOfYear = function() {
        return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 86400000) + 1;
    };
    DayPilot.Date.prototype.equals = function($1B) {
        if ($1B === null) {
            return false;
        };
        if ($1B.isDayPilotDate) {
            return DayPilot.Date.equals(this.d, $1B.d);
        } else {
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }
    };
    DayPilot.Date.prototype.firstDayOfMonth = function() {
        var $1C = DayPilot.Date.firstDayOfMonth(this.getYear(), this.getMonth() + 1);
        return new DayPilot.Date($1C);
    };
    DayPilot.Date.prototype.firstDayOfYear = function() {
        var $1A = this.getYear();
        var d = new Date();
        d.setUTCFullYear($1A, 0, 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return new DayPilot.Date(d);
    };
    DayPilot.Date.prototype.firstDayOfWeek = function($1D) {
        var $1C = DayPilot.Date.firstDayOfWeek(this.d, $1D);
        return new DayPilot.Date($1C);
    };
    DayPilot.Date.prototype.getDay = function() {
        return this.d.getUTCDate();
    };
    DayPilot.Date.prototype.getDatePart = function() {
        return new DayPilot.Date(DayPilot.Date.getDate(this.d));
    };
    DayPilot.Date.prototype.getYear = function() {
        return this.d.getUTCFullYear();
    };
    DayPilot.Date.prototype.getHours = function() {
        return this.d.getUTCHours();
    };
    DayPilot.Date.prototype.getMilliseconds = function() {
        return this.d.getUTCMilliseconds();
    };
    DayPilot.Date.prototype.getMinutes = function() {
        return this.d.getUTCMinutes();
    };
    DayPilot.Date.prototype.getMonth = function() {
        return this.d.getUTCMonth();
    };
    DayPilot.Date.prototype.getSeconds = function() {
        return this.d.getUTCSeconds();
    };
    DayPilot.Date.prototype.getTotalTicks = function() {
        return this.getTime();
    };
    DayPilot.Date.prototype.getTime = function() {
        return this.ticks;
    };
    DayPilot.Date.prototype.getTimePart = function() {
        return DayPilot.Date.getTime(this.d);
    };
    DayPilot.Date.prototype.lastDayOfMonth = function() {
        var $1C = DayPilot.Date.lastDayOfMonth(this.getYear(), this.getMonth() + 1);
        return new DayPilot.Date($1C);
    };
    DayPilot.Date.prototype.weekNumber = function() {
        var $1E = this.firstDayOfYear();
        var $1v = (this.getTime() - $1E.getTime()) / 86400000;
        return Math.ceil(($1v + $1E.dayOfWeek() + 1) / 7);
    };
    DayPilot.Date.prototype.local = function() {
        if (typeof this.offset === 'undefined') {
            return new DayPilot.Date(this.d);
        };
        return this.addMinutes(this.offset);
    };
    DayPilot.Date.prototype.weekNumberISO = function() {
        var $1F = false;
        var $1G = this.dayOfYear();
        var $1H = this.firstDayOfYear().dayOfWeek();
        var $1I = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
        if ($1H === 0) {
            $1H = 7;
        };
        if ($1I === 0) {
            $1I = 7;
        };
        var $1J = 8 - ($1H);
        if ($1H === 4 || $1I === 4) {
            $1F = true;
        };
        var $1K = Math.ceil(($1G - ($1J)) / 7.0);
        var $1L = $1K;
        if ($1J >= 4) {
            $1L = $1L + 1;
        };
        if ($1L > 52 && !$1F) {
            $1L = 1;
        };
        if ($1L === 0) {
            $1L = this.firstDayOfYear().addDays(-1).weekNumberISO();
        };
        return $1L;
    };
    DayPilot.Date.prototype.toDateLocal = function() {
        return DayPilot.Date.toLocal(this.d);
    };
    DayPilot.Date.prototype.toJSON = function() {
        return this.value;
    };
    DayPilot.Date.prototype.toString = function($1m, $1M) {
        if (typeof $1m === 'undefined') {
            return this.toStringSortable();
        };
        return new $1N($1m, $1M).print(this);
    };
    DayPilot.Date.prototype.toStringSortable = function() {
        return DayPilot.Date.toStringSortable(this.d);
    };
    DayPilot.Date.parse = function(str, $1m) {
        var p = new $1N($1m);
        return p.parse(str);
    };
    DayPilot.Date.fromStringSortable = function($1O) {
        var $c;
        if (!$1O) {
            throw "Can't create DayPilot.Date from empty string";
        };
        var $o = $1O.length;
        var $1s = $o === 10;
        var $1P = $o = 19;
        var $1Q = $o === 25;
        if (!$1s && !$1P && !$1Q) {
            throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";
        };
        if (DayPilot.Date.Cache.Parsing[$1O]) {
            return DayPilot.Date.Cache.Parsing[$1O];
        };
        var $1A = $1O.substring(0, 4);
        var $1R = $1O.substring(5, 7);
        var $1i = $1O.substring(8, 10);
        var d = new Date();
        d.setUTCFullYear($1A, $1R - 1, $1i);
        if ($1s) {
            d.setUTCHours(0);
            d.setUTCMinutes(0);
            d.setUTCSeconds(0);
            d.setUTCMilliseconds(0);
            $c = new DayPilot.Date(d);
            DayPilot.Date.Cache.Parsing[$1O] = $c;
            return $c;
        };
        var $1w = $1O.substring(11, 13);
        var $1n = $1O.substring(14, 16);
        var $1o = $1O.substring(17, 19);
        d.setUTCHours($1w);
        d.setUTCMinutes($1n);
        d.setUTCSeconds($1o);
        d.setUTCMilliseconds(0);
        var $c = new DayPilot.Date(d);
        if ($1P) {
            DayPilot.Date.Cache.Parsing[$1O] = $c;
            return $c;
        };
        var $1S = $1O[20];
        var $1T = $1O.substring(21, 23);
        var $1U = $1O.substring(24);
        var $1V = $1T * 60 + $1U;
        if ($1S === "-") {
            $1V = -$1V;
        };
        $c = $c.addMinutes(-$1V);
        $c.offset = $1W;
        DayPilot.Date.Cache.Parsing[$1O] = $c;
        return $c;
    };
    DayPilot.Date.addDays = function($1s, $1v) {
        var d = new Date();
        d.setTime($1s.getTime() + $1v * 24 * 60 * 60 * 1000);
        return d;
    };
    DayPilot.Date.addMinutes = function($1s, $1n) {
        var d = new Date();
        d.setTime($1s.getTime() + $1n * 60 * 1000);
        return d;
    };
    DayPilot.Date.addMonths = function($1s, $1y) {
        if ($1y === 0) return $1s;
        var y = $1s.getUTCFullYear();
        var m = $1s.getUTCMonth() + 1;
        if ($1y > 0) {
            while ($1y >= 12) {
                $1y -= 12;
                y++;
            };
            if ($1y > 12 - m) {
                y++;
                m = $1y - (12 - m);
            } else {
                m += $1y;
            }
        } else {
            while ($1y <= -12) {
                $1y += 12;
                y--;
            };
            if (m <= $1y) {
                y--;
                m = 12 - ($1y + m);
            } else {
                m = m + $1y;
            }
        };
        var d = DayPilot.Date.clone($1s);
        d.setUTCFullYear(y);
        d.setUTCMonth(m - 1);
        return d;
    };
    DayPilot.Date.addTime = function($1s, $1X) {
        var d = new Date();
        d.setTime($1s.getTime() + $1X);
        return d;
    };
    DayPilot.Date.clone = function($1Y) {
        var d = new Date();
        return DayPilot.Date.dateFromTicks($1Y.getTime());
    };
    DayPilot.Date.daysDiff = function($1E, $1l) {
        if ($1E.getTime() > $1l.getTime()) {
            return null;
        };
        var i = 0;
        var $1Z = DayPilot.Date.getDate($1E);
        var $20 = DayPilot.Date.getDate($1l);
        while ($1Z < $20) {
            $1Z = DayPilot.Date.addDays($1Z, 1);
            i++;
        };
        return i;
    };
    DayPilot.Date.daysInMonth = function($1A, $1R) {
        if ($1A.getUTCFullYear) {
            $1R = $1A.getUTCMonth() + 1;
            $1A = $1A.getUTCFullYear();
        };
        var m = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if ($1R !== 2) return m[$1R - 1];
        if ($1A % 4 !== 0) return m[1];
        if ($1A % 100 === 0 && $1A % 400 !== 0) return m[1];
        return m[1] + 1;
    };
    DayPilot.Date.daysSpan = function($1E, $1l) {
        if ($1E.getTime() === $1l.getTime()) {
            return 0;
        };
        var $21 = DayPilot.Date.daysDiff($1E, $1l);
        if (DayPilot.Date.equals($1l, DayPilot.Date.getDate($1l))) {
            $21--;
        };
        return $21;
    };
    DayPilot.Date.diff = function($1E, $1l) {
        if (!($1E && $1l && $1E.getTime && $1l.getTime)) {
            throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
        };
        return $1E.getTime() - $1l.getTime();
    };
    DayPilot.Date.equals = function($1E, $1l) {
        return $1E.getTime() === $1l.getTime();
    };
    DayPilot.Date.fromLocal = function($22) {
        if (!$22) {
            $22 = new Date();
        };
        var d = new Date();
        d.setUTCFullYear($22.getFullYear(), $22.getMonth(), $22.getDate());
        d.setUTCHours($22.getHours());
        d.setUTCMinutes($22.getMinutes());
        d.setUTCSeconds($22.getSeconds());
        d.setUTCMilliseconds($22.getMilliseconds());
        return d;
    };
    DayPilot.Date.firstDayOfMonth = function($1A, $1R) {
        var d = new Date();
        d.setUTCFullYear($1A, $1R - 1, 1);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return d;
    };
    DayPilot.Date.firstDayOfWeek = function(d, $1D) {
        var $1D = $1D || 0;
        var $1i = d.getUTCDay();
        while ($1i !== $1D) {
            d = DayPilot.Date.addDays(d, -1);
            $1i = d.getUTCDay();
        };
        return d;
    };
    DayPilot.Date.dateFromTicks = function($1h) {
        var d = new Date();
        d.setTime($1h);
        return d;
    };
    DayPilot.Date.getDate = function($1Y) {
        var d = DayPilot.Date.clone($1Y);
        d.setUTCHours(0);
        d.setUTCMinutes(0);
        d.setUTCSeconds(0);
        d.setUTCMilliseconds(0);
        return d;
    };
    DayPilot.Date.getStart = function($1A, $1R, $1D) {
        var $23 = DayPilot.Date.firstDayOfMonth($1A, $1R);
        var d = DayPilot.Date.firstDayOfWeek($23, $1D);
        return d;
    };
    DayPilot.Date.getTime = function($1Y) {
        var $1s = DayPilot.Date.getDate($1Y);
        return DayPilot.Date.diff($1Y, $1s);
    };
    DayPilot.Date.hours = function($1s, $24) {
        var $1k = $1s.getUTCMinutes();
        if ($1k < 10) $1k = "0" + $1k;
        var $1j = $1s.getUTCHours();
        if ($24) {
            var am = $1j < 12;
            var $1j = $1j % 12;
            if ($1j === 0) {
                $1j = 12;
            };
            var $25 = am ? "AM" : "PM";
            return $1j + ':' + $1k + ' ' + $25;
        } else {
            return $1j + ':' + $1k;
        }
    };
    DayPilot.Date.lastDayOfMonth = function($1A, $1R) {
        var d = DayPilot.Date.firstDayOfMonth($1A, $1R);
        var length = DayPilot.Date.daysInMonth($1A, $1R);
        d.setUTCDate(length);
        return d;
    };
    DayPilot.Date.max = function($1E, $1l) {
        if ($1E.getTime() > $1l.getTime()) {
            return $1E;
        } else {
            return $1l;
        }
    };
    DayPilot.Date.min = function($1E, $1l) {
        if ($1E.getTime() < $1l.getTime()) {
            return $1E;
        } else {
            return $1l;
        }
    };
    DayPilot.Date.today = function() {
        var $26 = new Date();
        var d = new Date();
        d.setUTCFullYear($26.getFullYear());
        d.setUTCMonth($26.getMonth());
        d.setUTCDate($26.getDate());
        return d;
    };
    DayPilot.Date.toLocal = function($1s) {
        if (!$1s) {
            $1s = new Date();
        };
        var d = new Date();
        d.setFullYear($1s.getUTCFullYear(), $1s.getUTCMonth(), $1s.getUTCDate());
        d.setHours($1s.getUTCHours());
        d.setMinutes($1s.getUTCMinutes());
        d.setSeconds($1s.getUTCSeconds());
        d.setMilliseconds($1s.getUTCMilliseconds());
        return d;
    };
    DayPilot.Date.toStringSortable = function($1s) {
        if ($1s.isDayPilotDate) {
            return $1s.toStringSortable();
        };
        var d = $1s;
        var $1l = d.getUTCSeconds();
        if ($1l < 10) $1l = "0" + $1l;
        var $1k = d.getUTCMinutes();
        if ($1k < 10) $1k = "0" + $1k;
        var $1j = d.getUTCHours();
        if ($1j < 10) $1j = "0" + $1j;
        var $1i = d.getUTCDate();
        if ($1i < 10) $1i = "0" + $1i;
        var $1R = d.getUTCMonth() + 1;
        if ($1R < 10) $1R = "0" + $1R;
        var $1A = d.getUTCFullYear();
        if ($1A <= 0) {
            throw "The minimum year supported is 1.";
        };
        if ($1A < 10) {
            $1A = "000" + $1A;
        } else if ($1A < 100) {
            $1A = "00" + $1A;
        } else if ($1A < 1000) {
            $1A = "0" + $1A;
        };
        return $1A + "-" + $1R + "-" + $1i + 'T' + $1j + ":" + $1k + ":" + $1l;
    };
    var $1N = function($1m, $1M) {
        if (typeof $1M === "string") {
            $1M = DayPilot.Locale.find($1M);
        };
        var $1M = $1M || DayPilot.Locale.US;
        var $27 = [{
            "seq": "yyyy",
            "expr": "[0-9]{4,4\u007d",
            "str": function(d) {
                return d.getYear();
            }
        }, {
            "seq": "MMMM",
            "expr": "[a-z]*",
            "str": function(d) {
                var r = $1M.monthNames[d.getMonth()];
                return r;
            }
        }, {
            "seq": "MMM",
            "expr": "[a-z]*",
            "str": function(d) {
                var r = $1M.monthNamesShort[d.getMonth()];
                return r;
            }
        }, {
            "seq": "MM",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "M",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMonth() + 1;
                return r;
            }
        }, {
            "seq": "dddd",
            "expr": "[a-z]*",
            "str": function(d) {
                var r = $1M.dayNames[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "ddd",
            "expr": "[a-z]*",
            "str": function(d) {
                var r = $1M.dayNamesShort[d.getDayOfWeek()];
                return r;
            }
        }, {
            "seq": "dd",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "%d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, {
            "seq": "d",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getDay();
                return r;
            }
        }, {
            "seq": "m",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r;
            }
        }, {
            "seq": "mm",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getMinutes();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "H",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r;
            }
        }, {
            "seq": "HH",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getHours();
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "h",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var $1j = d.getHours();
                var $1j = $1j % 12;
                if ($1j === 0) {
                    $1j = 12;
                };
                return $1j;
            }
        }, {
            "seq": "hh",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var $1j = d.getHours();
                var $1j = $1j % 12;
                if ($1j === 0) {
                    $1j = 12;
                };
                var r = $1j;
                return r < 10 ? "0" + r : r;
            }
        }, {
            "seq": "tt",
            "expr": "(AM|PM)",
            "str": function(d) {
                var $1j = d.getHours();
                var am = $1j < 12;
                return am ? "AM" : "PM";
            }
        }, {
            "seq": "s",
            "expr": "[0-9]{1,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r;
            }
        }, {
            "seq": "ss",
            "expr": "[0-9]{2,2\u007d",
            "str": function(d) {
                var r = d.getSeconds();
                return r < 10 ? "0" + r : r;
            }
        }];
        var $28 = function($V) {
            return $V.replace(/[-[\]{};()*+?.,\\^$|#\s]/g, "\\$&");
        };
        this.init = function() {
            this.year = this.findSequence("yyyy");
            this.month = this.findSequence("MM") || this.findSequence("M");
            this.day = this.findSequence("dd") || this.findSequence("d");
            this.hours = this.findSequence("HH") || this.findSequence("H");
            this.minutes = this.findSequence("mm") || this.findSequence("m");
            this.seconds = this.findSequence("ss") || this.findSequence("s");
        };
        this.findSequence = function($29) {
            var $Q = $1m.indexOf($29);
            if ($Q === -1) {
                return null;
            };
            return {
                "findValue": function($2a) {
                    var $2b = $28($1m);
                    for (var i = 0; i < $27.length; i++) {
                        var $o = $27[i].length;
                        var $2c = ($29 === $27[i].seq);
                        var $2d = $27[i].expr;
                        if ($2c) {
                            $2d = "(" + $2d + ")";
                        };
                        $2b = $2b.replace($27[i].seq, $2d);
                    };
                    try {
                        var r = new RegExp($2b);
                        var $i = r.exec($2a);
                        if (!$i) {
                            return null;
                        };
                        return parseInt($i[1]);
                    } catch (e) {
                        throw "unable to create regex from: " + $2b;
                    }
                }
            };
        };
        this.print = function($1s) {
            var find = function(t) {
                for (var i = 0; i < $27.length; i++) {
                    if ($27[i].seq === t) {
                        return $27[i];
                    }
                };
                return null;
            };
            var $2e = $1m.length <= 0;
            var $2f = 0;
            var $2g = [];
            while (!$2e) {
                var $2h = $1m.substring($2f);
                var $2i = /%?(.)\1*/.exec($2h);
                if ($2i && $2i.length > 0) {
                    var $2j = $2i[0];
                    var q = find($2j);
                    if (q) {
                        $2g.push(q);
                    } else {
                        $2g.push($2j);
                    };
                    $2f += $2j.length;
                    $2e = $1m.length <= $2f;
                } else {
                    $2e = true;
                }
            };
            for (var i = 0; i < $2g.length; i++) {
                var c = $2g[i];
                if (typeof c !== 'string') {
                    $2g[i] = c.str($1s);
                }
            };
            return $2g.join("");
        };
        this.parse = function($2a) {
            var $1A = this.year.findValue($2a);
            if (!$1A) {
                return null;
            };
            var $1R = this.month.findValue($2a);
            var $1i = this.day.findValue($2a);
            var $1w = this.hours ? this.hours.findValue($2a) : 0;
            var $1n = this.minutes ? this.minutes.findValue($2a) : 0;
            var $1o = this.seconds ? this.seconds.findValue($2a) : 0;
            var d = new Date();
            d.setUTCFullYear($1A, $1R - 1, $1i);
            d.setUTCHours($1w);
            d.setUTCMinutes($1n);
            d.setUTCSeconds($1o);
            d.setUTCMilliseconds(0);
            return new DayPilot.Date(d);
        };
        this.init();
    };
    DayPilot.Action = function($R, $0T, $0U, $0V) {
        this.calendar = $R;
        this.isAction = true;
        this.action = $0T;
        this.params = $0U;
        this.data = $0V;
        this.notify = function() {
            $R.invokeEvent("Immediate", this.action, this.params, this.data);
        };
        this.auto = function() {
            $R.invokeEvent("Notify", this.action, this.params, this.data);
        };
        this.queue = function() {
            $R.queue.add(this);
        };
        this.toJSON = function() {
            var $0W = {};
            $0W.name = this.action;
            $0W.params = this.params;
            $0W.data = this.data;
            return $0W;
        };
    };
    DayPilot.Locale = function(id, $0a) {
        this.id = id;
        this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
        this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        this.monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        this.datePattern = "M/d/yyyy";
        this.timePattern = "H:mm";
        this.dateTimePattern = "M/d/yyyy H:mm";
        this.timeFormat = "Clock12Hours";
        this.weekStarts = 0;
        if ($0a) {
            for (var name in $0a) {
                this[name] = $0a[name];
            }
        }
    };
    DayPilot.Locale.all = {};
    DayPilot.Locale.find = function(id) {
        if (!id) {
            return null;
        };
        var $2k = id.toLowerCase();
        if ($2k.length > 2) {
            $2k = DayPilot.Util.replaceCharAt($2k, 2, '-');
        };
        return DayPilot.Locale.all[$2k];
    };
    DayPilot.Locale.register = function($1M) {
        DayPilot.Locale.all[$1M.id] = $1M;
    };
    DayPilot.Locale.register(new DayPilot.Locale('ca-es', {
        'dayNames': ['diumenge', 'dilluns', 'dimarts', 'dimecres', 'dijous', 'divendres', 'dissabte'],
        'dayNamesShort': ['dg', 'dl', 'dt', 'dc', 'dj', 'dv', 'ds'],
        'monthNames': ['gener', 'febrer', 'març', 'abril', 'maig', 'juny', 'juliol', 'agost', 'setembre', 'octubre', 'novembre', 'desembre', ''],
        'monthNamesShort': ['gen.', 'febr.', 'març', 'abr.', 'maig', 'juny', 'jul.', 'ag.', 'set.', 'oct.', 'nov.', 'des.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('cs-cz', {
        'dayNames': ['neděle', 'pondělí', 'úterý', 'středa', 'čtvrtek', 'pátek', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'út', 'st', 'čt', 'pá', 'so'],
        'monthNames': ['leden', 'únor', 'březen', 'duben', 'květen', 'červen', 'červenec', 'srpen', 'září', 'říjen', 'listopad', 'prosinec', ''],
        'monthNamesShort': ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X', 'XI', 'XII', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd. M. yyyy',
        'dateTimePattern': 'd. M. yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('da-dk', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'marts', 'april', 'maj', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yyyy',
        'dateTimePattern': 'dd-MM-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-at', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Jänner', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jän', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-ch', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-de', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('de-lu', {
        'dayNames': ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        'dayNamesShort': ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
        'monthNames': ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-au', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-ca', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-gb', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('en-us', {
        'dayNames': ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
        'dayNamesShort': ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
        'monthNames': ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],
        'monthNamesShort': ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],
        'timePattern': 'h:mm tt',
        'datePattern': 'M/d/yyyy',
        'dateTimePattern': 'M/d/yyyy h:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-es', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('es-mx', {
        'dayNames': ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],
        'dayNamesShort': ['do.', 'lu.', 'ma.', 'mi.', 'ju.', 'vi.', 'sá.'],
        'monthNames': ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre', ''],
        'monthNamesShort': ['ene.', 'feb.', 'mar.', 'abr.', 'may.', 'jun.', 'jul.', 'ago.', 'sep.', 'oct.', 'nov.', 'dic.', ''],
        'timePattern': 'hh:mm tt',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy hh:mm tt',
        'timeFormat': 'Clock12Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('eu-es', {
        'dayNames': ['igandea', 'astelehena', 'asteartea', 'asteazkena', 'osteguna', 'ostirala', 'larunbata'],
        'dayNamesShort': ['ig', 'al', 'as', 'az', 'og', 'or', 'lr'],
        'monthNames': ['urtarrila', 'otsaila', 'martxoa', 'apirila', 'maiatza', 'ekaina', 'uztaila', 'abuztua', 'iraila', 'urria', 'azaroa', 'abendua', ''],
        'monthNamesShort': ['urt.', 'ots.', 'mar.', 'api.', 'mai.', 'eka.', 'uzt.', 'abu.', 'ira.', 'urr.', 'aza.', 'abe.', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fi-fi', {
        'dayNames': ['sunnuntai', 'maanantai', 'tiistai', 'keskiviikko', 'torstai', 'perjantai', 'lauantai'],
        'dayNamesShort': ['su', 'ma', 'ti', 'ke', 'to', 'pe', 'la'],
        'monthNames': ['tammikuu', 'helmikuu', 'maaliskuu', 'huhtikuu', 'toukokuu', 'kesäkuu', 'heinäkuu', 'elokuu', 'syyskuu', 'lokakuu', 'marraskuu', 'joulukuu', ''],
        'monthNamesShort': ['tammi', 'helmi', 'maalis', 'huhti', 'touko', 'kesä', 'heinä', 'elo', 'syys', 'loka', 'marras', 'joulu', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-be', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd-MM-yy',
        'dateTimePattern': 'dd-MM-yy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-ch', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-fr', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('fr-lu', {
        'dayNames': ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'],
        'dayNamesShort': ['di', 'lu', 'ma', 'me', 'je', 've', 'sa'],
        'monthNames': ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre', ''],
        'monthNamesShort': ['janv.', 'févr.', 'mars', 'avr.', 'mai', 'juin', 'juil.', 'août', 'sept.', 'oct.', 'nov.', 'déc.', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('gl-es', {
        'dayNames': ['domingo', 'luns', 'martes', 'mércores', 'xoves', 'venres', 'sábado'],
        'dayNamesShort': ['do', 'lu', 'ma', 'mé', 'xo', 've', 'sá'],
        'monthNames': ['xaneiro', 'febreiro', 'marzo', 'abril', 'maio', 'xuño', 'xullo', 'agosto', 'setembro', 'outubro', 'novembro', 'decembro', ''],
        'monthNamesShort': ['xan', 'feb', 'mar', 'abr', 'maio', 'xuño', 'xul', 'ago', 'set', 'out', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-it', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('it-ch', {
        'dayNames': ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'],
        'dayNamesShort': ['do', 'lu', 'ma', 'me', 'gi', 've', 'sa'],
        'monthNames': ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre', ''],
        'monthNamesShort': ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ja-jp', {
        'dayNames': ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'],
        'dayNamesShort': ['日', '月', '火', '水', '木', '金', '土'],
        'monthNames': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/MM/dd',
        'dateTimePattern': 'yyyy/MM/dd H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nb-no', {
        'dayNames': ['søndag', 'mandag', 'tirsdag', 'onsdag', 'torsdag', 'fredag', 'lørdag'],
        'dayNamesShort': ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-nl', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'd-M-yyyy',
        'dateTimePattern': 'd-M-yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nl-be', {
        'dayNames': ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'],
        'dayNamesShort': ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'],
        'monthNames': ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd/MM/yyyy',
        'dateTimePattern': 'd/MM/yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('nn-no', {
        'dayNames': ['søndag', 'måndag', 'tysdag', 'onsdag', 'torsdag', 'fredag', 'laurdag'],
        'dayNamesShort': ['sø', 'må', 'ty', 'on', 'to', 'fr', 'la'],
        'monthNames': ['januar', 'februar', 'mars', 'april', 'mai', 'juni', 'juli', 'august', 'september', 'oktober', 'november', 'desember', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'mai', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'des', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-br', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pl-pl', {
        'dayNames': ['niedziela', 'poniedziałek', 'wtorek', 'środa', 'czwartek', 'piątek', 'sobota'],
        'dayNamesShort': ['N', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'So'],
        'monthNames': ['styczeń', 'luty', 'marzec', 'kwiecień', 'maj', 'czerwiec', 'lipiec', 'sierpień', 'wrzesień', 'październik', 'listopad', 'grudzień', ''],
        'monthNamesShort': ['sty', 'lut', 'mar', 'kwi', 'maj', 'cze', 'lip', 'sie', 'wrz', 'paź', 'lis', 'gru', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('pt-pt', {
        'dayNames': ['domingo', 'segunda-feira', 'terça-feira', 'quarta-feira', 'quinta-feira', 'sexta-feira', 'sábado'],
        'dayNamesShort': ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
        'monthNames': ['janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro', ''],
        'monthNamesShort': ['jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'dd/MM/yyyy',
        'dateTimePattern': 'dd/MM/yyyy HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 0
    }));
    DayPilot.Locale.register(new DayPilot.Locale('ru-ru', {
        'dayNames': ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'],
        'dayNamesShort': ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],
        'monthNames': ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь', ''],
        'monthNamesShort': ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек', ''],
        'timePattern': 'H:mm',
        'datePattern': 'dd.MM.yyyy',
        'dateTimePattern': 'dd.MM.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sk-sk', {
        'dayNames': ['nedeľa', 'pondelok', 'utorok', 'streda', 'štvrtok', 'piatok', 'sobota'],
        'dayNamesShort': ['ne', 'po', 'ut', 'st', 'št', 'pi', 'so'],
        'monthNames': ['január', 'február', 'marec', 'apríl', 'máj', 'jún', 'júl', 'august', 'september', 'október', 'november', 'december', ''],
        'monthNamesShort': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', ''],
        'timePattern': 'H:mm',
        'datePattern': 'd.M.yyyy',
        'dateTimePattern': 'd.M.yyyy H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('sv-se', {
        'dayNames': ['söndag', 'måndag', 'tisdag', 'onsdag', 'torsdag', 'fredag', 'lördag'],
        'dayNamesShort': ['sö', 'må', 'ti', 'on', 'to', 'fr', 'lö'],
        'monthNames': ['januari', 'februari', 'mars', 'april', 'maj', 'juni', 'juli', 'augusti', 'september', 'oktober', 'november', 'december', ''],
        'monthNamesShort': ['jan', 'feb', 'mar', 'apr', 'maj', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec', ''],
        'timePattern': 'HH:mm',
        'datePattern': 'yyyy-MM-dd',
        'dateTimePattern': 'yyyy-MM-dd HH:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.register(new DayPilot.Locale('zh-cn', {
        'dayNames': ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
        'dayNamesShort': ['日', '一', '二', '三', '四', '五', '六'],
        'monthNames': ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月', ''],
        'monthNamesShort': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月', ''],
        'timePattern': 'H:mm',
        'datePattern': 'yyyy/M/d',
        'dateTimePattern': 'yyyy/M/d H:mm',
        'timeFormat': 'Clock24Hours',
        'weekStarts': 1
    }));
    DayPilot.Locale.US = DayPilot.Locale.find("en-us");
    DayPilot.Switcher = function() {
        var $2l = this;
        this.views = [];
        this.switchers = [];
        this.navigator = {};
        this.selectedClass = null;
        this.active = null;
        this.day = new DayPilot.Date();
        this.navigator.updateMode = function($2m) {
            var $2n = $2l.navigator.control;
            if (!$2n) {
                return;
            };
            $2n.selectMode = $2m;
            $2n.select($2l.day);
        };
        this.addView = function($2o, $09) {
            var element;
            if (typeof $2o === 'string') {
                element = document.getElementById($2o);
                if (!element) {
                    throw "Element not found: " + $2o;
                }
            } else {
                element = $2o;
            };
            var $2n = element;
            var $2p = {};
            $2p.isView = true;
            $2p.id = $2n.id;
            $2p.control = $2n;
            $2p.options = $09 || {};
            $2p.hide = function() {
                if ($2n.hide) {
                    $2n.hide();
                } else if ($2n.nav && $2n.nav.top) {
                    $2n.nav.top.style.display = 'none';
                } else {
                    $2n.style.display = 'none';
                }
            };
            $2p.sendNavigate = function($1s) {
                var $2q = (function() {
                    if ($2n.backendUrl) {
                        return true;
                    };
                    if (typeof WebForm_DoCallback === 'function' && $2n.uniqueID) {
                        return true;
                    };
                    return false;
                })();
                if ($2q) {
                    if ($2n.commandCallBack) {
                        $2n.commandCallBack("navigate", {
                            "day": $1s
                        });
                    }
                }
            };
            $2p.show = function() {
                $2l.$2R();
                if ($2n.show) {
                    $2n.show();
                } else if ($2n.nav && $2n.nav.top) {
                    $2n.nav.top.style.display = '';
                } else {
                    $2n.style.display = '';
                }
            };
            $2p.selectMode = function() {
                if ($2p.options.navigatorSelectMode) {
                    return $2p.options.navigatorSelectMode;
                };
                if ($2n.isCalendar) {
                    switch ($2n.viewType) {
                        case "Day":
                            return "day";
                        case "Week":
                            return "week";
                        case "WorkWeek":
                            return "week";
                        default:
                            return "day";
                    }
                } else if ($2n.isMonth) {
                    switch ($2n.viewType) {
                        case "Month":
                            return "month";
                        case "Weeks":
                            return "week";
                        default:
                            return "day";
                    }
                };
                return "day";
            };
            this.views.push($2p);
            return $2p;
        };
        this.addButton = function(id, $2n) {
            var element;
            if (typeof id === 'string') {
                element = document.getElementById(id);
                if (!element) {
                    throw "Element not found: " + id;
                }
            } else {
                element = id;
            };
            var $2p = this.$2S($2n);
            if (!$2p) {
                $2p = this.addView($2n);
            };
            var $2r = {};
            $2r.isSwitcher = true;
            $2r.element = element;
            $2r.id = element.id;
            $2r.view = $2p;
            $2r.onClick = function(ev) {
                $2l.show($2r);
                $2l.$2T($2r);
                ev = ev || window.event;
                if (ev) {
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                }
            };
            DayPilot.re(element, 'click', $2r.onClick);
            this.switchers.push($2r);
            return $2r;
        };
        this.select = function(id) {
            var $2r = this.$2U(id);
            if ($2r) {
                $2r.onClick();
            } else if (this.switchers.length > 0) {
                this.switchers[0].onClick();
            }
        };
        this.$2U = function(id) {
            for (var i = 0; i < this.switchers.length; i++) {
                var $2r = this.switchers[i];
                if ($2r.id === id) {
                    return $2r;
                }
            };
            return null;
        };
        this.$2T = function($2r) {
            if (!this.selectedClass) {
                return;
            };
            for (var i = 0; i < this.switchers.length; i++) {
                var s = this.switchers[i];
                DayPilot.Util.removeClass(s.element, this.selectedClass);
            };
            DayPilot.Util.addClass($2r.element, this.selectedClass);
        };
        this.addNavigator = function($2n) {
            $2l.navigator.control = $2n;
            $2n.timeRangeSelectedHandling = "JavaScript";
            $2n.onTimeRangeSelected = function() {
                var $0X, end, $1i;
                if ($2n.api === 1) {
                    $0X = arguments[0];
                    end = arguments[1];
                    $1i = arguments[2];
                } else {
                    var $1f = arguments[0];
                    $0X = $1f.start;
                    end = $1f.end;
                    $1i = $1f.day;
                };
                $2l.day = $1i;
                $2l.active.sendNavigate($2l.day);
                if ($2l.onTimeRangeSelected) {
                    var $1f = {};
                    $1f.start = $0X;
                    $1f.end = end;
                    $1f.day = $1i;
                    $1f.target = $2l.active.control;
                    $2l.onTimeRangeSelected($1f);
                }
            };
        };
        this.show = function(el) {
            var $2p, $2r;
            if (el.isSwitcher) {
                $2r = el;
                $2p = $2r.view;
            } else {
                $2p = el.isView ? el : this.$2S(el);
                if (this.active === $2p) {
                    return;
                }
            };
            if ($2l.onSelect) {
                var $1f = {};
                $1f.source = $2r ? $2r.element : null;
                $1f.target = $2p.control;
                $2l.onSelect($1f);
            };
            this.active = $2p;
            $2p.show();
            var $2m = $2p.selectMode();
            $2l.navigator.updateMode($2m);
            $2l.active.sendNavigate(this.day);
        };
        this.$2S = function($2n) {
            for (var i = 0; i < this.views.length; i++) {
                if (this.views[i].control === $2n) {
                    return this.views[i];
                }
            };
            return null;
        };
        this.$2R = function() {
            for (var i = 0; i < this.views.length; i++) {
                this.views[i].hide();
            }
        };
    };
    (function() {
        if (DayPilot.Global.defaultCss) {
            return;
        };
        var $N = DayPilot.sheet();
        $N.add(".bubble_default_main", "cursor: default;");
        $N.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);');
        $N.add(".calendar_default_main", "border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $N.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #666;background: #eee;");
        $N.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #999;");
        $N.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $N.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $N.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;");
        $N.add(".calendar_default_colheader_inner", "text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $N.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;");
        $N.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff");
        $N.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;");
        $N.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;");
        $N.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'color: #666; border: 1px solid #999;');
        $N.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;");
        $N.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;");
        $N.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;");
        $N.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;");
        $N.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;");
        $N.add(".calendar_default_event", "cursor: default;");
        $N.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;");
        $N.add(".calendar_default_shadow_inner", "background-color: #666666;	opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $N.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;");
        $N.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $N.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);");
        $N.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);");
        $N.add(".calendar_default_now", "background-color: red;");
        $N.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);");
        $N.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);");
        $N.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;");
        $N.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;");
        $N.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;");
        $N.add(".menu_default_main a span", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;");
        $N.add(".menu_default_main a:hover", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");');
        $N.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;");
        $N.add(".month_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;");
        $N.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;");
        $N.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;");
        $N.add(".month_default_cell_header", "text-align: right;padding-right: 2px;");
        $N.add(".month_default_header_inner", 'text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;');
        $N.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");');
        $N.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;');
        $N.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;");
        $N.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;");
        $N.add(".month_default_event_hover .month_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");');
        $N.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner", "background: #ddd;");
        $N.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $N.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $N.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $N.add(".navigator_default_main", "border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;");
        $N.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;");
        $N.add(".navigator_default_day", "color: black;");
        $N.add(".navigator_default_weekend", "background-color: #f0f0f0;");
        $N.add(".navigator_default_dayheader", "color: black;");
        $N.add(".navigator_default_line", "border-bottom: 1px solid #A0A0A0;");
        $N.add(".navigator_default_dayother", "color: gray;");
        $N.add(".navigator_default_todaybox", "border: 1px solid red;");
        $N.add(".navigator_default_select, .navigator_default_weekend.navigator_default_select", "background-color: #FFE794;");
        $N.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", 'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");');
        $N.add(".navigator_default_busy", "font-weight: bold;");
        $N.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;");
        $N.add(".scheduler_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $N.add(".scheduler_default_timeheader", "cursor: default;color: #666;");
        $N.add(".scheduler_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $N.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #666;background: #eee;");
        $N.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #666;background: #eee;");
        $N.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $N.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $N.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol", "text-align: center;");
        $N.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $N.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $N.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #aaa;");
        $N.add(".scheduler_default_divider_horizontal", "background-color: #aaa;");
        $N.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;");
        $N.add(".scheduler_default_matrix_vertical_break", "background-color: #000;");
        $N.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;");
        $N.add(".scheduler_default_resourcedivider", "background-color: #aaa;");
        $N.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $N.add(".scheduler_default_event", "font-size:12px;color:#666;");
        $N.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $N.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $N.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $N.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".scheduler_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $N.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $N.add(".scheduler_default_columnheader_inner", "font-weight: bold;");
        $N.add(".scheduler_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $N.add(".scheduler_default_columnheader_cell_inner", "padding: 2px;");
        $N.add(".scheduler_default_cell", "background-color: #f9f9f9;");
        $N.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;");
        $N.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $N.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $N.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $N.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $N.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $N.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $N.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $N.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $N.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $N.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $N.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $N.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $N.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $N.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red");
        $N.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red");
        $N.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;");
        $N.add(".scheduler_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $N.add(".scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;");
        $N.add(".scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $N.add(".scheduler_default_header_icon:hover", "background-color: #ccc;");
        $N.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';");
        $N.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';");
        $N.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $N.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white;");
        $N.add(".scheduler_default_rowheader textarea", "padding: 3px;");
        $N.add(".scheduler_default_rowheader_scroll", "cursor: default;");
        $N.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: red;");
        $N.add(".scheduler_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $N.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;");
        $N.add(".gantt_default_main", "border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;");
        $N.add(".gantt_default_timeheader", "cursor: default;color: #666;");
        $N.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;");
        $N.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #666;background: #eee;");
        $N.add(".gantt_default_rowheader,.gantt_default_corner", "color: #666;background: #eee;");
        $N.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $N.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;");
        $N.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol", "text-align: center;");
        $N.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;");
        $N.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;");
        $N.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #aaa;");
        $N.add(".gantt_default_divider_horizontal", "background-color: #aaa;");
        $N.add(".gantt_default_matrix_vertical_line", "background-color: #eee;");
        $N.add(".gantt_default_matrix_vertical_break", "background-color: #000;");
        $N.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;");
        $N.add(".gantt_default_resourcedivider", "background-color: #aaa;");
        $N.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;");
        $N.add(".gantt_default_event", "font-size:12px;color:#666;");
        $N.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;");
        $N.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
        $N.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
        $N.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;");
        $N.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;');
        $N.add(".gantt_default_columnheader_inner", "font-weight: bold;");
        $N.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);");
        $N.add(".gantt_default_columnheader_cell_inner", "padding: 2px;");
        $N.add(".gantt_default_cell", "background-color: #f9f9f9;");
        $N.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;");
        $N.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
        $N.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);");
        $N.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);");
        $N.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);");
        $N.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");');
        $N.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;");
        $N.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;");
        $N.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;");
        $N.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;");
        $N.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;");
        $N.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;");
        $N.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;");
        $N.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;");
        $N.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;");
        $N.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;");
        $N.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");
        $N.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");
        $N.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");
        $N.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:$2s.Microsoft.Matrix($2t='auto expand',$2u=0.7071067811865476,$2v=-0.7071067811865475,$2w=0.7071067811865475,$2x=0.7071067811865476);\"");
        $N.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $N.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;");
        $N.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;");
        $N.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;");
        $N.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");
        $N.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;");
        $N.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);");
        $N.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)");
        $N.add(".gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;");
        $N.add(".gantt_default_header_icon:hover", "background-color: #ccc;");
        $N.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';");
        $N.add(".gantt_default_header_icon_show:before", "content: '\\00BB';");
        $N.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);");
        $N.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;");
        $N.add(".gantt_default_rowheader textarea", "padding: 5px;");
        $N.add(".gantt_default_rowheader_scroll", "cursor: default;");
        $N.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: red;");
        $N.add(".gantt_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);");
        $N.commit();
        DayPilot.Global.defaultCss = true;
    })();
    var $2y = function(id) {
        var $2l = this;
        this.id = id;
        this.widths = [];
        this.titles = [];
        this.height = null;
        this.splitterWidth = 3;
        this.css = {};
        this.css.title = null;
        this.css.titleInner = null;
        this.css.splitter = null;
        this.blocks = [];
        this.drag = {};
        this.updated = function() {};
        this.updating = function() {};
        this.init = function() {
            var $b;
            if (!id) {
                throw "error: id not provided";
            } else if (typeof id === 'string') {
                $b = document.getElementById(id);
            } else if (id.appendChild) {
                $b = id;
            } else {
                throw "error: invalid object provided";
            };
            this.div = $b;
            this.blocks = [];
            for (var i = 0; i < this.widths.length; i++) {
                var s = document.createElement("div");
                s.style.display = "inline-block";
                if ($2l.height !== null) {
                    s.style.height = $2l.height + "px";
                } else {
                    s.style.height = "100%";
                };
                s.style.width = (this.widths[i] - this.splitterWidth) + "px";
                s.style.overflow = 'hidden';
                s.style.verticalAlign = "top";
                s.style.position = "relative";
                s.setAttribute("unselectable", "on");
                s.className = this.css.title;
                $b.appendChild(s);
                var $08 = document.createElement("div");
                $08.innerHTML = this.titles[i];
                $08.setAttribute("unselectable", "on");
                $08.className = this.css.titleInner;
                s.appendChild($08);
                var $2z = document.createElement("div");
                $2z.style.display = "inline-block";
                if ($2l.height !== null) {
                    $2z.style.height = $2l.height + "px";
                } else {
                    $2z.style.height = "100%";
                };
                $2z.style.width = this.splitterWidth + "px";
                $2z.style.position = "relative";
                $2z.appendChild(document.createElement("div"));
                $2z.style.cursor = "col-resize";
                $2z.setAttribute("unselectable", "on");
                $2z.className = this.css.splitter;
                var $0V = {};
                $0V.index = i;
                $0V.width = this.widths[i];
                $2z.data = $0V;
                $2z.onmousedown = function(ev) {
                    $2l.drag.start = DayPilot.page(ev);
                    $2l.drag.data = this.data;
                    $2l.div.style.cursor = "col-resize";
                    ev = ev || window.event;
                    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
                };
                $b.appendChild($2z);
                var $2A = {};
                $2A.section = s;
                $2A.handle = $2z;
                this.blocks.push($2A);
            };
            this.registerGlobalHandlers();
        };
        this.updateWidths = function() {
            for (var i = 0; i < this.blocks.length; i++) {
                var $2A = this.blocks[i];
                var $v = this.widths[i];
                $2A.handle.data.width = $v;
                this.$2V(i);
            }
        };
        this.$2V = function(i) {
            var $2A = this.blocks[i];
            var $v = this.widths[i];
            $2A.section.style.width = ($v - this.splitterWidth) + "px";
        };
        this.totalWidth = function() {
            var t = 0;
            for (var i = 0; i < this.widths.length; i++) {
                t += this.widths[i];
            };
            return t;
        };
        this.gMouseMove = function(ev) {
            if (!$2l.drag.start) {
                return;
            };
            var $0V = $2l.drag.data;
            var $2B = DayPilot.page(ev);
            var $2C = $2B.x - $2l.drag.start.x;
            var i = $0V.index;
            $2l.widths[i] = Math.max(5, $0V.width + $2C);
            $2l.$2V(i);
            var $0U = {};
            $0U.widths = this.widths;
            $0U.index = $0V.index;
            $2l.updating($0U);
        };
        this.gMouseUp = function(ev) {
            if (!$2l.drag.start) {
                return;
            };
            $2l.drag.start = null;
            document.body.style.cursor = "";
            $2l.div.style.cursor = "";
            var $0V = $2l.drag.data;
            $0V.width = $2l.widths[$0V.index];
            var $0U = {};
            $0U.widths = this.widths;
            $0U.index = $0V.index;
            $2l.updated($0U);
        };
        this.registerGlobalHandlers = function() {
            DayPilot.re(document, 'mousemove', this.gMouseMove);
            DayPilot.re(document, 'mouseup', this.gMouseUp);
        };
    };
    DayPilot.Splitter = $2y;
})();
DayPilot.JSON = {};
(function() {
    function f(n) {
        return n < 10 ? '0' + n : n;
    };
    if (typeof Date.prototype.toJSON !== 'function') {
        Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + '-' + f(this.getUTCMonth() + 1) + '-' + f(this.getUTCDate()) + 'T' + f(this.getUTCHours()) + ':' + f(this.getUTCMinutes()) + ':' + f(this.getUTCSeconds()) + 'Z' : null;
        };
    };
    if (typeof String.prototype.toJSON !== 'function') {
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function($10) {
            return this.valueOf();
        };
    };
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $2D = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        $2E, $2F, $2G = {
            '\b': '\\b',
            '\t': '\\t',
            '\n': '\\n',
            '\f': '\\f',
            '\r': '\\r',
            '"': '\\"',
            '\\': '\\\\'
        },
        $2H;

    function quote($1O) {
        $2D.lastIndex = 0;
        return $2D.test($1O) ? '"' + $1O.replace($2D, function(a) {
            var c = $2G[a];
            if (typeof c === 'string') {
                return c;
            };
            return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + $1O + '"';
    };

    function str($10, $2I) {
        var i, k, v, length, $2J = $2E,
            $2K, $2L = $2I[$10];
        if ($2L && typeof $2L === 'object' && typeof $2L.toJSON === 'function' && !$2L.ignoreToJSON) {
            $2L = $2L.toJSON($10);
        };
        if (typeof $2H === 'function') {
            $2L = $2H.call($2I, $10, $2L);
        };
        switch (typeof $2L) {
            case 'string':
                return quote($2L);
            case 'number':
                return isFinite($2L) ? String($2L) : 'null';
            case 'boolean':
            case 'null':
                return String($2L);
            case 'object':
                if (!$2L) {
                    return 'null';
                };
                $2E += $2F;
                $2K = [];
                if (typeof $2L.length === 'number' && !$2L.propertyIsEnumerable('length')) {
                    length = $2L.length;
                    for (i = 0; i < length; i += 1) {
                        $2K[i] = str(i, $2L) || 'null';
                    };
                    v = $2K.length === 0 ? '[]' : $2E ? '[\n' + $2E + $2K.join(',\n' + $2E) + '\n' + $2J + ']' : '[' + $2K.join(',') + ']';
                    $2E = $2J;
                    return v;
                };
                if ($2H && typeof $2H === 'object') {
                    length = $2H.length;
                    for (i = 0; i < length; i += 1) {
                        k = $2H[i];
                        if (typeof k === 'string') {
                            v = str(k, $2L);
                            if (v) {
                                $2K.push(quote(k) + ($2E ? ': ' : ':') + v);
                            }
                        }
                    }
                } else {
                    for (k in $2L) {
                        if (Object.hasOwnProperty.call($2L, k)) {
                            v = str(k, $2L);
                            if (v) {
                                $2K.push(quote(k) + ($2E ? ': ' : ':') + v);
                            }
                        }
                    }
                };
                v = ($2K.length === 0) ? '{\u007D' : $2E ? '{\n' + $2E + $2K.join(',\n' + $2E) + '\n' + $2J + '\u007D' : '{' + $2K.join(',') + '\u007D';
                $2E = $2J;
                return v;
        }
    };
    DayPilot.JSON.stringify = function($2L, $2M, $2N) {
        var i;
        $2E = '';
        $2F = '';
        if (typeof $2N === 'number') {
            for (i = 0; i < $2N; i += 1) {
                $2F += ' ';
            }
        } else if (typeof $2N === 'string') {
            $2F = $2N;
        };
        $2H = $2M;
        if ($2M && typeof $2M !== 'function' && (typeof $2M !== 'object' || typeof $2M.length !== 'number')) {
            throw new Error('JSON.stringify');
        };
        return str('', {
            '': $2L
        });
    };
    DayPilot.JSON.parse = function($V, $2O) {
        var j;

        function walk($2I, $10) {
            var k, v, $2L = $2I[$10];
            if ($2L && typeof $2L === 'object') {
                for (k in $2L) {
                    if (Object.prototype.hasOwnProperty.call($2L, k)) {
                        v = walk($2L, k);
                        if (v !== undefined) {
                            $2L[k] = v;
                        } else {
                            delete $2L[k];
                        }
                    }
                }
            };
            return $2O.call($2I, $10, $2L);
        };
        $V = String($V);
        cx.lastIndex = 0;
        if (cx.test($V)) {
            $V = $V.replace(cx, function(a) {
                return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
            });
        };
        if (/^[\],:{};\s]*$/
            .test($V.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']').replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
            j = eval('(' + $V + ')');
            return typeof $2O === 'function' ? walk({
                '': j
            }, '') : j;
        };
        throw new SyntaxError('JSON.parse');
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotBubble === 'undefined') {
    var DayPilotBubble = DayPilot.BubbleVisible = {};
};
(function() {
    if (typeof DayPilot.Bubble !== 'undefined') {
        return;
    };
    var DayPilotBubble = {};
    DayPilotBubble.mouseMove = function(ev) {
        if (typeof(DayPilotBubble) === 'undefined') {
            return;
        };
        DayPilotBubble.mouse = DayPilotBubble.mousePosition(ev);
        var b = DayPilotBubble.active;
        if (b && b.showPosition) {
            var $a = b.showPosition;
            var $b = DayPilotBubble.mouse;
            if ($a.clientX !== $b.clientX || $a.clientY !== $b.clientY) {}
        }
    };
    DayPilotBubble.mousePosition = function(e) {
        var $c = DayPilot.page(e);
        if (e) {
            $c.clientY = e.clientY;
            $c.clientX = e.clientX;
        };
        return $c;
    };
    DayPilot.Bubble = function($d) {
        this.v = '1418';
        var $e = this;
        this.backgroundColor = "#ffffff";
        this.border = "1px solid #000000";
        this.corners = 'Rounded';
        this.cssOnly = true;
        this.hideAfter = 500;
        this.loadingText = "Loading...";
        this.animated = true;
        this.animation = "fast";
        this.position = "EventTop";
        this.hideOnClick = true;
        this.showAfter = 500;
        this.showLoadingLabel = true;
        this.useShadow = true;
        this.zIndex = 10;
        this.cssClassPrefix = "bubble_default";
        this.elements = {};
        this.callBack = function($f) {
            if (this.aspnet()) {
                WebForm_DoCallback(this.uniqueID, DayPilot.JSON.stringify($f), this.updateView, this, this.callbackError, true);
            } else {
                if ($f.calendar.internal.bubbleCallBack) {
                    $f.calendar.internal.bubbleCallBack($f, this);
                } else {
                    $f.calendar.bubbleCallBack($f, this);
                }
            }
        };
        this.callbackError = function($c, $g) {
            alert($c);
        };
        this.updateView = function($c, $g) {
            if ($e !== $g) {
                throw "Callback object mismatch (internal error)";
            };
            if (!$c) {
                $e.removeDiv();
                $e.removeShadow();
                return;
            };
            DayPilotBubble.active = $e;
            if ($e) {
                if ($e.elements.inner) {
                    $e.elements.inner.innerHTML = $c;
                };
                $e.adjustPosition();
                if (!$e.animated) {
                    $e.addShadow();
                }
            }
        };
        this.init = function() {};
        this.aspnet = function() {
            return (typeof WebForm_DoCallback !== 'undefined');
        };
        this.rounded = function() {
            return this.corners === 'Rounded';
        };
        this.showEvent = function(e, $h) {
            var a = new DayPilotBubble.CallBackArgs(e.calendar || e.root, 'Event', e, e.bubbleHtml ? e.bubbleHtml() : null);
            if ($h) {
                this.show(a);
            } else {
                this.showOnMouseOver(a);
            }
        };
        this.showCell = function($i) {
            var a = new DayPilotBubble.CallBackArgs($i.calendar || $i.root, 'Cell', $i, $i.staticBubbleHTML ? $i.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showTime = function($j) {
            var a = new DayPilotBubble.CallBackArgs($j.calendar || $j.root, 'Time', $j, $j.staticBubbleHTML ? $j.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showResource = function($k) {
            var a = new DayPilotBubble.CallBackArgs($k.calendar || $k.root, 'Resource', $k, $k.staticBubbleHTML ? $k.staticBubbleHTML() : null);
            this.showOnMouseOver(a);
        };
        this.showHtml = function($l, $m) {
            var a = new DayPilotBubble.CallBackArgs(null, 'Html', null, $l);
            a.div = $m;
            this.show(a);
        };
        this.show = function($n) {
            var $o = this.animated;
            this.showPosition = DayPilotBubble.mouse;
            if (!DayPilotBubble.mouse) {
                setTimeout(function() {
                    $e.show($n);
                }, 100);
                return;
            };
            var id;
            try {
                id = DayPilot.JSON.stringify($n.object);
            } catch (e) {
                return;
            };
            if (DayPilotBubble.active === this && this.sourceId === id) {
                return;
            };
            if (typeof DayPilot.Menu !== 'undefined' && DayPilot.Menu.active) {
                return;
            };
            DayPilotBubble.hideActive();
            DayPilotBubble.active = this;
            this.sourceId = id;
            var $m = document.createElement("div");
            $m.setAttribute("unselectable", "on");
            if (!this.showLoadingLabel) {
                $m.style.display = 'none';
            };
            document.body.appendChild($m);
            $m.style.position = 'absolute';
            if (!this.cssOnly) {
                if (this.width) {
                    $m.style.width = this.width;
                };
                $m.style.cursor = 'default';
            } else {
                $m.className = this.$Q("_main");
            };
            $m.style.top = '0px';
            $m.style.left = '0px';
            $m.style.zIndex = this.zIndex + 1;
            if ($o) {
                $m.style.visibility = 'hidden';
            };
            if (this.hideOnClick) {
                $m.onclick = function() {
                    DayPilotBubble.hideActive();
                };
            };
            $m.onmousemove = function(e) {
                DayPilotBubble.cancelTimeout();
                var e = e || window.event;
                e.cancelBubble = true;
            };
            $m.oncontextmenu = function() {
                return false;
            };
            $m.onmouseout = this.delayedHide;
            var $p = document.createElement("div");
            $m.appendChild($p);
            if (this.cssOnly) {
                $p.className = this.$Q("_main_inner");
            } else {
                $p.style.padding = '4px';
                if (this.border) {
                    $p.style.border = this.border;
                };
                if (this.rounded()) {
                    $p.style.MozBorderRadius = "5px";
                    $p.style.webkitBorderRadius = "5px";
                    $p.style.borderRadius = "5px";
                };
                $p.style.backgroundColor = this.backgroundColor;
            };
            $p.innerHTML = this.loadingText;
            this.elements.div = $m;
            this.elements.inner = $p;
            var $m = this.getDiv($n);
            if (this.position === "EventTop" && $m) {
                var $q = 2;
                var $r = DayPilot.abs($m, true);
                this.mouse = DayPilotBubble.mouse;
                this.mouse.x = $r.x;
                this.mouse.y = $r.y;
                this.mouse.h = $r.h + $q;
                this.mouse.w = $r.w;
            } else {
                this.mouse = DayPilotBubble.mouse;
            };
            if (this.showLoadingLabel && !$o) {
                this.adjustPosition();
                this.addShadow();
            };
            if ($n.staticHTML) {
                this.updateView($n.staticHTML, this);
            } else if (typeof this.onLoad === 'function') {
                var $f = {};
                $f.source = $n.object;
                $f.async = false;
                $f.loaded = function() {
                    if (this.async) {
                        $e.updateView($f.html, $e);
                    }
                };
                this.onLoad($f);
                if (!$f.async) {
                    $e.updateView($f.html, $e);
                }
            } else if (this.$R($n)) {
                this.callBack($n);
            }
        };
        this.getDiv = function($n) {
            if ($n.div) {
                return $n.div;
            };
            if ($n.type === 'Event' && $n.calendar && $n.calendar.internal.findEventDiv) {
                return $n.calendar.internal.findEventDiv($n.object);
            }
        };
        this.$Q = function($s) {
            var $t = this.theme || this.cssClassPrefix;
            if ($t) {
                return $t + $s;
            } else {
                return "";
            }
        };
        this.loadingElement = null;
        this.loadingStart = function($r) {};
        this.loadingStop = function() {};
        this.adjustPosition = function() {
            var $o = this.animated;
            var $u = this.position;
            var $v = 10;
            if (!this.elements.div) {
                return;
            };
            if (!this.mouse) {
                return;
            };
            if (!this.mouse.x || !this.mouse.y) {
                DayPilotBubble.hideActive();
                return;
            };
            var $m = this.elements.div;
            $m.style.display = '';
            var $w = $m.offsetHeight;
            var $x = $m.offsetWidth;
            $m.style.display = 'none';
            var wd = DayPilot.wd();
            var $y = wd.width;
            var $z = wd.height;
            if ($u === 'Mouse') {
                var $A = 22;
                var $B = 10;
                var top = 0;
                if (this.mouse.clientY > $z - $w + $v) {
                    var $C = this.mouse.clientY - ($z - $w) + $v;
                    top = (this.mouse.y - $w - $B);
                } else {
                    top = this.mouse.y + $A;
                };
                if (typeof top === 'number') {
                    $m.style.top = Math.max(top, 0) + "px";
                };
                if (this.mouse.clientX > $y - $x + $v) {
                    var $D = this.mouse.clientX - ($y - $x) + $v;
                    $m.style.left = (this.mouse.x - $D) + 'px';
                } else {
                    $m.style.left = this.mouse.x + 'px';
                }
            } else if ($u === 'EventTop') {
                var $E = 2;
                var top = this.mouse.y - $w - $E;
                var $F = wd.scrollTop;
                if (top < $F) {
                    top = this.mouse.y + this.mouse.h + $E;
                };
                if (typeof top === 'number') {
                    $m.style.top = Math.max(top, 0) + 'px';
                };
                var $G = this.mouse.x;
                if (this.mouse.x + $x + $v > $y) {
                    $G = $y - $x - $v;
                };
                $m.style.left = $G + 'px';
            };
            $m.style.display = '';
            if ($o) {
                $m.style.display = '';
                var $H = {};
                $H.color = $m.firstChild.style.color;
                $H.overflow = $m.style.overflow;
                $m.firstChild.style.color = "transparent";
                $m.style.overflow = 'hidden';
                this.removeShadow();
                DayPilot.pop($m, {
                    "finished": function() {
                        $m.firstChild.style.color = $H.color;
                        $m.style.overflow = $H.overflow;
                        $e.addShadow();
                    },
                    "vertical": "bottom",
                    "horizontal": "left",
                    "animation": $e.animation
                });
            }
        };
        this.delayedHide = function() {
            DayPilotBubble.cancelTimeout();
            if ($e.hideAfter > 0) {
                DayPilotBubble.timeout = window.setTimeout(DayPilotBubble.hideActive, $e.hideAfter);
            }
        };
        this.showOnMouseOver = function($n) {
            DayPilotBubble.cancelTimeout();
            var $I = function($J) {
                return function() {
                    $e.show($J);
                };
            };
            DayPilotBubble.timeout = window.setTimeout($I($n), this.showAfter);
        };
        this.hideOnMouseOut = function() {
            this.delayedHide();
        };
        this.$R = function($f) {
            if ($f.calendar.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.addShadow = function() {
            if (!this.useShadow) {
                return;
            };
            if (this.cssOnly) {
                return;
            };
            if (!this.elements.div) {
                return;
            };
            var $m = this.elements.div;
            if (this.shadows && this.shadows.length > 0) {
                this.removeShadow();
            };
            this.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $K = document.createElement('div');
                $K.setAttribute("unselectable", "on");
                $K.style.position = 'absolute';
                $K.style.width = $m.offsetWidth + 'px';
                $K.style.height = $m.offsetHeight + 'px';
                $K.style.top = $m.offsetTop + i + 'px';
                $K.style.left = $m.offsetLeft + i + 'px';
                $K.style.zIndex = this.zIndex;
                $K.style.filter = 'alpha(opacity:10)';
                $K.style.opacity = 0.1;
                $K.style.backgroundColor = '#000000';
                if (this.rounded()) {
                    $K.style.MozBorderRadius = "5px";
                    $K.style.webkitBorderRadius = "5px";
                    $K.style.borderRadius = "5px";
                };
                document.body.appendChild($K);
                this.shadows.push($K);
            }
        };
        this.removeShadow = function() {
            if (!this.shadows) {
                return;
            };
            for (var i = 0; i < this.shadows.length; i++) {
                document.body.removeChild(this.shadows[i]);
            };
            this.shadows = [];
        };
        this.removeDiv = function() {
            if (!this.elements.div) {
                return;
            };
            document.body.removeChild(this.elements.div);
            this.elements.div = null;
        };
        if ($d) {
            for (var name in $d) {
                this[name] = $d[name];
            }
        };
        this.init();
    };
    DayPilotBubble.cancelTimeout = function() {
        if (DayPilotBubble.timeout) {
            window.clearTimeout(DayPilotBubble.timeout);
        }
    };
    DayPilotBubble.hideActive = function() {
        DayPilotBubble.cancelTimeout();
        var $e = DayPilotBubble.active;
        if ($e) {
            $e.removeDiv();
            $e.removeShadow();
        };
        DayPilotBubble.active = null;
    };
    DayPilotBubble.CallBackArgs = function($L, $M, $N, $O) {
        this.calendar = $L;
        this.type = $M;
        this.object = $N;
        this.staticHTML = $O;
        this.toJSON = function() {
            var $P = {};
            $P.uid = this.calendar.uniqueID;
            $P.type = this.type;
            $P.object = $N;
            return $P;
        };
    };
    DayPilot.re(document, 'mousemove', DayPilotBubble.mouseMove);
    DayPilot.BubbleVisible.Bubble = DayPilotBubble.Bubble;
    DayPilot.BubbleVisible.hideActive = DayPilotBubble.hideActive;
    DayPilot.BubbleVisible.cancelTimeout = DayPilotBubble.cancelTimeout;
    DayPilot.Bubble.hideActive = DayPilotBubble.hideActive;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotCalendar === 'undefined') {
    var DayPilotCalendar = DayPilot.CalendarVisible = {};
};
(function() {
    if (typeof DayPilot.Calendar !== 'undefined') {
        return;
    };
    DayPilot.Calendar = function(id, $a) {
        this.v = '1418';
        var $b = false;
        if (this instanceof DayPilot.Calendar && !this.$3R) {
            $b = true;
            this.$3R = true;
        };
        if (!$b) {
            throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
        };
        var $c = this;
        this.uniqueID = null;
        this.id = id;
        this.isCalendar = true;
        this.api = 2;
        this.clientName = id;
        this.clientState = {};
        this.$3S = {};
        this.$3S.pixels = {};
        this.$3S.events = [];
        this.elements = {};
        this.elements.events = [];
        this.elements.separators = [];
        this.nav = {};
        this.events = {};
        this.hideUntilInit = true;
        this.$3T = true;
        this.allDayEventBorderColor = "#000000";
        this.allDayEventFontFamily = 'Tahoma';
        this.allDayEventFontSize = '8pt';
        this.allDayEventFontColor = "#000000";
        this.allDayEventHeight = 25;
        this.allowEventOverlap = true;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.borderColor = "#000000";
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.cellBackColor = "#FFFFD5";
        this.cellBackColorNonBusiness = "#FFF4BC";
        this.cellBorderColor = "#999999";
        this.cellHeight = 20;
        this.cellDuration = 30;
        this.columnMarginRight = 5;
        this.columnWidth = 200;
        this.columnWidthSpec = "Auto";
        this.cornerBackColor = "#ECE9D8";
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = "Header";
        this.cssOnly = true;
        this.dayBeginsHour = 0;
        this.dayEndsHour = 24;
        this.days = 1;
        this.deleteImageUrl = null;
        this.durationBarColor = 'blue';
        this.durationBarVisible = true;
        this.durationBarWidth = 5;
        this.durationBarImageUrl = null;
        this.eventArrangement = "SideBySide";
        this.eventBackColor = '#ffffff';
        this.eventBorderColor = "#000000";
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '8pt';
        this.eventFontColor = "#000000";
        this.eventSelectColor = 'blue';
        this.headerFontSize = '10pt';
        this.headerFontFamily = 'Tahoma';
        this.headerFontColor = "#000000";
        this.headerHeight = 20;
        this.headerLevels = 1;
        this.height = 300;
        this.heightSpec = 'BusinessHours';
        this.hideFreeCells = false;
        this.headerDateFormat = null;
        this.hourHalfBorderColor = "#F3E4B1";
        this.hourBorderColor = "#EAD098";
        this.hourFontColor = "#000000";
        this.hourFontFamily = "Tahoma";
        this.hourFontSize = "16pt";
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.hourWidth = 45;
        this.initScrollPos = null;
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.moveBy = "Full";
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.roundedCorners = false;
        this.rtl = false;
        this.selectedColor = "#316AC5";
        this.shadow = 'Fill';
        this.showToolTip = true;
        this.showAllDayEvents = false;
        this.showAllDayEventStartEnd = true;
        this.showEventStartEnd = false;
        this.showHeader = true;
        this.showHours = true;
        this.showCurrentTime = true;
        this.startDate = new DayPilot.Date().getDatePart();
        this.cssClassPrefix = "calendar_default";
        this.timeFormat = 'Auto';
        this.timeHeaderCellDuration = 60;
        this.useEventBoxes = 'Always';
        this.useEventSelectionBars = false;
        this.viewType = 'Days';
        this.visible = true;
        this.eventClickHandling = 'Enabled';
        this.eventDoubleClickHandling = 'Enabled';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventDeleteHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventHoverHandling = 'Bubble';
        this.eventResizeHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventSelectHandling = 'Update';
        this.eventTapAndHoldHandling = 'Move';
        this.headerClickHandling = 'Enabled';
        this.timeRangeTapAndHoldHandling = 'Select';
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = "Enabled";
        this.$3U = true;
        this.$3V = false;
        this.autoRefreshCount = 0;
        this.doubleClickTimeout = 300;
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix"];
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members"];
        this.members.noCssOnly = ["allDayEventBorderColor", "allDayEventFontColor", "allDayEventFontFamily", "allDayEventFontSize", "borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cornerBackColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventFontColor", "eventFontFamily", "eventFontSize", "eventSelectColor", "headerFontColor", "headerFontFamily", "headerFontSize", "hourBorderColor", "hourFontColor", "hourFontFamily", "hourFontSize", "hourHalfBorderColor", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "selectedColor", "useEventSelectionBars"];
        this.$3W = {};
        this.$3W.ie = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
        this.$3W.ie9 = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE 9") !== -1);
        this.$3W.ielt9 = (function() {
            var $d = document.createElement("div");
            $d.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
            var $e = ($d.getElementsByTagName("i").length === 1);
            return $e;
        })();
        this.$3W.ff = (navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1);
        this.$3W.opera105 = (function() {
            if (/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 10.5;
            };
            return false;
        })();
        this.$3W.webkit522 = (function() {
            if (/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)) {
                var v = new Number(RegExp.$1);
                return v >= 522;
            };
            return false;
        })();
        this.clearSelection = function() {
            if (!this.selectedCells) {
                this.selectedCells = [];
                return;
            };
            this.$3X();
            this.selectedCells = [];
        };
        this.$3X = function() {
            if (!this.selectedCells) {
                return;
            };
            for (var j = 0; j < this.selectedCells.length; j++) {
                var $f = this.selectedCells[j];
                if ($f) {
                    if ($f.selected) {
                        $f.removeChild($f.selected);
                        $f.firstChild.style.display = '';
                        $f.selected = null;
                    }
                }
            }
        };
        this.cleanSelection = this.clearSelection;
        this.$3Y = function($g, $h, $i) {
            var $j = {};
            $j.action = $g;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$3Z();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            __doPostBack($c.uniqueID, $k);
        };
        this.$40 = function($g, $i, $h, $l) {
            if (!this.$41()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            if (typeof $l === 'undefined') {
                $l = "CallBack";
            };
            this.callbackTimeout = window.setTimeout(function() {
                $c.$42();
            }, 100);
            var $j = {};
            $j.action = $g;
            $j.type = $l;
            $j.parameters = $i;
            $j.data = $h;
            $j.header = this.$3Z();
            var $k = "JSON" + DayPilot.JSON.stringify($j);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$43, $k, this.$44);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $k, this.$45, this.clientName, this.onCallbackError, true);
            }
        };
        this.$41 = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$44 = function($m) {
            if (typeof $c.onAjaxError === 'function') {
                var $n = {};
                $n.request = $m;
                $c.onAjaxError($n);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($m);
            }
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$46();
            c.$47();
            if (c.nav.messageClose) {
                c.nav.messageClose.onclick = null;
            };
            if (c.nav.hourTable) c.nav.hourTable.oncontextmenu = null;
            if (c.nav.hourTable) c.nav.hourTable.onmousemove = null;
            if (c.nav.header) c.nav.header.oncontextmenu = null;
            if (c.nav.corner) c.nav.corner.oncontextmenu = null;
            c.nav.zoom.onmousemove = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            DayPilot.pu(c.nav.loading);
            c.$48();
            c.$49();
            c.nav.select = null;
            c.nav.cornerRight = null;
            c.nav.scrollable = null;
            c.nav.bottomLeft = null;
            c.nav.bottomRight = null;
            c.nav.allday = null;
            c.nav.zoom = null;
            c.nav.loading = null;
            c.nav.events = null;
            c.nav.header = null;
            c.nav.hourTable = null;
            c.nav.scrolltop = null;
            c.nav.scroll = null;
            c.nav.vsph = null;
            c.nav.main = null;
            c.nav.message = null;
            c.nav.messageClose = null;
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilot.ue(window, 'resize', c.$4a);
            DayPilotCalendar.unregister(c);
        };
        this.$4b = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.$43 = function($o) {
            $c.$45($o.responseText);
        };
        this.$3Z = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpc";
            h.id = this.id;
            h.clientState = $c.clientState;
            h.columns = this.$4c();
            h.days = $c.days;
            h.startDate = $c.startDate;
            h.cellDuration = $c.cellDuration;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.heightSpec = $c.heightSpec;
            h.businessBeginsHour = $c.businessBeginsHour;
            h.businessEndsHour = $c.businessEndsHour;
            h.viewType = $c.viewType;
            h.dayBeginsHour = $c.dayBeginsHour;
            h.dayEndsHour = $c.dayEndsHour;
            h.headerLevels = $c.headerLevels;
            h.backColor = $c.cellBackColor;
            h.nonBusinessBackColor = $c.cellBackColorNonBusiness;
            h.eventHeaderVisible = $c.eventHeaderVisible;
            h.timeFormat = $c.timeFormat;
            h.timeHeaderCellDuration = $c.timeHeaderCellDuration;
            h.locale = $c.locale;
            h.showAllDayEvents = $c.showAllDayEvents;
            h.tagFields = $c.tagFields;
            h.weekStarts = $c.weekStarts;
            h.hourNameBackColor = $c.hourNameBackColor;
            h.hourFontFamily = $c.hourFontFamily;
            h.hourFontSize = $c.hourFontSize;
            h.hourFontColor = $c.hourFontColor;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.$4d = function() {
            this.$4e();
            DayPilot.Areas.hideAll();
        };
        this.$4c = function() {
            var $p = [];
            $p.ignoreToJSON = true;
            if (!this.columns) {
                return $p;
            };
            for (var i = 0; i < this.columns.length; i++) {
                var $q = this.columns[i];
                var $r = this.$4f($q);
                $p.push($r);
            };
            return $p;
        };
        this.$4f = function($q) {
            var $r = {};
            $r.Value = $q.id;
            $r.Name = $q.name;
            $r.ToolTip = $q.toolTip;
            $r.Date = $q.start;
            $r.Children = this.$4g($q.children);
            return $r;
        };
        this.$4g = function($s) {
            var $t = [];
            $t.ignoreToJSON = true;
            if (!$s) {
                return $t;
            };
            for (var i = 0; i < $s.length; i++) {
                $t.push(this.$4f($s[i]));
            };
            return $t;
        };
        this.$45 = function($u, $v) {
            var $u = DayPilot.Util.parseJSON($u);
            if ($u.BubbleGuid) {
                var $w = $u.BubbleGuid;
                var $x = this.bubbles[$w];
                delete this.bubbles[$w];
                $c.$4h();
                if (typeof $u.Result.BubbleHTML !== 'undefined') {
                    $x.updateView($u.Result.BubbleHTML, $x);
                };
                return;
            };
            if ($u.CallBackRedirect) {
                document.location.href = $u.CallBackRedirect;
                return;
            };
            if (typeof $u.ClientState !== 'undefined') {
                $c.clientState = $u.ClientState;
            };
            if ($u.UpdateType === "None") {
                $c.$4h();
                $c.$4i($u.CallBackData, true);
                if ($u.Message) {
                    $c.message($u.Message);
                };
                return;
            };
            if ($u.VsUpdate) {
                var $y = document.createElement("input");
                $y.type = 'hidden';
                $y.name = $c.id + "_vsupdate";
                $y.id = $y.name;
                $y.value = $u.VsUpdate;
                $c.nav.vsph.innerHTML = '';
                $c.nav.vsph.appendChild($y);
            };
            $c.$47();
            $c.multiselect.clear(true);
            $c.multiselect.$4j = $u.SelectedEvents;
            if (typeof $u.TagFields !== 'undefined') {
                $c.tagFields = $u.TagFields;
            };
            if (typeof $u.SortDirections !== 'undefined') {
                $c.sortDirections = $u.SortDirections;
            };
            if ($u.UpdateType === "Full") {
                $c.colors = $u.Colors;
                $c.palette = $u.Palette;
                $c.dirtyColors = $u.DirtyColors;
                $c.cellProperties = $u.CellProperties;
                $c.cellConfig = $u.CellConfig;
                $c.columns = $u.Columns;
                $c.days = $u.Days;
                $c.startDate = new DayPilot.Date($u.StartDate).getDatePart();
                $c.cellDuration = $u.CellDuration;
                $c.heightSpec = $u.HeightSpec ? $u.HeightSpec : $c.heightSpec;
                $c.businessBeginsHour = $u.BusinessBeginsHour ? $u.BusinessBeginsHour : $c.businessBeginsHour;
                $c.businessEndsHour = $u.BusinessEndsHour ? $u.BusinessEndsHour : $c.businessEndsHour;
                $c.viewType = $u.ViewType;
                $c.headerLevels = $u.HeaderLevels;
                $c.backColor = $u.BackColor ? $u.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $u.NonBusinessBackColor ? $u.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.eventHeaderVisible = $u.EventHeaderVisible ? $u.EventHeaderVisible : $c.eventHeaderVisible;
                $c.timeFormat = $u.TimeFormat ? $u.TimeFormat : $c.timeFormat;
                $c.timeHeaderCellDuration = typeof $u.TimeHeaderCellDuration !== 'undefined' ? $u.TimeHeaderCellDuration : $c.timeHeaderCellDuration;
                $c.locale = $u.Locale ? $u.Locale : $c.locale;
                $c.dayBeginsHour = typeof $u.DayBeginsHour !== 'undefined' ? $u.DayBeginsHour : $c.dayBeginsHour;
                $c.dayEndsHour = typeof $u.DayEndsHour !== 'undefined' ? $u.DayEndsHour : $c.dayEndsHour;
                $c.cornerBackColor = $u.CornerBackColor;
                $c.cornerHtml = $u.CornerHTML;
                $c.hours = $u.Hours;
                $c.$4k();
                $c.$4l();
            };
            if ($u.Hashes) {
                for (var $z in $u.Hashes) {
                    $c.hashes[$z] = $u.Hashes[$z];
                }
            };
            $c.$4m($u.Events);
            $c.$4n();
            if ($u.UpdateType === "Full" || $c.hideFreeCells) {
                $c.$4o();
                $c.$4p();
                $c.$4q();
                $c.$4r();
                $c.$4s();
                $c.$4t();
                $c.$4u();
                $c.$4v();
                $c.clearSelection();
            };
            $c.$4w();
            $c.$4x();
            $c.$4y();
            $c.$4z();
            if ($c.heightSpec === "Parent100Pct") {
                $c.$4a();
            };
            if ($c.timeRangeSelectedHandling !== "HoldForever") {
                $c.clearSelection();
            };
            $c.$4A();
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            };
            $c.$4i($u.CallBackData, true);
            $c.$4h();
            $c.$4B();
            if ($u.Message) {
                $c.message($u.Message);
            }
        };
        this.$4i = function($h, $B) {
            var $C = function($h, $D) {
                return function() {
                    if ($c.$4C()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $n = {};
                            $n.isCallBack = $D;
                            $n.data = $h;
                            $c.onAfterRender($n);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($h, $D);
                        }
                    }
                };
            };
            window.setTimeout($C($h, $B), 0);
        };
        this.$4D = function($E, $F, $l) {
            var $G = $c.nav.events;
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var i = Math.floor($c.coords.x / $H);
            if (i < 0) {
                i = 0;
            };
            if ($c.rtl) {
                i = $c.$4E.length - i - 1;
            };
            var $q = $G.rows[0].cells[i];
            var $I = 0;
            var $J = 0;
            var top = 0;
            if (typeof $E.duration !== 'undefined') {
                var $K = $E.duration;
                top = Math.floor((($c.coords.y - $I) + $c.cellHeight / 2) / $c.cellHeight) * $c.cellHeight + $I;
                $J = $K * $c.cellHeight / (60 * $c.cellDuration);
                $J = Math.max($J, $c.cellHeight);
            } else {
                var e = $E.event;
                $J = e.part.height;
                top = e.part.top;
            };
            var $L = document.createElement('div');
            $L.setAttribute('unselectable', 'on');
            $L.style.position = 'absolute';
            $L.style.width = '100%';
            $L.style.height = $J + 'px';
            $L.style.left = '0px';
            $L.style.top = top + 'px';
            $L.style.zIndex = 101;
            $L.exclude = true;
            var $M = document.createElement("div");
            $L.appendChild($M);
            if (this.cssOnly) {
                $L.className = $c.$4F("_shadow");
                $M.className = this.$4F("_shadow_inner");
            };
            if (!this.cssOnly) {
                $M.style.position = "absolute";
                $M.style.top = "0px";
                $M.style.bottom = "0px";
                $M.style.left = "0px";
                $M.style.right = "0px";
                if ($l === 'Fill') {
                    $M.style.backgroundColor = "#aaaaaa";
                    $M.style.opacity = 0.5;
                    $M.style.filter = "alpha(opacity=50)";
                    $M.style.border = '2px solid #aaaaaa';
                } else {
                    $M.style.border = '2px dotted #666666';
                };
                if (this.roundedCorners) {
                    $M.style.MozBorderRadius = "5px";
                    $M.style.webkitBorderRadius = "5px";
                    $M.style.borderRadius = "5px";
                }
            };
            $q.events.appendChild($L);
            return $L;
        };
        this.$4G = function() {
            return this.$4H() / (3600 * 1000);
        };
        this.$4I = function() {
            if (this.businessBeginsHour > this.businessEndsHour) {
                return 24 - this.businessBeginsHour + this.businessEndsHour;
            } else {
                return this.businessEndsHour - this.businessBeginsHour;
            }
        };
        this.$4J = function() {
            if (this.dayBeginsHour >= this.dayEndsHour) {
                return 24 - this.dayBeginsHour + this.dayEndsHour;
            } else {
                return this.dayEndsHour - this.dayBeginsHour;
            }
        };
        this.$4H = function($N) {
            var $O = 0;
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                $O = this.$4I();
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$4K - 1) * this.cellDuration / this.cellHeight;
                var $Q = Math.ceil($P / 60);
                var $R = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                $O = Math.max(this.dayBeginsHour + $Q, $R) - this.$4L();
            } else {
                $O = this.$4J();
            };
            return $O * 60 * 60 * 1000;
        };
        this.message = function($S, $T, $U, $V) {
            if (!$S) {
                return;
            };
            var $T = $T || this.messageHideAfter || 2000;
            var $U = $U || "#ffffff";
            var $V = $V || "#000000";
            var $W = 0.8;
            var $d;
            var top = this.$4M();
            var $X = this.showHours ? this.hourWidth : 0;
            var $Y = DayPilot.sw($c.nav.scroll);
            if (!this.cssOnly) {
                top += 1;
                $X += 2;
                $Y -= 2;
            };
            if ($c.rtl) {
                var $Z = $X;
                $X = $Y;
                $Y = $Z;
            };
            if (!this.nav.message) {
                $d = document.createElement("div");
                $d.style.position = "absolute";
                $d.style.left = ($X) + "px";
                $d.style.top = (top) + "px";
                $d.style.right = "0px";
                $d.style.display = 'none';
                $d.onmousemove = function() {
                    if ($d.messageTimeout && !$d.status) {
                        clearTimeout($d.messageTimeout);
                    }
                };
                $d.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $d.messageTimeout = setTimeout($c.$4N, 500);
                    }
                };
                var $M = document.createElement("div");
                $M.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.filter = "alpha(opacity=" + ($W * 100) + ")";
                } else {
                    $M.className = this.$4F("_message");
                };
                $d.appendChild($M);
                var close = document.createElement("div");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
                    close.style.color = $U;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$4F("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $d.appendChild(close);
                this.nav.top.insertBefore($d, this.nav.loading);
                this.nav.message = $d;
                this.nav.messageClose = close;
            } else {
                $d = $c.nav.message;
                this.nav.message.style.top = top + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.message.style.right = $Y + "px";
            } else {
                this.nav.message.style.right = "0px";
            };
            var $00 = function() {
                var $M = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $M.style.padding = "5px";
                    $M.style.opacity = $W;
                    $M.style.backgroundColor = $V;
                    $M.style.color = $U;
                };
                $M.innerHTML = $S;
                var end = function() {
                    $d.messageTimeout = setTimeout($c.$4N, $T);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($d.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $00);
            } else {
                $00();
            }
        };
        this.message.show = function($S) {
            $c.message($S);
        };
        this.message.hide = function() {
            $c.$4N();
        };
        this.$4N = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$4r = function() {
            if (this.nav.message) {
                this.nav.message.style.top = (this.$4M()) + "px";
            }
        };
        this.$4O = function() {
            return this.$4H() / (60 * 1000 * this.cellDuration);
        };
        this.eventClickPostBack = function(e, $h) {
            this.$3Y('EventClick', $h, e);
        };
        this.eventClickCallBack = function(e, $h) {
            this.$40('EventClick', e, $h);
        };
        this.$4P = function(e) {
            var $d = this;
            var e = e || window.event;
            var $01 = e.ctrlKey;
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$4Q($d, $01);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $02 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$02]);
                };
                $c.timeouts = [];
            };
            var $03 = function($d, $01) {
                return function() {
                    $c.$4Q($d, $01);
                };
            };
            $c.timeouts.push(window.setTimeout($03(this, $01), $c.doubleClickTimeout));
        };
        this.$4Q = function($04, $01) {
            var e = $04.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $c.$4R($04);
                        break;
                    case 'Select':
                        $c.$4S($04, e, $01);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $05 = e.client.contextMenu();
                        if ($05) {
                            $05.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($n);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Edit':
                        $c.$4R($04);
                        break;
                    case 'Select':
                        $c.$4S($04, e, $01);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $05 = e.client.contextMenu();
                        if ($05) {
                            $05.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventDoubleClickPostBack = function(e, $h) {
            this.$3Y('EventDoubleClick', $h, e);
        };
        this.eventDoubleClickCallBack = function(e, $h) {
            this.$40('EventDoubleClick', e, $h);
        };
        this.$4T = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $02 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$02]);
                };
                $c.timeouts = null;
            };
            var e = this.event;
            var ev = ev || window.event;
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$4R(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$4S(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($n);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        if (!e.allday()) {
                            $c.$4R(this);
                        };
                        break;
                    case 'Select':
                        if (!e.allday()) {
                            $c.$4S(this, e, ev.ctrlKey);
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $h) {
            this.$3Y('EventRightClick', $h, e);
        };
        this.eventRightClickCallBack = function(e, $h) {
            this.$40('EventRightClick', e, $h);
        };
        this.$4U = function(ev) {
            var e = this.event;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $05 = e.client.contextMenu();
                        if ($05) {
                            $05.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($n);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $05 = e.client.contextMenu();
                        if ($05) {
                            $05.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.headerClickPostBack = function(c, $h) {
            this.$3Y('HeaderClick', $h, c);
        };
        this.headerClickCallBack = function(c, $h) {
            this.$40('HeaderClick', c, $h);
        };
        this.$4V = function($E) {
            var $h = this.data;
            var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
            if ($c.$4C()) {
                var $n = {};
                $n.header = {};
                $n.header.id = $h.id;
                $n.header.name = $h.name;
                $n.header.start = $h.start;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($n);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.$4W = function() {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                if ($c.viewType === "Resources") {
                    var $06 = {};
                    $06.calendar = $c;
                    $06.id = this.data.id;
                    $06.toJSON = function() {
                        var $07 = {};
                        $07.id = this.id;
                        return $07;
                    };
                    $c.columnBubble.showResource($06);
                } else {
                    var $08 = new DayPilot.Date(this.data.start);
                    var end = $08.addDays(1);
                    var $09 = {};
                    $09.calendar = $c;
                    $09.start = $08;
                    $09.end = end;
                    $09.toJSON = function() {
                        var $07 = {};
                        $07.start = this.start;
                        $07.end = this.end;
                        return $07;
                    };
                    $c.columnBubble.showTime($09);
                }
            };
            var $f = this;
            var $d = $f.firstChild;
            if (!$d.active) {
                var $h = $f.data;
                var c = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                c.areas = $f.data.areas;
                DayPilot.Areas.showAreas($d, c);
            }
        };
        this.$4X = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.columnBubble) {
                $c.columnBubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this.firstChild, ev);
        };
        this.eventDeletePostBack = function(e, $h) {
            this.$3Y('EventDelete', $h, e);
        };
        this.eventDeleteCallBack = function(e, $h) {
            this.$40('EventDelete', e, $h);
        };
        this.$4Y = function($E) {
            var e;
            if ($E && $E.isEvent) {
                e = $E;
            } else {
                e = $E.parentNode.parentNode.event;
            };
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($n);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0a, $0b, $h) {
            if (!$0a) {
                throw 'newStart is null';
            };
            if (!$0b) {
                throw 'newEnd is null';
            };
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            this.$3Y('EventResize', $h, $0c);
        };
        this.eventResizeCallBack = function(e, $0a, $0b, $h) {
            if (!$0a) throw 'newStart is null';
            if (!$0b) throw 'newEnd is null';
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            this.$40('EventResize', $0c, $h);
        };
        this.$4Z = function($l, $g, $0c, $h) {
            if ($l === 'PostBack') {
                $c.postBack2($g, $0c, $h);
            } else if ($l === 'CallBack') {
                $c.$40($g, $0c, $h, "CallBack");
            } else if ($l === 'Immediate') {
                $c.$40($g, $0c, $h, "Notify");
            } else if ($l === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $g, $0c, $h));
            } else if ($l === 'Notify') {
                if ($0d.notifyType() === 'Notify') {
                    $c.$40($g, $0c, $h, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $g, $0c, $h));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$4L = function($N) {
            if (this.heightSpec === 'BusinessHoursNoScroll') {
                return this.businessBeginsHour;
            } else if (this.hideFreeCells && !$N) {
                var $P = (this.$50) * this.cellDuration / this.cellHeight;
                var $Q = Math.floor($P / 60);
                $Q = Math.max(0, $Q);
                return Math.min(this.dayBeginsHour + $Q, this.businessBeginsHour);
            } else {
                return this.dayBeginsHour;
            }
        };
        this.$4C = function() {
            return $c.api === 2;
        };
        this.$51 = function(e, $0e, $0f, $0g) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0a = new Date();
            var $0b = new Date();
            var $08 = e.start();
            var end = e.end();
            var $0h = $c.cellDuration;
            var $0i = $c.$4E[e.part.dayIndex].start;
            if ($0g === 'top') {
                var $0i = $08.getDatePart();
                var $0j = Math.floor(($0f - $I) / $c.cellHeight);
                var $0k = $0j * $0h;
                var ts = $0k * 60 * 1000;
                var $0l = $c.$4L() * 60 * 60 * 1000;
                $0a = $0i.addTime(ts + $0l);
                $0b = e.end();
            } else if ($0g === 'bottom') {
                var $0j = Math.floor(($0f + $0e - $I) / $c.cellHeight);
                var $0k = $0j * $0h;
                var ts = $0k * 60 * 1000;
                var $0l = $c.$4L() * 60 * 60 * 1000;
                $0a = $08;
                $0b = $0i.addTime(ts + $0l);
            };
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0a;
                $n.newEnd = $0b;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0a, $0b);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0a, $0b);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0a, $0b);
                        break;
                    case 'Update':
                        e.start($0a);
                        e.end($0b);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($n);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $0a, $0b);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $0a, $0b);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $0a, $0b);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $0a, $0b);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $0a, $0b, $h) {
            var $0m = new DayPilot.Event(e.copy(), this);
            e.start($0a);
            e.end($0b);
            e.commit();
            $c.update();
            this.$52("Notify", $0m, $0a, $0b, $h);
        };
        this.$52 = function($l, e, $0a, $0b, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            this.$4Z($l, "EventResize", $0c, $h);
        };
        this.eventMovePostBack = function(e, $0a, $0b, $0n, $h) {
            if (!$0a) throw 'newStart is null';
            if (!$0b) throw 'newEnd is null';
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            $0c.newResource = $0n;
            this.$3Y('EventMove', $h, $0c);
        };
        this.eventMoveCallBack = function(e, $0a, $0b, $0n, $h) {
            if (!$0a) throw 'newStart is null';
            if (!$0b) throw 'newEnd is null';
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            $0c.newResource = $0n;
            this.$40('EventMove', $0c, $h);
        };
        this.$53 = function(e, $0o, $0f, ev, $0p) {
            if ($c.eventMoveHandling === 'Disabled') {
                return;
            };
            var $I = 0;
            var $0j = Math.floor(($0f - $I) / $c.cellHeight);
            var $0h = $c.cellDuration;
            var $0q = $0j * $0h * 60 * 1000;
            var $08 = e.start();
            var end = e.end();
            var $0i = new Date();
            if ($08.isDayPilotDate) {
                $08 = $08.d;
            };
            $0i.setTime(Date.UTC($08.getUTCFullYear(), $08.getUTCMonth(), $08.getUTCDate()));
            var $0r = ($c.useEventBoxes !== 'Never') ? $08.getTime() - ($0i.getTime() + $08.getUTCHours() * 3600 * 1000 + Math.floor($08.getUTCMinutes() / $0h) * $0h * 60 * 1000) : 0;
            var length = end.getTime() - $08.getTime();
            var $0l = $c.$4L() * 3600 * 1000;
            var $0s = this.$4E[$0o];
            var $0t = $0s.start.getTime();
            var $0u = new Date();
            $0u.setTime($0t + $0q + $0r + $0l);
            var $0a = new DayPilot.Date($0u);
            var $0b = $0a.addTime(length);
            var external = !!$0p;
            var $0n = $0s.id;
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.newStart = $0a;
                $n.newEnd = $0b;
                $n.newResource = $0n;
                $n.external = external;
                $n.ctrl = false;
                if (ev) {
                    $n.ctrl = ev.ctrlKey;
                };
                $n.shift = false;
                if (ev) {
                    $n.shift = ev.shiftKey;
                };
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0a, $0b, $0n);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0a, $0b, $0n);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0a, $0b, $0n);
                        break;
                    case 'Update':
                        e.start($0a);
                        e.end($0b);
                        e.resource($0n);
                        if (external) {
                            e.commit();
                            $c.events.add(e);
                        } else {
                            $c.events.update(e);
                        };
                        $c.$54();
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($n);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $0a, $0b, $0n);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $0a, $0b, $0n);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $0a, $0b, $0n, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $0a, $0b, $0n, null);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $0a, $0b, $0n, $h) {
            var $0m = new DayPilot.Event(e.copy(), this);
            e.start($0a);
            e.end($0b);
            e.resource($0n);
            e.commit();
            $c.update();
            this.$55("Notify", $0m, $0a, $0b, $0n, $h);
        };
        this.$55 = function($l, e, $0a, $0b, $0n, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.newStart = $0a;
            $0c.newEnd = $0b;
            $0c.newResource = $0n;
            this.$4Z($l, "EventMove", $0c, $h);
        };
        this.$54 = function() {
            if ($c.todo) {
                if ($c.todo.del) {
                    var $A = $c.todo.del;
                    $A.parentNode.removeChild($A);
                    $c.todo.del = null;
                }
            }
        };
        this.$56 = function($n, $x) {
            var $w = $c.$57($x);
            var $0c = {};
            $0c.args = $n;
            $0c.guid = $w;
            $c.$40("Bubble", $0c);
        };
        this.$57 = function($x) {
            var $w = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$w] = $x;
            return $w;
        };
        this.eventMenuClickPostBack = function(e, $0v, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.command = $0v;
            this.$3Y('EventMenuClick', $h, $0c);
        };
        this.eventMenuClickCallBack = function(e, $0v, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.command = $0v;
            this.$40('EventMenuClick', $0c, $h);
        };
        this.$58 = function($0v, e, $0w) {
            switch ($0w) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $0v);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $0v);
                    break;
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $0v, $h) {
            var $0c = {};
            $0c.selection = e;
            $0c.command = $0v;
            this.$3Y("TimeRangeMenuClick", $h, $0c);
        };
        this.timeRangeMenuClickCallBack = function(e, $0v, $h) {
            var $0c = {};
            $0c.selection = e;
            $0c.command = $0v;
            this.$40("TimeRangeMenuClick", $0c, $h);
        };
        this.$59 = function($0v, e, $0w) {
            switch ($0w) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $0v);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $0v);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($08, end, $0x, $h) {
            var $0y = {};
            $0y.start = $08;
            $0y.end = end;
            $0y.resource = $0x;
            this.$3Y('TimeRangeSelected', $h, $0y);
        };
        this.timeRangeSelectedCallBack = function($08, end, $0x, $h) {
            var $0y = {};
            $0y.start = $08;
            $0y.end = end;
            $0y.resource = $0x;
            this.$40('TimeRangeSelected', $0y, $h);
        };
        this.$5a = function($08, end, $q) {
            if (!$08.isDayPilotDate) {
                $08 = new DayPilot.Date($08);
            };
            if (!end.isDayPilotDate) {
                end = new DayPilot.Date(end);
            };
            var $0x = $q;
            if ($c.$4C()) {
                var $n = {};
                $n.start = $08;
                $n.end = end;
                $n.resource = $0x;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end, $0x);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end, $0x);
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($n);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($08, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($08, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($08, end, $q);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($08, end, $q, $h) {
            var $0y = {};
            $0y.start = $08;
            $0y.end = end;
            $0y.resource = $q;
            this.$3Y('TimeRangeDoubleClick', $h, $0y);
        };
        this.timeRangeDoubleClickCallBack = function($08, end, $q, $h) {
            var $0y = {};
            $0y.start = $08;
            $0y.end = end;
            $0y.resource = $q;
            this.$40('TimeRangeDoubleClick', $0y, $h);
        };
        this.$5b = function($08, end, $q) {
            if ($c.$4C()) {
                var $0x = $q;
                var $n = {};
                $n.start = $08;
                $n.end = end;
                $n.resource = $0x;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end, $0x);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end, $0x);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($n);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($08, end, $q);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($08, end, $q);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($08, end, $q);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $0z, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.newText = $0z;
            this.$3Y("EventEdit", $h, $0c);
        };
        this.eventEditCallBack = function(e, $0z, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.newText = $0z;
            this.$40("EventEdit", $0c, $h);
        };
        this.$5c = function(e, $0z) {
            if ($c.$4C()) {
                var $n = {};
                $n.e = e;
                $n.newText = $0z;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventEdit === 'function') {
                    $c.onEventEdit($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0z);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0z);
                        break;
                    case 'Update':
                        e.text($0z);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventEdited === 'function') {
                    $c.onEventEdited($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                }
            } else {
                switch ($c.eventEditHandling) {
                    case 'PostBack':
                        $c.eventEditPostBack(e, $0z);
                        break;
                    case 'CallBack':
                        $c.eventEditCallBack(e, $0z);
                        break;
                    case 'JavaScript':
                        $c.onEventEdit(e, $0z);
                        break;
                }
            }
        };
        this.eventSelectPostBack = function(e, $0A, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.change = $0A;
            this.$3Y('EventSelect', $h, $0c);
        };
        this.eventSelectCallBack = function(e, $0A, $h) {
            var $0c = {};
            $0c.e = e;
            $0c.change = $0A;
            this.$40('EventSelect', $0c, $h);
        };
        this.$5d = function($d, e, $01) {
            if ($c.$4C()) {
                var m = $c.multiselect;
                m.previous = m.events();
                var $n = {};
                $n.e = e;
                $n.selected = m.isSelected(e);
                $n.ctrl = $01;
                $n.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($n);
                    if ($n.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0A);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0A);
                        break;
                    case 'Update':
                        m.$5e($d, $01);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $n.change = m.isSelected(e) ? "selected" : "deselected";
                    $n.selected = m.isSelected(e);
                    $c.onEventSelected($n);
                }
            } else {
                var m = $c.multiselect;
                m.previous = m.events();
                m.$5e($d, $01);
                var $0A = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $0A);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $0A);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $0A);
                        break;
                }
            }
        };
        this.commandCallBack = function($0v, $h) {
            this.$46();
            var $0c = {};
            $0c.command = $0v;
            this.$40('Command', $0c, $h);
        };
        this.$5f = function(ev) {
            if ($0B.active || $0B.using) {
                return;
            };
            clearTimeout(DayPilotCalendar.selectedTimeout);
            if (DayPilotCalendar.selecting) {
                return;
            };
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            if ($c.selectedCells && $c.timeRangeDoubleClickHandling !== 'Disabled') {
                for (var i = 0; i < $c.selectedCells.length; i++) {
                    if (this === $c.selectedCells[i]) {
                        return;
                    }
                }
            };
            if ($c.timeRangeSelectedHandling === "Disabled") {
                return;
            };
            var $0C = DayPilot.Util.mouseButton(ev);
            if (!$0C.left) {
                return;
            };
            DayPilotCalendar.firstMousePos = DayPilot.mc(ev || window.event);
            $c.clearSelection();
            DayPilotCalendar.topSelectedCell = this;
            DayPilotCalendar.bottomSelectedCell = this;
            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
            $c.selectedCells.push(this);
            DayPilotCalendar.firstSelected = this;
        };
        this.$5g = function() {
            var $0D = this.getSelection();
            if (!$0D) {
                return;
            };
            if (!$c.selectedCells) {
                return;
            };
            for (var j = 0; j < $c.selectedCells.length; j++) {
                var $f = $c.selectedCells[j];
                if ($f && !$f.selected) {
                    var $d = document.createElement("div");
                    $d.style.height = ($c.cellHeight - 1) + "px";
                    $d.style.backgroundColor = $c.selectedColor;
                    $f.firstChild.style.display = "none";
                    $f.insertBefore($d, $f.firstChild);
                    $f.selected = $d;
                }
            }
        };
        this.$5h = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                $c.cellBubble.hideOnMouseOut();
            }
        };
        this.$5i = function(ev) {
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            if ($0B.active || $0B.using) {
                return;
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.cellBubble) {
                var $q = DayPilotCalendar.getColumn(this);
                var $06 = $c.$4E[$q].id;
                var $f = {};
                $f.calendar = $c;
                $f.start = this.start;
                $f.end = this.end;
                $f.resource = $06;
                $f.toJSON = function() {
                    var $07 = {};
                    $07.start = this.start;
                    $07.end = this.end;
                    $07.resource = this.resource;
                    return $07;
                };
                $c.cellBubble.showCell($f);
            };
            if (DayPilotCalendar.firstMousePos) {
                var $0E = DayPilotCalendar.firstMousePos;
                var $0F = DayPilot.mc(ev || window.event);
                if ($0E.x !== $0F.x || $0E.y !== $0F.y) {
                    DayPilotCalendar.selecting = true;
                    $c.clearSelection();
                    $c.$5g();
                }
            };
            if (!DayPilotCalendar.selecting) {
                return;
            };
            var $0G = DayPilot.mc(ev || window.event);
            var $0H = DayPilotCalendar.getColumn(this);
            if ($0H !== DayPilotCalendar.column) {
                return;
            };
            $c.clearSelection();
            if ($0G.y < DayPilotCalendar.firstMousePos.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow(this);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove(this);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5g();
        };
        this.getSelection = function() {
            if (!DayPilotCalendar.topSelectedCell) {
                return null;
            };
            if (!DayPilotCalendar.bottomSelectedCell) {
                return null;
            };
            var $08 = DayPilotCalendar.topSelectedCell.start;
            var end = DayPilotCalendar.bottomSelectedCell.end;
            var $0I = DayPilotCalendar.topSelectedCell.resource;
            return new DayPilot.Selection($08, end, $0I, $c);
        };
        this.$5j = function(ev) {
            if (DayPilotCalendar.firstMousePos) {
                var $0J = function() {
                    DayPilotCalendar.selecting = true;
                    $c.$5g();
                    DayPilotCalendar.firstMousePos = null;
                    DayPilotCalendar.selecting = false;
                    var $0K = $c.getSelection();
                    $c.$5a($0K.start, $0K.end, $0K.resource);
                };
                if (DayPilotCalendar.selecting && DayPilotCalendar.topSelectedCell !== null) {
                    $0J();
                } else {
                    DayPilotCalendar.selectedTimeout = setTimeout($0J, 100);
                }
            } else {
                DayPilotCalendar.selecting = false;
            }
        };
        this.$5k = function(ev) {
            if (!$c.initScrollPos) {
                return;
            };
            var $0L = $c.columnWidthSpec === "Fixed";
            if ($0L) {
                $c.nav.bottomLeft.scrollTop = $c.nav.bottomRight.scrollTop;
                $c.nav.upperRight.scrollLeft = $c.nav.bottomRight.scrollLeft;
            };
            var scroll = $0L ? $c.nav.bottomRight : $c.nav.scroll;
            $c.scrollPos = scroll.scrollTop;
            $c.scrollHeight = scroll.clientHeight;
            $c.nav.scrollpos.value = $c.scrollPos;
            $c.$4A();
        };
        this.$4A = function() {
            if (!this.scrollLabelsVisible) {
                return;
            };
            if (!this.$5l) {
                return;
            };
            var $0M = this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0;
            if (!$0M) {
                return;
            };
            var $0N = this.$4E;
            var $0O = (this.showHours ? this.hourWidth : 0);
            var $H = this.nav.main.rows[0].cells[0].clientWidth;
            var iw = 10;
            var $0P = 1;
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var $0Q = this.nav.scrollUp[i];
                var $0R = this.nav.scrollDown[i];
                var $X = Math.floor($0O + i * $H + $H / 2 - (iw / 2) + $0P);
                if ($X < 0) {
                    $X = 0;
                };
                if ($0Q && $0Q.style) {
                    $0Q.style.left = $X + "px";
                };
                if ($0R && $0R.style) {
                    $0R.style.left = $X + "px";
                }
            };
            var $0S = this.$5m();
            for (var i = 0; i < this.nav.scrollUp.length; i++) {
                var up = this.nav.scrollUp[i];
                var $0T = this.nav.scrollDown[i];
                var $0U = this.$5l[i].minEnd - $0S;
                var $0V = this.$5l[i].maxStart - $0S;
                if (up && $0T) {
                    if ($0U <= $c.scrollPos) {
                        up.style.top = (this.$4M()) + "px";
                        up.style.display = '';
                    } else {
                        up.style.display = 'none';
                    };
                    if ($0V >= $c.scrollPos + $c.scrollHeight) {
                        $0T.style.top = (this.$4M() + this.scrollHeight - 10) + "px";
                        $0T.style.display = '';
                    } else {
                        $0T.style.display = 'none';
                    }
                }
            }
        };
        this.$5n = function($E) {
            var $0W = $E.parentNode;
            while ($0W && $0W.tagName !== "TD") {
                $0W = $0W.parentNode;
            };
            var $X = 0;
            var top = $E.offsetTop;
            var $0X = $E.parentNode.offsetWidth;
            var $J = $E.offsetHeight;
            if ($E.event.allday()) {
                $X = $E.offsetLeft;
                $0X = $E.offsetWidth;
            };
            var $0Y = document.createElement('textarea');
            $0Y.style.boxSizing = "border-box";
            $0Y.style.position = 'absolute';
            $0Y.style.width = $0X + 'px';
            $0Y.style.height = $J + 'px';
            var $0Z = DayPilot.gs($E, 'fontFamily');
            if (!$0Z) $0Z = DayPilot.gs($E, 'font-family');
            $0Y.style.fontFamily = $0Z;
            var $10 = DayPilot.gs($E, 'fontSize');
            if (!$10) $10 = DayPilot.gs($E, 'font-size');
            $0Y.style.fontSize = $10;
            $0Y.style.left = $X + 'px';
            $0Y.style.top = top + 'px';
            $0Y.style.border = '1px solid black';
            $0Y.style.padding = '0px';
            $0Y.style.marginTop = '0px';
            $0Y.style.backgroundColor = 'white';
            $0Y.value = DayPilot.tr($E.event.text());
            $0Y.event = $E.event;
            $0W.firstChild.appendChild($0Y);
            return $0Y;
        };
        this.$4S = function($d, e, $01) {
            $c.$5d($d, e, $01);
        };
        this.multiselect = {};
        this.multiselect.$4j = [];
        this.multiselect.$5o = [];
        this.multiselect.$5p = [];
        this.multiselect.$5q = [];
        this.multiselect.$5r = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $11 = [];
            $11.ignoreToJSON = true;
            for (var i = 0; i < m.$5o.length; i++) {
                $11.push(m.$5o[i]);
            };
            return $11;
        };
        this.multiselect.$5s = function() {
            var h = $c.nav.select;
            h.value = $c.multiselect.$5r();
        };
        this.multiselect.$5e = function($d, $12) {
            var m = $c.multiselect;
            if (m.isSelected($d.event)) {
                if ($c.allowMultiSelect) {
                    if ($12) {
                        m.remove($d.event, true);
                    } else {
                        var $13 = m.$5o.length;
                        m.clear(true);
                        if ($13 > 1) {
                            m.add($d.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($12) {
                        m.add($d.event, true);
                    } else {
                        m.clear(true);
                        m.add($d.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($d.event, true);
                }
            };
            m.redraw();
            m.$5s();
        };
        this.multiselect.$5t = function(ev) {
            var m = $c.multiselect;
            return m.$5u(ev, m.$4j);
        };
        this.multiselect.$5v = function() {
            var m = $c.multiselect;
            var $14 = [];
            for (var i = 0; i < m.$5o.length; i++) {
                var event = m.$5o[i];
                $14.push(event.value());
            };
            alert($14.join("\n"));
        };
        this.multiselect.add = function(ev, $15) {
            var m = $c.multiselect;
            if (m.$5w(ev) === -1) {
                m.$5o.push(ev);
            };
            m.$5s();
            if ($15) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $15) {
            var m = $c.multiselect;
            var i = m.$5w(ev);
            if (i !== -1) {
                m.$5o.splice(i, 1);
            };
            m.$5s();
            if ($15) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($15) {
            var m = $c.multiselect;
            m.$5o = [];
            m.$5s();
            if ($15) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if (m.isSelected($d.event)) {
                    m.$5x($d);
                } else {
                    m.$5y($d);
                }
            }
        };
        this.multiselect.$5x = function($d) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$4F("_selected") : $c.$4F("selected");
            var c = m.$5z($d);
            DayPilot.Util.addClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$5A($d);
            };
            m.$5p.push($d);
        };
        this.multiselect.$5z = function($d) {
            if ($c.cssOnly) {
                return $d;
            };
            for (var i = 0; i < $d.childNodes.length; i++) {
                var c = $d.childNodes[i];
                if (c.getAttribute("c") === "1") {
                    return c;
                }
            };
            return null;
        };
        this.multiselect.$5B = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.$5p.length; i++) {
                var $d = m.$5p[i];
                m.$5y($d, true);
            };
            m.$5p = [];
        };
        this.multiselect.$5y = function($d, $16) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$4F("_selected") : $c.$4F("selected");
            var c = m.$5z($d);
            DayPilot.Util.removeClass(c, cn);
            if ($c.useEventSelectionBars) {
                m.$5C($d);
            };
            if ($16) {
                return;
            };
            var i = DayPilot.indexOf(m.$5p, $d);
            if (i !== -1) {
                m.$5p.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$5u(ev, $c.multiselect.$5o);
        };
        this.multiselect.$5w = function(ev) {
            return DayPilot.indexOf($c.multiselect.$5o, ev);
        };
        this.multiselect.$5u = function(e, $14) {
            if (!$14) {
                return false;
            };
            for (var i = 0; i < $14.length; i++) {
                var ei = $14[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.multiselect.$5A = function($17) {
            var w = 5;
            if (!$17.top) {
                var top = document.createElement("div");
                top.setAttribute("unselectable", "on");
                top.style.position = 'absolute';
                top.style.left = $17.offsetLeft + 'px';
                top.style.width = $17.offsetWidth + 'px';
                top.style.top = ($17.offsetTop - w) + 'px';
                top.style.height = w + 'px';
                top.style.backgroundColor = $c.eventSelectColor;
                top.style.zIndex = 100;
                $17.parentNode.appendChild(top);
                $17.top = top;
            };
            if (!$17.bottom) {
                var $18 = document.createElement("div");
                $18.setAttribute("unselectable", "on");
                $18.style.position = 'absolute';
                $18.style.left = $17.offsetLeft + 'px';
                $18.style.width = $17.offsetWidth + 'px';
                $18.style.top = ($17.offsetTop + $17.offsetHeight) + 'px';
                $18.style.height = w + 'px';
                $18.style.backgroundColor = $c.eventSelectColor;
                $18.style.zIndex = 100;
                $17.parentNode.appendChild($18);
                $17.bottom = $18;
            }
        };
        this.multiselect.$5C = function($17) {
            if ($17.top) {
                $17.parentNode.removeChild($17.top);
                $17.top = null;
            };
            if ($17.bottom) {
                $17.parentNode.removeChild($17.bottom);
                $17.bottom = null;
            }
        };
        this.$4R = function($E) {
            if (DayPilotCalendar.editing) {
                DayPilotCalendar.editing.blur();
                return;
            };
            var $0Y = this.$5n($E);
            DayPilotCalendar.editing = $0Y;
            $0Y.onblur = function() {
                var id = $E.event.value();
                var $19 = $E.event.tag();
                var $1a = $E.event.text();
                var $0z = $0Y.value;
                DayPilotCalendar.editing = null;
                $0Y.parentNode.removeChild($0Y);
                if ($1a === $0z) {
                    return;
                };
                $E.style.display = 'none';
                $c.$5c($E.event, $0z);
            };
            $0Y.onkeypress = function(e) {
                var $1b = (window.event) ? event.keyCode : e.keyCode;
                if ($1b === 13) {
                    this.onblur();
                    return false;
                } else if ($1b === 27) {
                    $0Y.parentNode.removeChild($0Y);
                    DayPilotCalendar.editing = false;
                };
                return true;
            };
            $0Y.select();
            $0Y.focus();
        };
        this.$4k = function() {
            if (!this.columns) {
                this.$4E = this.$5D();
                this.$5E(this.$4E);
            } else {
                this.$5E(this.columns);
                this.$4E = this.$5F(this.headerLevels, true);
            }
        };
        this.$5G = function() {
            var $08 = this.startDate.getDatePart();
            var $1c = this.days;
            switch (this.viewType) {
                case "Day":
                    $1c = 1;
                    break;
                case "Week":
                    $1c = 7;
                    $08 = $08.firstDayOfWeek($0d.weekStarts());
                    break;
                case "WorkWeek":
                    $1c = 5;
                    $08 = $08.firstDayOfWeek(1);
                    break;
            };
            var end = $08.addDays($1c);
            var $u = {};
            $u.start = $08;
            $u.end = end;
            $u.days = $1c;
            return $u;
        };
        this.$5D = function() {
            var $0N = [];
            var $1d = this.$5G();
            var $08 = $1d.start;
            var $1c = $1d.days;
            for (var i = 0; i < $1c; i++) {
                var $q = {};
                $q.start = $08.addDays(i);
                var $1e = $0d.locale().datePattern;
                if ($c.headerDateFormat) {
                    $1e = $c.headerDateFormat;
                };
                $q.name = $q.start.toString($1e);
                $q.html = $q.name;
                $0N.push($q);
            };
            return $0N;
        };
        this.$5H = function($q) {
            if ($q.Start) {
                $q.id = $q.Value;
                $q.start = $q.Start;
                $q.name = $q.Name;
                $q.html = $q.InnerHTML;
                $q.toolTip = $q.ToolTip;
                $q.backColor = $q.BackColor;
                $q.areas = $q.Areas;
                $q.children = $q.Children;
                delete $q.Value;
                delete $q.Start;
                delete $q.Name;
                delete $q.InnerHTML;
                delete $q.ToolTip;
                delete $q.BackColor;
                delete $q.Areas;
                delete $q.Children;
            };
            $q.start = $q.start || $c.startDate;
            $q.start = new DayPilot.Date($q.start);
            $q.html = $q.html || $q.name;
            $q.getChildren = function($1f, $1g) {
                var $14 = [];
                if ($1f <= 1) {
                    $14.push(this);
                    return $14;
                };
                if (!this.children || this.children.length === 0) {
                    if ($1g) {
                        $14.push(this);
                    } else {
                        $14.push("empty");
                    };
                    return $14;
                };
                for (var i = 0; i < this.children.length; i++) {
                    var $1h = this.children[i];
                    var $1i = $1h.getChildren($1f - 1, $1g);
                    for (var j = 0; j < $1i.length; j++) {
                        $14.push($1i[j]);
                    }
                };
                return $14;
            };
            $q.getChildrenCount = function($1f) {
                var $13 = 0;
                if (!this.children || this.children.length <= 0 || $1f <= 1) {
                    return 1;
                };
                for (var i = 0; i < this.children.length; i++) {
                    $13 += this.children[i].getChildrenCount($1f - 1);
                };
                return $13;
            };
            $q.putIntoBlock = function(ep) {
                for (var i = 0; i < this.blocks.length; i++) {
                    var $1j = this.blocks[i];
                    if ($1j.overlapsWith(ep.part.top, ep.part.height)) {
                        $1j.events.push(ep);
                        $1j.min = Math.min($1j.min, ep.part.top);
                        $1j.max = Math.max($1j.max, ep.part.top + ep.part.height);
                        return i;
                    }
                };
                var $1j = [];
                $1j.lines = [];
                $1j.events = [];
                $1j.overlapsWith = function($08, $0X) {
                    var end = $08 + $0X - 1;
                    if (!(end < this.min || $08 > this.max - 1)) {
                        return true;
                    };
                    return false;
                };
                $1j.putIntoLine = function(ep) {
                    var $1k = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $1l = this.lines[i];
                        if ($1l.isFree(ep.part.top, ep.part.height)) {
                            $1l.push(ep);
                            return i;
                        }
                    };
                    var $1l = [];
                    $1l.isFree = function($08, $0X) {
                        var end = $08 + $0X - 1;
                        var $N = this.length;
                        for (var i = 0; i < $N; i++) {
                            var e = this[i];
                            if (!(end < e.part.top || $08 > e.part.top + e.part.height - 1)) {
                                return false;
                            }
                        };
                        return true;
                    };
                    $1l.push(ep);
                    this.lines.push($1l);
                    return this.lines.length - 1;
                };
                $1j.events.push(ep);
                $1j.min = ep.part.top;
                $1j.max = ep.part.top + ep.part.height;
                this.blocks.push($1j);
                return this.blocks.length - 1;
            };
            $q.putIntoLine = function(ep) {
                var $1k = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1l = this.lines[i];
                    if ($1l.isFree(ep.part.top, ep.part.height)) {
                        $1l.push(ep);
                        return i;
                    }
                };
                var $1l = [];
                $1l.isFree = function($08, $0X) {
                    var end = $08 + $0X - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.top || $08 > e.part.top + e.part.height - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1l.push(ep);
                this.lines.push($1l);
                return this.lines.length - 1;
            };
            if ($q.children) {
                this.$5E($q.children);
            }
        };
        this.$5E = function(cc) {
            for (var i = 0; i < cc.length; i++) {
                this.$5H(cc[i]);
            }
        };
        this.$5F = function($1f, $1g) {
            var $1m = this.columns || this.$4E;
            var $14 = [];
            for (var i = 0; i < $1m.length; i++) {
                var $t = $1m[i].getChildren($1f, $1g);
                for (var j = 0; j < $t.length; j++) {
                    $14.push($t[j]);
                }
            };
            return $14;
        };
        this.$4z = function() {
            if (!this.showAllDayEvents) {
                return;
            };
            var $1n = this.nav.header;
            if (!$1n) {
                return;
            };
            $1n.style.display = 'none';
            var $0N = this.$4E.length;
            for (var j = 0; j < this.$5I.lines.length; j++) {
                var $1l = this.$5I.lines[j];
                for (var i = 0; i < $1l.length; i++) {
                    var $h = $1l[i];
                    var $d = document.createElement("div");
                    $d.event = $h;
                    $d.setAttribute("unselectable", "on");
                    $d.style.position = 'absolute';
                    if ($c.rtl) {
                        $d.style.right = (100.0 * $h.part.colStart / $0N) + "%";
                    } else {
                        $d.style.left = (100.0 * $h.part.colStart / $0N) + "%";
                    };
                    $d.style.width = (100.0 * $h.part.colWidth / $0N) + "%";
                    $d.style.height = $0d.allDayEventHeight() + 'px';
                    if (!this.cssOnly) {
                        $d.style.top = (3 + this.headerLevels * $0d.headerHeight() + j * ($0d.allDayEventHeight() + 2)) + "px";
                    } else {
                        $d.className = this.$4F("_alldayevent");
                        $d.style.top = (this.headerLevels * $0d.headerHeight() + j * ($0d.allDayEventHeight())) + "px";
                    };
                    $d.style.textAlign = 'left';
                    $d.style.lineHeight = "1.2";
                    if ($h.client.clickEnabled()) {
                        $d.onclick = this.$4P;
                    };
                    if ($h.client.doubleClickEnabled()) {
                        $d.ondblclick = this.$4T;
                    };
                    if ($h.client.clickEnabled() || $h.client.doubleClickEnabled()) {
                        $d.style.cursor = "pointer";
                    } else {
                        $d.style.cursor = "default";
                    };
                    DayPilot.re($d, "contextmenu", this.$4U);
                    $d.onmousemove = function(ev) {
                        var $d = this;
                        if (!$d.active) {
                            var $1o = [];
                            if ($h.client.deleteEnabled()) {
                                $1o.push({
                                    "action": "JavaScript",
                                    "v": "Hover",
                                    "w": 17,
                                    "h": 17,
                                    "top": 3,
                                    "right": 3,
                                    "css": $c.$4F("_event_delete"),
                                    "js": function(e) {
                                        $c.$4Y(e);
                                    }
                                });
                            };
                            var $14 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                            if ($14 && $14.length > 0) {
                                $1o = $1o.concat($14);
                            };
                            DayPilot.Areas.showAreas($d, $d.event, null, $1o);
                            if ($c.cssOnly) {
                                DayPilot.Util.addClass($d, $c.$4F("_alldayevent_hover"));
                            }
                        };
                        if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                            $c.bubble.showEvent(this.event);
                        }
                    };
                    $d.onmouseout = function(ev) {
                        var $d = this;
                        if ($c.cssOnly) {
                            DayPilot.Util.removeClass($d, $c.$4F("_alldayevent_hover"));
                        };
                        DayPilot.Areas.hideAreas(this, ev);
                        if ($c.bubble) {
                            $c.bubble.hideOnMouseOut();
                        }
                    };
                    if (this.showToolTip && !this.bubble) {
                        $d.setAttribute("title", $h.client.toolTip());
                    };
                    var $1p = $h.start().getTime() === $h.part.start.getTime();
                    var $1q = $h.end().getTime() === $h.part.end.getTime();
                    var back = $h.data.backColor;
                    if (!this.cssOnly) {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.style.marginLeft = '2px';
                        $M.style.marginRight = '3px';
                        $M.style.paddingLeft = '2px';
                        $M.style.height = ($0d.allDayEventHeight() - 2) + 'px';
                        $M.style.border = '1px solid ' + this.allDayEventBorderColor;
                        $M.style.overflow = 'hidden';
                        $M.style.position = 'relative';
                        $M.style.backgroundColor = back;
                        $M.className = this.$4F("alldayevent");
                        if (this.roundedCorners) {
                            $M.style.MozBorderRadius = "5px";
                            $M.style.webkitBorderRadius = "5px";
                            $M.style.borderRadius = "5px";
                        };
                        var $1r = [];
                        var $1s = true;
                        var $1t = this.showAllDayEventStartEnd;
                        var $1u = this.showAllDayEventStartEnd;
                        var $1v = "Center";
                        var $1w = 0;
                        if ($1t) {
                            if ($1v === 'Left') {
                                $1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");
                                $1r.push("width:");
                                $1r.push($1w - 4);
                                $1r.push("px;");
                                $1r.push("><span style='background-color:");
                            } else {
                                $1r.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");
                            };
                            $1r.push('transparent');
                            $1r.push("' unselectable='on'>");
                            if ($1p) {
                                if ($h.start().getDatePart().getTime() !== $h.start().getTime()) {
                                    $1r.push(DayPilot.Date.hours($h.start().d, this.$5J.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1r.push("~");
                            };
                            $1r.push("</span></div></div>");
                        };
                        if ($1u) {
                            $1r.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");
                            $1r.push('transparent');
                            $1r.push("' unselectable='on'>");
                            if ($1q) {
                                if ($h.end().getDatePart().getTime() !== $h.end().getTime()) {
                                    $1r.push(DayPilot.Date.hours($h.end().d, this.$5J.timeFormat() === 'Clock12Hours'));
                                }
                            } else {
                                $1r.push("~");
                            };
                            $1r.push("</span></div></div>");
                        };
                        if ($1v === 'Left') {
                            var $X = $1t ? $1w : 0;
                            $1r.push("<div style='margin-top:0px;height:");
                            $1r.push($0d.allDayEventHeight() - 2);
                            $1r.push("px;");
                            $1r.push(";overflow:hidden;text-align:left;padding-left:");
                            $1r.push($X);
                            $1r.push("px;font-size:");
                            $1r.push(this.allDayEventFontSize);
                            $1r.push(";color:");
                            $1r.push(this.allDayEventFontColor);
                            $1r.push(";font-family:");
                            $1r.push(this.eventFontFamily);
                            $1r.push("' unselectable='on'>");
                            if ($h.client.innerHTML()) {
                                $1r.push($h.client.innerHTML());
                            } else {
                                $1r.push($h.text());
                            };
                            $1r.push("</div>");
                        } else if ($1v === 'Center') {
                            if ($1s) {
                                $1r.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");
                                $1r.push("<span style='background-color:");
                                $1r.push('transparent');
                                $1r.push(";font-size:");
                                $1r.push(this.allDayEventFontSize);
                                $1r.push(";color:");
                                $1r.push(this.allDayEventFontColor);
                                $1r.push(";font-family:");
                                $1r.push(this.allDayEventFontFamily);
                                $1r.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1r.push($h.client.innerHTML());
                                } else {
                                    $1r.push($h.text());
                                };
                                $1r.push("</span>");
                                $1r.push("</div>");
                            } else {
                                $1r.push("<div style='margin-top:0px;height:");
                                $1r.push($0d.allDayEventHeight() - 2);
                                $1r.push("px;");
                                $1r.push(";overflow:hidden;text-align:center;font-size:");
                                $1r.push(this.allDayEventFontSize);
                                $1r.push(";color:");
                                $1r.push(this.allDayEventFontColor);
                                $1r.push(";font-family:");
                                $1r.push(this.allDayEventFontFamily);
                                $1r.push("' unselectable='on'>");
                                if ($h.client.innerHTML()) {
                                    $1r.push($h.client.innerHTML());
                                } else {
                                    $1r.push($h.text());
                                };
                                $1r.push("</div>");
                            }
                        };
                        $M.innerHTML = $1r.join('');
                        $d.appendChild($M);
                    } else {
                        var $M = document.createElement("div");
                        $M.setAttribute("unselectable", "on");
                        $M.className = this.$4F("_alldayevent_inner");
                        if (back) {
                            $M.style.background = back;
                        };
                        if ($c.rtl) {
                            if (!$1p) {
                                DayPilot.Util.addClass($d, this.$4F("_alldayevent_continueright"));
                            };
                            if (!$1q) {
                                DayPilot.Util.addClass($d, this.$4F("_alldayevent_continueleft"));
                            }
                        } else {
                            if (!$1p) {
                                DayPilot.Util.addClass($d, this.$4F("_alldayevent_continueleft"));
                            };
                            if (!$1q) {
                                DayPilot.Util.addClass($d, this.$4F("_alldayevent_continueright"));
                            }
                        };
                        if ($h.client.innerHTML()) {
                            $M.innerHTML = $h.client.innerHTML();
                        } else {
                            $M.innerHTML = $h.text();
                        };
                        $d.appendChild($M);
                    };
                    if ($c.$4C()) {
                        if (typeof $c.onAfterEventRender === 'function') {
                            var $n = {};
                            $n.e = $d.event;
                            $n.div = $d;
                            $c.onAfterEventRender($n);
                        }
                    } else {
                        if ($c.afterEventRender) {
                            $c.afterEventRender($d.event, $d);
                        }
                    };
                    this.nav.allday.appendChild($d);
                    this.elements.events.push($d);
                }
            };
            $1n.style.display = '';
        };
        this.$47 = function($1x) {
            $c.multiselect.$5B();
            if (this.elements.events) {
                for (var i = 0; i < this.elements.events.length; i++) {
                    var $d = this.elements.events[i];
                    var $E = $d.event;
                    if ($E && $1x && !$E.allday()) {
                        continue;
                    };
                    if ($E) {
                        $E.div = null;
                        $E.root = null;
                    };
                    $d.onclick = null;
                    $d.onclickSave = null;
                    $d.ondblclick = null;
                    $d.oncontextmenu = null;
                    $d.onmouseover = null;
                    $d.onmouseout = null;
                    $d.onmousemove = null;
                    $d.onmousedown = null;
                    if ($d.firstChild && $d.firstChild.firstChild && $d.firstChild.firstChild.tagName && $d.firstChild.firstChild.tagName.toUpperCase() === 'IMG') {
                        var $1y = $d.firstChild.firstChild;
                        $1y.onmousedown = null;
                        $1y.onmousemove = null;
                        $1y.onclick = null;
                    };
                    $d.helper = null;
                    $d.event = null;
                    DayPilot.de($d);
                }
            };
            this.elements.events = [];
        };
        this.$5K = function($h) {
            var $G = this.nav.events;
            var $1z = this.roundedCorners;
            var $1A = this.roundedCorners && (this.$3W.ff || this.$3W.opera105 || this.$3W.webkit522 || !this.$3W.ielt9);
            var $1B = this.roundedCorners && !$1A;
            var $1C = $h.cache || $h.data;
            var $1D = $1C.borderColor || this.eventBorderColor;
            var $d = document.createElement("div");
            $d.setAttribute("unselectable", "on");
            $d.style.MozUserSelect = 'none';
            $d.style.KhtmlUserSelect = 'none';
            $d.style.WebkitUserSelect = 'none';
            $d.style.position = 'absolute';
            if (!this.cssOnly) {
                $d.style.fontFamily = this.eventFontFamily;
                $d.style.fontSize = this.eventFontSize;
                $d.style.color = $1C.fontColor || this.eventFontColor;
                if (!$1z) {
                    $d.style.backgroundColor = $1D;
                }
            } else {
                $d.className = this.$4F("_event");
            };
            $d.style.left = $h.part.left + '%';
            $d.style.top = ($h.part.top - this.$5m()) + 'px';
            $d.style.width = $h.part.width + '%';
            $d.style.height = Math.max($h.part.height, 2) + 'px';
            $d.style.overflow = 'hidden';
            $d.isFirst = $h.part.start.getTime() === $h.start().getTime();
            $d.isLast = $h.part.end.getTime() === $h.end().getTime();
            if ($h.client.clickEnabled()) {
                $d.onclick = this.$4P;
            };
            if ($h.client.doubleClickEnabled()) {
                $d.ondblclick = this.$4T;
            };
            DayPilot.re($d, "contextmenu", this.$4U);
            $d.onmousemove = this.$5L;
            $d.onmouseout = this.$5M;
            $d.onmousedown = this.$5N;
            DayPilot.re($d, DayPilot.touch.start, this.$5O.onEventTouchStart);
            DayPilot.re($d, DayPilot.touch.move, this.$5O.onEventTouchMove);
            DayPilot.re($d, DayPilot.touch.end, this.$5O.onEventTouchEnd);
            var $1r = [];
            if (!this.cssOnly) {
                if (this.eventDeleteHandling !== 'Disabled' && $h.client.deleteEnabled()) {
                    $1r.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");
                    if (this.deleteImageUrl) {
                        $1r.push("background-image:url(\"" + this.deleteImageUrl + "\");");
                    };
                    $1r.push("' class='");
                    $1r.push(this.$4F("event_delete"));
                    $1r.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");
                    $1r.push(this.clientName);
                    $1r.push(".bubble && ");
                    $1r.push(this.clientName);
                    $1r.push(".bubble.hideAfter > 0");
                    $1r.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");
                    $1r.push(this.clientName);
                    $1r.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");
                };
                if ($1B) {
                    $1r.push("<div style='margin-right:2px;'>");
                    $1r.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");
                    $1r.push($1D);
                    $1r.push(";'>&nbsp;</div>");
                    $1r.push("</div>");
                    $1r.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");
                    $1r.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");
                    $1r.push($1D);
                    $1r.push(";border-left:1px solid ");
                    $1r.push($1D);
                    $1r.push(";background-color:");
                    $1r.push($h.client.header() ? $1D : $h.BackgroundColor);
                    $1r.push("'>");
                    $1r.push("&nbsp;</div>");
                    $1r.push("</div>");
                } else if (!$1A) {
                    $1r.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");
                };
                $1r.push("<div");
                if (this.showToolTip && !this.bubble) {
                    $1r.push(" title='");
                    $1r.push($h.client.toolTip().replace(/'/g, "&apos;"));
                    $1r.push("'");
                };
                var $J = Math.max($h.part.height - 2, 0);
                $1r.push(" c='1'");
                $1r.push(" class='");
                $1r.push($1C.cssClass || this.$4F('event'));
                $1r.push("'");
                if ($1B) {
                    $1r.push(" style='margin-top:1px;height:");
                    $1r.push($J - 2);
                } else {
                    $1r.push(" style='margin-top:0px;height:");
                    $1r.push($J);
                };
                $1r.push("px;background-color:");
                $1r.push($h.client.backColor());
                if ($1A) {
                    $1r.push(";border:1px solid ");
                    $1r.push($1D);
                    $1r.push(";-moz-border-radius:5px;");
                    $1r.push(";-webkit-border-radius:5px;");
                    $1r.push(";border-radius:5px;");
                } else {
                    $1r.push(";border-left:1px solid ");
                    $1r.push($1D);
                    $1r.push(";border-right:1px solid ");
                    $1r.push($1D);
                };
                $1r.push(";");
                if ($h.data.backgroundImage) {
                    $1r.push("background-image:url(");
                    $1r.push($h.data.backgroundImage);
                    $1r.push(");");
                    if ($h.data.backgroundRepeat) {
                        $1r.push("background-repeat:");
                        $1r.push($h.data.backgroundRepeat);
                        $1r.push(";");
                    }
                };
                if ($c.rtl) {
                    $1r.push("direction:rtl;");
                };
                $1r.push("' unselectable='on'>");
                if (this.durationBarVisible) {
                    var $1E = $h.client.barColor() || $c.durationBarColor;
                    $1r.push("<div style='position:absolute;left:1px;top:1px;width:");
                    $1r.push($c.durationBarWidth - 1);
                    $1r.push("px;height:");
                    $1r.push($h.part.barTop);
                    $1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");
                    $1r.push("<div style='position:absolute;left:1px;top:");
                    $1r.push($h.part.barTop + $h.part.barHeight);
                    $1r.push("px;width:");
                    $1r.push($c.durationBarWidth - 1);
                    $1r.push("px;height:");
                    $1r.push($J - ($h.part.barTop + $h.part.barHeight));
                    $1r.push("px;background-color:white;font-size:1px' unselectable='on'></div>");
                    $1r.push("<div style='position:absolute;left:1px;width:");
                    $1r.push($c.durationBarWidth);
                    $1r.push("px;height:");
                    $1r.push($h.part.barHeight);
                    $1r.push("px;");
                    if ($h.data.durationBarImageUrl) {
                        $1r.push("background-image:url(");
                        $1r.push($h.data.durationBarImageUrl);
                        $1r.push(");");
                    } else if ($c.durationBarImageUrl) {
                        $1r.push("background-image:url(");
                        $1r.push($c.durationBarImageUrl);
                        $1r.push(");");
                    };
                    $1r.push("top:");
                    $1r.push($h.part.barTop + 1);
                    $1r.push("px;background-color:");
                    $1r.push($1E);
                    $1r.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");
                    $1r.push($c.durationBarWidth);
                    $1r.push("px;top:1px;width:1px;background-color:");
                    $1r.push($1D);
                    $1r.push(";height:100%' unselectable='on'></div>");
                };
                var $1F = $h.client.header() ? this.eventHeaderHeight : 0;
                if ($h.client.header()) {
                    $1r.push("<div unselectable='on' style='overflow:hidden;height:");
                    $1r.push(this.eventHeaderHeight);
                    $1r.push("px; background-color:");
                    $1r.push($1D);
                    $1r.push(";font-size:");
                    $1r.push(this.eventHeaderFontSize);
                    $1r.push(";color:");
                    $1r.push(this.eventHeaderFontColor);
                    $1r.push("'>");
                    $1r.push($h.client.header());
                    $1r.push("</div>");
                };
                if (this.durationBarVisible) {
                    $1r.push("<div unselectable='on' style='padding-left:");
                    $1r.push($c.durationBarWidth + 3);
                    $1r.push("px;");
                } else {
                    $1r.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");
                    $1r.push($J - $1F - 1);
                    $1r.push("px;");
                };
                $1r.push("'>");
                $1r.push($h.client.innerHTML());
                $1r.push("</div></div>");
                if ($1B) {
                    $1r.push("<div unselectable='on' style='margin-right:2px;'>");
                    $1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");
                    $1r.push($1D);
                    $1r.push(";'><!-- --></div>");
                    $1r.push("</div>");
                    $1r.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");
                    $1r.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");
                    $1r.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");
                    $1r.push($1D);
                    $1r.push(";border-left:1px solid ");
                    $1r.push($1D);
                    $1r.push(";background-color:");
                    $1r.push($h.client.backColor());
                    $1r.push("'>");
                    $1r.push("<!-- --></div>");
                    $1r.push("</div>");
                    $1r.push("</div>");
                };
                $d.innerHTML = $1r.join('');
            } else {
                if ($1C.cssClass) {
                    DayPilot.Util.addClass($d, $1C.cssClass);
                };
                if (this.showToolTip && !this.bubble) {
                    $d.setAttribute("title", $h.client.toolTip());
                };
                var $M = document.createElement("div");
                $M.setAttribute("unselectable", "on");
                $M.className = $c.$4F("_event_inner");
                $M.innerHTML = $h.client.innerHTML();
                if ($1C.fontColor) {
                    $M.style.color = $1C.fontColor;
                };
                if ($1C.backColor) {
                    $M.style.background = $1C.backColor;
                };
                if ($1C.borderColor) {
                    $M.style.borderColor = $1C.borderColor;
                };
                if ($1C.backgroundImage) {
                    $M.style.backgroundImage = "url(" + $1C.backgroundImage + ")";
                    if ($1C.backgroundRepeat) {
                        $M.style.backgroundRepeat = $1C.backgroundRepeat;
                    }
                };
                $d.appendChild($M);
                if ($h.client.barVisible()) {
                    var $J = $h.part.height - 2;
                    var $1G = 100 * $h.part.barTop / $J;
                    var $1H = Math.ceil(100 * $h.part.barHeight / $J);
                    if (this.durationBarMode === "PercentComplete") {
                        $1G = 0;
                        $1H = $1C.complete;
                    };
                    var $1I = document.createElement("div");
                    $1I.setAttribute("unselectable", "on");
                    $1I.className = this.$4F("_event_bar");
                    $1I.style.position = "absolute";
                    if ($1C.barBackColor) {
                        $1I.style.backgroundColor = $1C.barBackColor;
                    };
                    var $1J = document.createElement("div");
                    $1J.setAttribute("unselectable", "on");
                    $1J.className = this.$4F("_event_bar_inner");
                    $1J.style.top = $1G + "%";
                    if (0 < $1H && $1H <= 1) {
                        $1J.style.height = "1px";
                    } else {
                        $1J.style.height = $1H + "%";
                    };
                    if ($1C.barColor) {
                        $1J.style.backgroundColor = $1C.barColor;
                    };
                    $1I.appendChild($1J);
                    $d.appendChild($1I);
                }
            };
            if ($1C.areas) {
                for (var i = 0; i < $1C.areas.length; i++) {
                    var $1K = $1C.areas[i];
                    if ($1K.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($d, $h, $1K);
                    $d.appendChild(a);
                }
            };
            if ($G.rows[0].cells[$h.part.dayIndex]) {
                var $1L = $G.rows[0].cells[$h.part.dayIndex].events;
                $1L.appendChild($d);
                $c.$5P($d);
                $d.event = $h;
                if ($c.multiselect.$5t($h)) {
                    $c.multiselect.add($d.event, true);
                };
                if ($c.$4C()) {
                    if (typeof $c.onAfterEventRender === 'function') {
                        var $n = {};
                        $n.e = $d.event;
                        $n.div = $d;
                        $c.onAfterEventRender($n);
                    }
                } else {
                    if ($c.afterEventRender) {
                        $c.afterEventRender($d.event, $d);
                    }
                }
            };
            $c.elements.events.push($d);
        };
        this.$5P = function(el) {
            var c = (el && el.childNodes) ? el.childNodes.length : 0;
            for (var i = 0; i < c; i++) {
                try {
                    var $1h = el.childNodes[i];
                    if ($1h.nodeType === 1) {
                        $1h.setAttribute("unselectable", "on");
                        this.$5P($1h);
                    }
                } catch (e) {}
            }
        };
        this.$4y = function() {
            this.multiselect.$5o = [];
            var $08 = new Date();
            for (var i = 0; i < this.$4E.length; i++) {
                var $1M = this.$4E[i];
                if (!$1M.blocks) {
                    continue;
                };
                for (var m = 0; m < $1M.blocks.length; m++) {
                    var $1j = $1M.blocks[m];
                    for (var j = 0; j < $1j.lines.length; j++) {
                        var $1l = $1j.lines[j];
                        for (var k = 0; k < $1l.length; k++) {
                            var e = $1l[k];
                            e.part.width = 100 / $1j.lines.length;
                            e.part.left = e.part.width * j;
                            if (this.eventArrangement === 'Cascade') {
                                var $1N = (j === $1j.lines.length - 1);
                                if (!$1N) {
                                    e.part.width = e.part.width * 1.5;
                                }
                            };
                            if (this.eventArrangement === 'Full') {
                                e.part.left = e.part.left / 2;
                                e.part.width = 100 - e.part.left;
                            };
                            if (!e.allday()) {
                                this.$5K(e);
                            }
                        }
                    }
                }
            };
            this.multiselect.redraw();
            var end = new Date();
            var $1O = end.getTime() - $08.getTime();
        };
        this.$5Q = function() {
            this.multiselect.$5o = [];
            for (var i = 0; i < this.$4E.length; i++) {
                var $1M = this.$4E[i];
                for (var j = 0; j < $1M.lines.length; j++) {
                    var $1l = $1M.lines[j];
                    for (var k = 0; k < $1l.length; k++) {
                        var e = $1l[k];
                        e.part.width = 100 / $1M.lines.length;
                        e.part.left = e.Width * j;
                        if (!e.allday()) {
                            this.$5K(e);
                        }
                    }
                }
            }
        };
        this.$4F = function($1P) {
            var $1Q = this.theme || this.cssClassPrefix;
            if ($1Q) {
                return $1Q + $1P;
            } else {
                return "";
            }
        };
        this.$4x = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$5R = function() {
            var $J = this.$4M() + this.$5S();
            $c.debug.message("Getting totalHeight, headerHeight: " + this.$4M() + " scrollable: " + this.$5S());
            if ($J < 0) {
                return 0;
            };
            return $J;
        };
        this.$5T = function() {
            this.nav.top.dp = this;
            this.nav.top.innerHTML = '';
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.WebkitUserSelect = 'none';
            this.nav.top.style.position = 'relative';
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.rtl) {
                this.nav.top.style.direction = "rtl";
            };
            if (!this.cssOnly) {
                this.nav.top.style.lineHeight = "1.2";
                this.nav.top.style.textAlign = "left";
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$5R() + "px";
            };
            if (this.hideUntilInit) {
                this.nav.top.style.visibility = 'hidden';
            };
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.scroll = document.createElement("div");
            this.nav.scroll.style.height = this.$5S() + "px";
            if (this.cssOnly) {
                DayPilot.Util.addClass(this.nav.top, this.$4F("_main"));
            };
            var $0L = this.columnWidthSpec === 'Fixed';
            if (!$0L) {
                if (this.heightSpec === "Fixed") {
                    this.nav.scroll.style.overflowY = "scroll";
                } else if (this.heightSpec === 'BusinessHours' && this.$4G() <= this.businessEndsHour - this.businessBeginsHour) {
                    this.nav.scroll.style.overflow = "hidden";
                } else if (this.heightSpec !== "Full" && this.heightSpec !== "BusinessHoursNoScroll") {
                    this.nav.scroll.style.overflow = "auto";
                } else {
                    this.nav.scroll.style.overflow = "hidden";
                }
            };
            this.nav.scroll.style.position = "relative";
            if (!this.cssOnly) {
                this.nav.scroll.style.border = "1px solid " + this.borderColor;
                this.nav.scroll.style.backgroundColor = this.hourNameBackColor;
            };
            if (this.showHeader) {
                var $1n = this.$5U();
                this.nav.top.appendChild($1n);
            };
            this.nav.scroll.style.zoom = 1;
            this.nav.scroll.setAttribute("data-id", "nav.scroll");
            this.nav.scroll.style.position = "absolute";
            this.nav.scroll.style.left = "0px";
            this.nav.scroll.style.right = "0px";
            this.nav.scroll.style.top = this.$4M() + "px";
            var $1R = this.$5V();
            this.nav.scrollable = $1R.firstChild;
            this.nav.scroll.appendChild($1R);
            this.nav.top.appendChild(this.nav.scroll);
            this.nav.vsph = document.createElement("div");
            this.nav.vsph.style.display = "none";
            this.nav.top.appendChild(this.nav.vsph);
            this.nav.scrollpos = document.createElement("input");
            this.nav.scrollpos.type = "hidden";
            this.nav.scrollpos.id = $c.id + "_scrollpos";
            this.nav.scrollpos.name = this.nav.scrollpos.id;
            this.nav.top.appendChild(this.nav.scrollpos);
            this.nav.select = document.createElement("input");
            this.nav.select.type = "hidden";
            this.nav.select.id = $c.id + "_select";
            this.nav.select.name = this.nav.select.id;
            this.nav.select.value = null;
            this.nav.top.appendChild(this.nav.select);
            this.nav.scrollLayer = document.createElement("div");
            this.nav.scrollLayer.style.position = 'absolute';
            this.nav.scrollLayer.style.top = '0px';
            this.nav.scrollLayer.style.left = '0px';
            this.nav.top.appendChild(this.nav.scrollLayer);
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
            this.nav.loading = document.createElement("div");
            this.nav.loading.style.position = 'absolute';
            this.nav.loading.style.top = '0px';
            this.nav.loading.style.left = (this.hourWidth + 5) + "px";
            this.nav.loading.style.backgroundColor = this.loadingLabelBackColor;
            this.nav.loading.style.fontSize = this.loadingLabelFontSize;
            this.nav.loading.style.fontFamily = this.loadingLabelFontFamily;
            this.nav.loading.style.color = this.loadingLabelFontColor;
            this.nav.loading.style.padding = '2px';
            this.nav.loading.innerHTML = this.loadingLabelText;
            this.nav.loading.style.display = 'none';
            this.nav.top.appendChild(this.nav.loading);
        };
        this.$4t = function() {
            if (!this.$3T) {
                DayPilot.pu(this.nav.hourTable);
            } else {
                this.$5W();
            };
            if (this.nav.hoursPlaceholder) {
                this.nav.hoursPlaceholder.innerHTML = '';
                this.nav.hourTable = this.$5X();
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);
            }
        };
        this.$5W = function() {
            if (!this.nav.hourTable) {
                return;
            };
            for (var i = 0; i < this.nav.hourTable.rows.length; i++) {
                var $1S = this.nav.hourTable.rows[i];
                var $d = $1S.cells[0].firstChild;
                $d.data = null;
                $d.onmousemove = null;
                $d.onmouseout = null;
            }
        };
        this.$5V = function() {
            var $1T = document.createElement("div");
            $1T.style.zoom = 1;
            $1T.style.position = 'relative';
            $1T.onmousemove = this.$5Y;
            DayPilot.re($1T, DayPilot.touch.start, this.$5O.onMainTouchStart);
            DayPilot.re($1T, DayPilot.touch.move, this.$5O.onMainTouchMove);
            DayPilot.re($1T, DayPilot.touch.end, this.$5O.onMainTouchEnd);
            DayPilot.re($1T, "contextmenu", function(ev) {
                var ev = ev || window.event;
                ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;
            });
            if (navigator.msPointerEnabled) {
                $1T.style.msTouchAction = "none";
                $1T.style.touchAction = "none";
            };
            var $1U = null;
            var $1V = null;
            var $1W = null;
            var $0L = this.columnWidthSpec === 'Fixed';
            if ($0L) {
                if (this.showHours) {
                    var $X = document.createElement("div");
                    $X.style.cssFloat = "left";
                    $X.style.styleFloat = "left";
                    $X.style.width = (this.hourWidth) + "px";
                    $X.style.height = this.$5S() + "px";
                    $X.style.overflow = "hidden";
                    $1T.appendChild($X);
                    $1U = $X;
                    var $1X = 30;
                    var $J = (this.$4H() * this.cellHeight) / (60000 * this.cellDuration) + $1X;
                    $1W = document.createElement("div");
                    $1W.style.height = ($J) + "px";
                    $X.appendChild($1W);
                };
                var $Y = document.createElement("div");
                $Y.style.height = this.$5S() + "px";
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "auto";
                $1T.appendChild($Y);
                $1V = $Y;
            } else {
                var $1Y = document.createElement("table");
                $1Y.cellSpacing = "0";
                $1Y.cellPadding = "0";
                $1Y.border = "0";
                $1Y.style.border = "0px none";
                $1Y.style.width = "100%";
                $1Y.style.position = 'relative';
                var r = $1Y.insertRow(-1);
                var c;
                if (this.showHours) {
                    c = r.insertCell(-1);
                    c.style.verticalAlign = "top";
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    $1W = c;
                };
                c = r.insertCell(-1);
                c.width = "100%";
                c.style.padding = '0px';
                c.style.border = '0px none';
                c.style.verticalAlign = "top";
                if (!this.cssOnly) {
                    c.style.borderLeft = "1px solid " + this.borderColor;
                };
                $1V = c;
                $1T.appendChild($1Y);
            };
            if ($1W) {
                this.nav.hourTable = this.$5X();
                $1W.appendChild(this.nav.hourTable);
            };
            if (!this.cssOnly && !this.$3U) {
                $1V.appendChild(this.$5Z());
            } else {
                var parent = document.createElement("div");
                parent.style.height = "0px";
                parent.style.position = "relative";
                parent.appendChild(this.$5Z());
                var $1Z = document.createElement("div");
                $1Z.style.position = "absolute";
                $1Z.style.top = "0px";
                $1Z.style.left = "0px";
                $1Z.style.right = "0px";
                $1Z.style.height = "0px";
                parent.appendChild($1Z);
                this.nav.crosshair = $1Z;
                parent.appendChild(this.$60());
                $1V.appendChild(parent);
            };
            this.nav.zoom = $1T;
            this.nav.bottomLeft = $1U;
            this.nav.bottomRight = $1V;
            this.nav.hoursPlaceholder = $1W;
            return $1T;
        };
        this.$5Z = function() {
            var $1Y = document.createElement("table");
            $1Y.cellPadding = "0";
            $1Y.cellSpacing = "0";
            $1Y.border = "0";
            var $0L = this.columnWidthSpec === 'Fixed';
            if (!$0L) {
                $1Y.style.width = "100%";
            };
            $1Y.style.border = "0px none";
            if (!this.cssOnly) {};
            $1Y.style.tableLayout = 'fixed';
            this.nav.main = $1Y;
            this.nav.events = $1Y;
            return $1Y;
        };
        this.$61 = function() {
            var $0L = this.columnWidthSpec === 'Fixed';
            if (!$0L) {
                return "100%";
            } else {
                var $20 = 0;
                for (var i = 0; i < $c.$4E.length; i++) {
                    var $q = $c.$4E[i];
                    if ($q.width) {
                        $20 += $q.width;
                    } else {
                        $20 += $c.columnWidth;
                    }
                };
                return $20 + "px";
            }
        };
        this.$60 = function() {
            var $1Y = document.createElement("table");
            var $0L = this.columnWidthSpec === 'Fixed';
            $1Y.style.position = "absolute";
            $1Y.style.top = "0px";
            $1Y.cellPadding = "0";
            $1Y.cellSpacing = "0";
            $1Y.border = "0";
            $1Y.style.width = $c.$61();
            $1Y.style.border = "0px none";
            $1Y.style.tableLayout = 'fixed';
            this.nav.events = $1Y;
            var $21 = true;
            var $0N = this.$4E;
            var cl = $0N.length;
            var r = ($21) ? $1Y.insertRow(-1) : $1Y.rows[0];
            for (var j = 0; j < cl; j++) {
                var c = ($21) ? r.insertCell(-1) : r.cells[j];
                if ($21) {
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    c.style.height = '0px';
                    c.style.overflow = 'visible';
                    if (!$c.rtl) {
                        c.style.textAlign = 'left';
                    };
                    if ($c.columnWidthSpec === "Fixed") {
                        if ($0N[j].width) {
                            c.style.width = $0N[j].width + "px";
                        } else {
                            c.style.width = $c.columnWidth + "px";
                        }
                    };
                    $c.$62(c);
                }
            };
            return $1Y;
        };
        this.$5X = function() {
            var $1Y = document.createElement("table");
            $1Y.cellSpacing = "0";
            $1Y.cellPadding = "0";
            $1Y.border = "0";
            $1Y.style.border = '0px none';
            $1Y.style.width = this.hourWidth + "px";
            $1Y.oncontextmenu = function() {
                return false;
            };
            $1Y.onmousemove = function() {
                $c.$4e();
            };
            var $22 = this.$4H() / (this.timeHeaderCellDuration * 60 * 1000);
            for (var i = 0; i < $22; i++) {
                this.$63($1Y, i);
            };
            return $1Y;
        };
        this.$64 = function() {
            return (this.$4L() - this.$4L(true)) * (60 / this.cellDuration);
        };
        this.$65 = function() {
            return (this.$4L() - this.$4L(true));
        };
        this.$5m = function() {
            return this.$64() * this.cellHeight;
        };
        this.$63 = function($1Y, i) {
            var $J = (this.cellHeight * 60 / this.cellDuration) / (60 / this.timeHeaderCellDuration);
            var r = $1Y.insertRow(-1);
            r.style.height = $J + "px";
            var c = r.insertCell(-1);
            c.valign = "bottom";
            c.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                c.className = this.$4F("rowheader");
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.cursor = "default";
            };
            c.style.padding = '0px';
            c.style.border = '0px none';
            var $23 = document.createElement("div");
            if (this.cssOnly) {
                $23.className = this.$4F("_rowheader");
            };
            $23.style.position = "relative";
            $23.style.width = this.hourWidth + "px";
            $23.style.height = ($J) + "px";
            $23.style.overflow = 'hidden';
            $23.setAttribute("unselectable", "on");
            var $1j = document.createElement("div");
            if (this.cssOnly) {
                $1j.className = this.$4F("_rowheader_inner");
            };
            $1j.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                $1j.style.borderBottom = "1px solid " + this.hourNameBorderColor;
                $1j.style.textAlign = "right";
                $1j.style.height = ($J - 1) + "px";
            };
            var $S = null;
            var $h = null;
            if (this.hours) {
                var $24 = i + this.$65();
                $h = this.hours[$24];
                $S = $h.html;
            };
            var $08 = this.startDate.addHours(i + this.$4L());
            var $25 = $08.getHours();
            if (typeof $c.onBeforeTimeHeaderRender === 'function') {
                var $n = {};
                $n.header = {};
                $n.header.hours = $25;
                $n.header.minutes = $08.getMinutes();
                $n.header.start = $08.toString("HH:mm");
                $n.header.html = $S;
                $n.header.areas = $h ? $h.areas : null;
                $c.onBeforeTimeHeaderRender($n);
                if ($n.header.html !== null) {
                    $S = $n.header.html;
                };
                $h = $n.header;
            };
            if ($h) {
                $23.data = $h;
                $23.onmousemove = $c.$66;
                $23.onmouseout = $c.$67;
            };
            if ($S) {
                $1j.innerHTML = $S;
            } else {
                var $26 = document.createElement("div");
                $26.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $26.style.padding = "2px";
                    $26.style.fontFamily = this.hourFontFamily;
                    $26.style.fontSize = this.hourFontSize;
                    $26.style.color = this.hourFontColor;
                };
                var am = $25 < 12;
                if (this.$5J.timeFormat() === "Clock12Hours") {
                    $25 = $25 % 12;
                    if ($25 === 0) {
                        $25 = 12;
                    }
                };
                $26.innerHTML = $25;
                var $27 = document.createElement("span");
                $27.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $27.style.fontSize = "10px";
                    $27.style.verticalAlign = "super";
                } else {
                    $27.className = this.$4F("_rowheader_minutes");
                };
                var $28;
                if (this.$5J.timeFormat() === "Clock12Hours") {
                    if (am) {
                        $28 = "AM";
                    } else {
                        $28 = "PM";
                    }
                } else {
                    $28 = "00";
                };
                if (!this.cssOnly) {
                    $27.innerHTML = "&nbsp;" + $28;
                } else {
                    $27.innerHTML = $28;
                };
                $26.appendChild($27);
                $1j.appendChild($26);
            };
            $23.appendChild($1j);
            c.appendChild($23);
        };
        this.$66 = function(ev) {
            $c.$4e();
            var $d = this;
            if (!$d.active) {
                DayPilot.Areas.showAreas($d, $d.data);
            }
        };
        this.$67 = function(ev) {
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$5S = function() {
            switch (this.heightSpec) {
                case "Fixed":
                    return this.height;
                case "Parent100Pct":
                    return this.height;
                case "Full":
                    return (this.$4H() * this.cellHeight) / (60000 * this.cellDuration);
                case "BusinessHours":
                case "BusinessHoursNoScroll":
                    var $O = this.$4I();
                    return $O * this.cellHeight * 60 / this.cellDuration;
                default:
                    throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
            }
        };
        this.$4M = function() {
            if (!this.showHeader) {
                return 0;
            };
            var $29 = this.headerLevels * $0d.headerHeight() + this.headerLevels - 1;
            if (this.showAllDayEvents && $0d.allDayHeaderHeight()) {
                if (!this.cssOnly) {
                    return $29 + $0d.allDayHeaderHeight();
                } else {
                    return $29 + $0d.allDayHeaderHeight();
                }
            } else {
                return $29;
            }
        };
        this.$4p = function() {
            if (!this.headerHeightAutoFit) {
                return;
            };
            if (this.headerLevels > 1) {
                throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";
                return;
            };
            var $N = 0;
            for (var i = 0; i < this.$4E.length; i++) {
                var $f = this.nav.header.rows[this.headerLevels - 1].cells[i];
                var $d = $f.firstChild;
                var $M = $d.firstChild;
                var $2a = $d.style.height;
                $d.style.height = "auto";
                $M.style.position = "static";
                var h = $d.offsetHeight;
                $d.style.height = $2a;
                $M.style.position = '';
                $N = Math.max($N, h);
            };
            if ($N > this.headerHeight) {
                this.$3S.headerHeight = $N;
                this.$4n();
                this.$4o();
            }
        };
        this.$68 = function() {
            if (this.cssOnly) {
                return DayPilot.sw($c.nav.scroll) > 0;
            } else {
                return DayPilot.sw($c.nav.scroll) > 2;
            }
        };
        this.$5U = function() {
            var $1n = document.createElement("div");
            if (!this.cssOnly) {
                $1n.style.borderLeft = "1px solid " + this.borderColor;
                $1n.style.borderRight = "1px solid " + this.borderColor;
            };
            var $0L = this.columnWidthSpec === 'Fixed';
            if (!$0L) {
                $1n.style.overflow = "auto";
            };
            $1n.style.position = "absolute";
            $1n.style.left = "0px";
            $1n.style.right = "0px";
            var $1T = document.createElement("div");
            $1T.style.position = "relative";
            $1T.style.zoom = "1";
            var $2b = null;
            var $0L = this.columnWidthSpec === 'Fixed';
            if ($0L) {
                var $X = document.createElement("div");
                $X.style.cssFloat = "left";
                $X.style.styleFloat = "left";
                $X.style.width = (this.hourWidth) + "px";
                if (this.showHours) {
                    var $2c = this.$69();
                    this.nav.corner = $2c;
                    $X.appendChild($2c);
                    $1T.appendChild($X);
                    this.nav.upperLeft = $X;
                };
                var $1X = 30;
                var $Y = document.createElement("div");
                if (this.showHours) {
                    $Y.style.marginLeft = (this.hourWidth) + "px";
                };
                $Y.style.position = "relative";
                $Y.style.overflow = "hidden";
                $Y.style.height = this.$4M() + "px";
                $1T.appendChild($Y);
                this.nav.upperRight = $Y;
                $2b = document.createElement("div");
                $2b.style.width = (this.$4E.length * this.columnWidth + $1X) + "px";
                $Y.appendChild($2b);
            } else {
                var $1Y = document.createElement("table");
                $1Y.cellPadding = "0";
                $1Y.cellSpacing = "0";
                $1Y.border = "0";
                $1Y.style.width = "100%";
                $1Y.style.borderCollapse = 'separate';
                $1Y.style.border = "0px none";
                var r = $1Y.insertRow(-1);
                this.nav.fullHeader = $1Y;
                if (this.showHours) {
                    var c = r.insertCell(-1);
                    c.style.padding = '0px';
                    c.style.border = '0px none';
                    var $2c = this.$69();
                    c.appendChild($2c);
                    this.nav.corner = $2c;
                };
                c = r.insertCell(-1);
                c.style.width = "100%";
                if (!this.cssOnly) {
                    c.style.backgroundColor = this.hourNameBackColor;
                };
                c.valign = "top";
                c.style.position = 'relative';
                c.style.padding = '0px';
                c.style.border = '0px none';
                $2b = document.createElement("div");
                $2b.style.position = "relative";
                $2b.style.height = this.$4M() + "px";
                $2b.style.overflow = "hidden";
                c.appendChild($2b);
                this.nav.mid = $2b;
                $1T.appendChild($1Y);
            };
            this.nav.headerParent = $2b;
            this.$6a();
            var $2d = this.$68();
            var $0L = this.columnWidthSpec === 'Fixed';
            if ($2d && !$0L) {
                this.$6b();
            };
            $1n.appendChild($1T);
            return $1n;
        };
        this.$6a = function() {
            this.nav.header = document.createElement("table");
            this.nav.header.cellPadding = "0";
            this.nav.header.cellSpacing = "0";
            var $0L = this.columnWidthSpec === 'Fixed';
            if (!$0L) {
                this.nav.header.width = "100%";
            };
            this.nav.header.style.tableLayout = "fixed";
            if (!this.cssOnly) {
                this.nav.header.style.borderBottom = "0px none #000000";
                this.nav.header.style.borderLeft = "1px solid " + this.borderColor;
                this.nav.header.style.borderTop = "1px solid " + this.borderColor;
            };
            this.nav.header.oncontextmenu = function() {
                return false;
            };
            var $2d = this.$68();
            if (!this.cssOnly) {
                if ($2d) {
                    this.nav.header.style.borderRight = "1px solid " + this.borderColor;
                }
            };
            this.nav.headerParent.appendChild(this.nav.header);
            if (this.nav.allday) {
                DayPilot.de(this.nav.allday);
            };
            if (this.showAllDayEvents) {
                var $2e = document.createElement("div");
                $2e.style.position = 'absolute';
                $2e.style.top = "0px";
                $2e.style.height = "0px";
                var $0L = this.columnWidthSpec === 'Fixed';
                if (!$0L) {
                    $2e.style.width = "100%";
                } else {
                    $2e.style.width = (this.$4E.length * this.columnWidth) + "px";
                };
                this.nav.allday = $2e;
                this.nav.headerParent.appendChild($2e);
            }
        };
        this.$6b = function() {
            if (!this.nav.fullHeader) {
                return;
            };
            var r = this.nav.fullHeader.rows[0];
            var c = r.insertCell(-1);
            if (!this.cssOnly) {
                c.className = this.$4F('cornerright');
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.borderBottom = "0px none";
                c.style.borderLeft = "1px solid " + this.borderColor;
                c.style.borderRight = "0px none";
            };
            c.style.padding = '0px';
            c.style.verticalAlign = 'top';
            c.setAttribute("unselectable", "on");
            var $1r = document.createElement("div");
            $1r.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $1r.className = this.$4F('_cornerright');
            };
            $1r.style.overflow = "hidden";
            $1r.style.position = "relative";
            $1r.style.width = "16px";
            $1r.style.height = this.$4M() + "px";
            var $M = document.createElement("div");
            if (this.cssOnly) {
                $M.className = this.$4F('_cornerright_inner');
            } else {
                $M.style.borderTop = "1px solid " + this.borderColor;
            };
            $1r.appendChild($M);
            c.appendChild($1r);
            this.nav.cornerRight = $1r;
        };
        this.$69 = function() {
            var $1R = document.createElement("div");
            $1R.style.position = 'relative';
            if (!this.cssOnly) {
                $1R.style.backgroundColor = this.cornerBackColor;
                $1R.style.fontFamily = this.headerFontFamily;
                $1R.style.fontSize = this.headerFontSize;
                $1R.style.color = this.headerFontColor;
                $1R.className = this.$4F("corner");
            } else {
                $1R.className = this.$4F("_corner");
            };
            $1R.style.width = this.hourWidth + "px";
            $1R.style.height = this.$4M() + "px";
            $1R.style.overflow = "hidden";
            $1R.oncontextmenu = function() {
                return false;
            };
            var $2c = document.createElement("div");
            if (this.cssOnly) {
                $2c.className = this.$4F("_corner_inner");
            } else {
                $2c.style.borderTop = "1px solid " + this.borderColor;
            };
            $2c.setAttribute("unselectable", "on");
            var $S = this.cornerHTML || this.cornerHtml;
            $2c.innerHTML = $S ? $S : '';
            $1R.appendChild($2c);
            if (!this.numberFormat) return $1R;
            var $2f = document.createElement("div");
            $2f.style.position = 'absolute';
            $2f.style.padding = '2px';
            $2f.style.top = '0px';
            $2f.style.left = '1px';
            $2f.style.backgroundColor = "#FF6600";
            $2f.style.color = "white";
            $2f.innerHTML = "\u0044\u0045\u004D\u004F";
            $2f.setAttribute("unselectable", "on");
            $1R.appendChild($2f);
            return $1R;
        };
        this.$48 = function() {
            var $1Y = this.nav.main;
            $1Y.root = null;
            $1Y.onmouseup = null;
            for (var y = 0; y < $1Y.rows.length; y++) {
                var r = $1Y.rows[y];
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    c.root = null;
                    c.onmousedown = null;
                    c.onmousemove = null;
                    c.onmouseout = null;
                    c.onmouseup = null;
                    c.onclick = null;
                    c.ondblclick = null;
                    c.oncontextmenu = null;
                }
            };
            if (!this.$3T) DayPilot.pu($1Y);
        };
        this.$4q = function() {
            for (var i = 0; this.nav.scrollUp && i < this.nav.scrollUp.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);
            };
            for (var i = 0; this.nav.scrollDown && i < this.nav.scrollDown.length; i++) {
                this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);
            };
            this.nav.scrollUp = [];
            this.nav.scrollDown = [];
        };
        this.$62 = function(c) {
            var $d = document.createElement("div");
            $d.style.marginRight = $c.columnMarginRight + "px";
            $d.style.position = 'relative';
            $d.style.height = '1px';
            if (!this.cssOnly) {
                $d.style.fontSize = '1px';
                $d.style.lineHeight = '1.2';
            };
            $d.style.marginTop = '-1px';
            c.events = $d;
            var $2g = document.createElement("div");
            $2g.style.position = "relative";
            $d.style.height = "1px";
            $d.style.marginTop = "-1px";
            c.separators = $2g;
            c.appendChild($2g);
            c.appendChild($d);
        };
        this.$4s = function() {
            var $1Y = this.nav.main;
            var $0j = this.cellDuration * 60 * 1000;
            var $2h = this.$4O();
            var $2i = this.$65() * (60 / this.cellDuration);
            var $0N = $c.$4E;
            var $21 = !this.$6c || $1Y.rows.length === 0 || $0N.length !== $1Y.rows[0].cells.length || $2h !== $1Y.rows.length;
            if ($1Y) {
                this.$48();
                if ($c.$3W.ielt9 && $21) {
                    DayPilot.de(this.nav.scrollable.parentNode);
                    var $1R = this.$5V();
                    this.nav.scrollable = $1R.firstChild;
                    this.nav.scroll.appendChild($1R);
                    $1Y = this.nav.main;
                }
            };
            this.nav.scrollable.daypilotMainD = true;
            this.nav.scrollable.calendar = this;
            while ($1Y && $1Y.rows && $1Y.rows.length > 0 && $21) {
                if (!this.$3T) DayPilot.pu($1Y.rows[0]);
                $1Y.deleteRow(0);
            };
            this.$6c = true;
            if (this.scrollLabelsVisible) {
                var $0N = this.$4E;
                var $0O = (this.showHours ? this.hourWidth : 0);
                var $H = (this.nav.scroll.clientWidth - $0O) / $0N.length;
                for (var i = 0; i < $0N.length; i++) {
                    var $0Q = document.createElement("div");
                    $0Q.style.position = 'absolute';
                    $0Q.style.top = '0px';
                    $0Q.style.left = ($0O + 2 + i * $H + $H / 2) + "px";
                    $0Q.style.display = 'none';
                    var $1y = document.createElement("div");
                    $1y.style.height = '10px';
                    $1y.style.width = '10px';
                    if (this.cssOnly) {
                        $1y.className = this.$4F("_scroll_up");
                    } else {
                        $1y.style.backgroundRepeat = "no-repeat";
                        if (this.scrollUpUrl) {
                            $1y.style.backgroundImage = "url('" + this.scrollUpUrl + "')";
                        };
                        $1y.className = this.$4F("scroll_up");
                    };
                    $0Q.appendChild($1y);
                    this.nav.scrollLayer.appendChild($0Q);
                    this.nav.scrollUp.push($0Q);
                    var $0R = document.createElement("div");
                    $0R.style.position = 'absolute';
                    $0R.style.top = '0px';
                    $0R.style.left = ($0O + 2 + i * $H + $H / 2) + "px";
                    $0R.style.display = 'none';
                    var $1y = document.createElement("div");
                    $1y.style.height = '10px';
                    $1y.style.width = '10px';
                    if (this.cssOnly) {
                        $1y.className = this.$4F("_scroll_down");
                    } else {
                        $1y.style.backgroundRepeat = "no-repeat";
                        if (this.scrollDownUrl) {
                            $1y.style.backgroundImage = "url('" + this.scrollDownUrl + "')";
                        };
                        $1y.className = this.$4F("scroll_down");
                    };
                    $0R.appendChild($1y);
                    this.nav.scrollLayer.appendChild($0R);
                    this.nav.scrollDown.push($0R);
                }
            };
            var cl = $0N.length;
            if (this.cssOnly || this.$3U) {
                var $11 = this.nav.events;
                while ($11 && $11.rows && $11.rows.length > 0 && $21) {
                    if (!this.$3T) DayPilot.pu($11.rows[0]);
                    $11.deleteRow(0);
                };
                var r = ($21) ? $11.insertRow(-1) : $11.rows[0];
                for (var j = 0; j < cl; j++) {
                    var c = ($21) ? r.insertCell(-1) : r.cells[j];
                    if ($21) {
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.height = '1px';
                        c.style.overflow = 'visible';
                        var $0L = this.columnWidthSpec === 'Fixed';
                        if ($0L) {
                            if ($0N[j].width) {
                                c.style.width = $0N[j].width + "px";
                            } else {
                                c.style.width = this.columnWidth + "px";
                            }
                        };
                        if (!$c.rtl) {
                            c.style.textAlign = 'left';
                        };
                        $c.$62(c);
                    }
                }
            };
            for (var i = 0; i < $2h; i++) {
                var r = ($21) ? $1Y.insertRow(-1) : $1Y.rows[i];
                var y = i + $2i;
                if ($21) {
                    r.style.MozUserSelect = 'none';
                    r.style.KhtmlUserSelect = 'none';
                    r.style.WebkitUserSelect = 'none';
                };
                for (var j = 0; j < cl; j++) {
                    var $1M = this.$4E[j];
                    var c = ($21) ? r.insertCell(-1) : r.cells[j];
                    c.start = $1M.start.addTime(y * $0j).addHours(this.$4L());
                    c.end = c.start.addTime($0j);
                    c.resource = $1M.id;
                    if (typeof this.onBeforeCellRender === 'function') {
                        if (!this.cellProperties) {
                            this.cellProperties = {};
                        };
                        var $f = {};
                        $f.resource = c.resource;
                        $f.start = c.start;
                        $f.end = c.end;
                        var $24 = j + "_" + y;
                        $f.cssClass = null;
                        $f.html = null;
                        $f.backImage = null;
                        $f.backRepeat = null;
                        $f.backColor = null;
                        $f.business = this.$6d(c.start, c.end);
                        if (this.cellProperties[$24]) {
                            DayPilot.Util.copyProps(this.cellProperties[$24], $f, ['cssClass', 'html', 'backImage', 'backRepeat', 'backColor', 'business']);
                        };
                        var $n = {};
                        $n.cell = $f;
                        this.onBeforeCellRender($n);
                        this.cellProperties[$24] = $f;
                    };
                    var $2j = $c.$6e(j, y);
                    if ($21) {
                        c.root = this;
                        c.style.padding = '0px';
                        c.style.border = '0px none';
                        c.style.verticalAlign = 'top';
                        c.style.height = $c.cellHeight + 'px';
                        c.style.overflow = 'hidden';
                        c.setAttribute("unselectable", "on");
                        if (!this.cssOnly) {
                            var $2k = document.createElement("div");
                            $2k.style.height = ($c.cellHeight - 1) + "px";
                            $2k.style.width = '100%';
                            $2k.style.overflow = 'hidden';
                            $2k.setAttribute("unselectable", "on");
                            c.appendChild($2k);
                            var $d = document.createElement("div");
                            $d.setAttribute("unselectable", "on");
                            $d.style.fontSize = '1px';
                            $d.style.height = '0px';
                            c.appendChild($d);
                            if ((!$c.rtl && j !== cl - 1) || $c.rtl) {
                                c.style.borderRight = '1px solid ' + $c.cellBorderColor;
                            };
                            var $2l = (c.end.getMinutes() + c.end.getSeconds() + c.end.getMilliseconds()) > 0;
                            if ($2l) {
                                if ($c.hourHalfBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourHalfBorderColor;
                                };
                                $d.className = $c.$4F("hourhalfcellborder");
                            } else {
                                if ($c.hourBorderColor !== '') {
                                    $d.style.borderBottom = '1px solid ' + $c.hourBorderColor;
                                };
                                $d.className = $c.$4F("hourcellborder");
                            }
                        } else {
                            var $2k = document.createElement("div");
                            $2k.className = $c.$4F("_cell");
                            $2k.style.position = "relative";
                            $2k.style.height = ($c.cellHeight) + "px";
                            $2k.style.overflow = 'hidden';
                            $2k.setAttribute("unselectable", "on");
                            var $M = document.createElement("div");
                            $M.className = $c.$4F("_cell_inner");
                            $2k.appendChild($M);
                            c.appendChild($2k);
                        }
                    } else {
                        $2k = c.firstChild;
                        $2k.className = $c.$4F("_cell");
                    };
                    c.onmousedown = this.$5f;
                    c.onmousemove = this.$5i;
                    c.onmouseout = this.$5h;
                    DayPilot.re(c, DayPilot.touch.end, this.$5O.onCellTouchEnd);
                    c.onmouseup = function() {
                        return false;
                    };
                    c.onclick = function() {
                        return false;
                    };
                    c.ondblclick = function() {
                        DayPilotCalendar.firstMousePos = null;
                        $c.$5g();
                        clearTimeout(DayPilotCalendar.selectedTimeout);
                        if ($c.timeRangeDoubleClickHandling === 'Disabled') {
                            return;
                        };
                        var $0K = $c.getSelection();
                        $c.$5b($0K.start, $0K.end, $0K.resource);
                    };
                    c.oncontextmenu = function() {
                        if (!this.selected) {
                            $c.clearSelection();
                            DayPilotCalendar.column = DayPilotCalendar.getColumn(this);
                            $c.selectedCells.push(this);
                            DayPilotCalendar.firstSelected = this;
                            DayPilotCalendar.topSelectedCell = this;
                            DayPilotCalendar.bottomSelectedCell = this;
                            $c.$5g();
                        };
                        if ($c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        return false;
                    };
                    var $V = $c.$6f(j, y);
                    $2k = c.firstChild;
                    var $0L = this.columnWidthSpec === 'Fixed';
                    if ($0L) {
                        if ($1M.width) {
                            $2k.style.width = $1M.width + "px";
                        } else {
                            $2k.style.width = this.columnWidth + "px";
                        }
                    };
                    if ($V) {
                        if (this.cssOnly) {
                            $2k.firstChild.style.background = $V;
                        } else {
                            $2k.style.background = $V;
                        }
                    };
                    var $2m = $2j ? $2j.business : this.$6d(c.start, c.end);
                    if ($2m && this.cssOnly) {
                        DayPilot.Util.addClass($2k, $c.$4F("_cell_business"));
                    };
                    var $S = this.cssOnly ? $2k.firstChild : $2k;
                    if ($S) {
                        $S.innerHTML = '';
                    };
                    $2k.style.backgroundImage = "";
                    $2k.style.backgroundRepeat = "";
                    if ($2j) {
                        if ($2j.html) {
                            $S.innerHTML = $2j.html;
                        };
                        if ($2j.cssClass) {
                            if (this.cssOnly) {
                                DayPilot.Util.addClass($2k, $2j.cssClass);
                            } else {
                                DayPilot.Util.addClass(c, $c.$4F($2j.cssClass));
                            }
                        };
                        if ($2j.backImage) {
                            $2k.style.backgroundImage = "url('" + $2j.backImage + "')";
                        };
                        if ($2j.backRepeat) {
                            $2k.style.backgroundRepeat = $2j.backRepeat;
                        }
                    };
                    if (!this.cssOnly) {
                        DayPilot.Util.addClass(c, $c.$4F("cellbackground"));
                    }
                }
            };
            $1Y.onmouseup = this.$5j;
            $1Y.root = this;
            $c.nav.scrollable.style.display = '';
        };
        this.$6d = function($08, end) {
            if (this.businessBeginsHour < this.businessEndsHour) {
                return !($08.getHours() < this.businessBeginsHour || $08.getHours() >= this.businessEndsHour || $08.getDayOfWeek() === 6 || $08.getDayOfWeek() === 0);
            };
            if ($08.getHours() >= this.businessBeginsHour) {
                return true;
            };
            if ($08.getHours() < this.businessEndsHour) {
                return true;
            };
            return false;
        };
        this.$5Y = function(ev) {
            ev = ev || window.event;
            ev.insideMainD = true;
            if (window.event) {
                window.event.srcElement.inside = true;
            };
            DayPilotCalendar.activeCalendar = this;
            var $2n = $c.nav.main;
            $c.coords = DayPilot.mo3($2n, ev);
            var $0G = DayPilot.mc(ev);
            var $1Z = $c.crosshairType && $c.crosshairType !== "Disabled";
            var $2o = $c.coords.x < $c.hourWidth;
            if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilotCalendar.selecting || $2o) {
                $c.$4e();
            } else if ($1Z) {
                $c.$6g();
            };
            if (DayPilot.Global.resizing) {
                if (!DayPilotCalendar.resizingShadow) {
                    DayPilotCalendar.resizingShadow = $c.$4D(DayPilot.Global.resizing, false, $c.shadow);
                };
                var $2p = DayPilot.Global.resizing.event.calendar.cellHeight;
                var $I = 0;
                var $2q = ($0G.y - DayPilotCalendar.originalMouse.y);
                if (DayPilot.Global.resizing.dpBorder === 'bottom') {
                    var $2r = Math.floor(((DayPilotCalendar.originalHeight + DayPilotCalendar.originalTop + $2q) + $2p / 2) / $2p) * $2p - DayPilotCalendar.originalTop + $I;
                    if ($2r < $2p) $2r = $2p;
                    var $N = DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;
                    if (DayPilotCalendar.originalTop + $2r > $N) {
                        $2r = $N - DayPilotCalendar.originalTop;
                    };
                    DayPilotCalendar.resizingShadow.style.height = ($2r) + 'px';
                } else if (DayPilot.Global.resizing.dpBorder === 'top') {
                    var $2s = Math.floor(((DayPilotCalendar.originalTop + $2q - $I) + $2p / 2) / $2p) * $2p + $I;
                    if ($2s < $I) {
                        $2s = $I;
                    };
                    if ($2s > DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2p) {
                        $2s = DayPilotCalendar.originalTop + DayPilotCalendar.originalHeight - $2p;
                    };
                    var $2r = DayPilotCalendar.originalHeight - ($2s - DayPilotCalendar.originalTop);
                    if ($2r < $2p) {
                        $2r = $2p;
                    } else {
                        DayPilotCalendar.resizingShadow.style.top = $2s + 'px';
                    };
                    DayPilotCalendar.resizingShadow.style.height = ($2r) + 'px';
                }
            } else if (DayPilot.Global.moving) {
                if (!DayPilotCalendar.movingShadow) {
                    var $2t = 3;
                    if (DayPilot.distance($0G, DayPilotCalendar.originalMouse) > $2t) {
                        DayPilotCalendar.movingShadow = $c.$4D(DayPilot.Global.moving, !$c.$3W.ie, $c.shadow);
                        DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
                    } else {
                        return;
                    }
                };
                if (!$c.coords) {
                    return;
                };
                var $2p = $c.cellHeight;
                var $I = 0;
                var $0P = DayPilotCalendar.moveOffsetY;
                if (!$0P) {
                    $0P = $2p / 2;
                };
                if (this.moveBy === "Top") {
                    $0P = 0;
                };
                var $2s = Math.floor((($c.coords.y - $0P - $I) + $2p / 2) / $2p) * $2p + $I;
                if ($2s < $I) {
                    $2s = $I;
                };
                var $G = $c.nav.main;
                var $N = $G.clientHeight;
                var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
                if ($2s + $J > $N) {
                    $2s = $N - $J;
                };
                DayPilotCalendar.movingShadow.style.top = $2s + 'px';
                var $H = $G.clientWidth / $G.rows[0].cells.length;
                var $q = Math.floor(($c.coords.x) / $H);
                if ($q < 0) {
                    $q = 0;
                };
                if ($c.rtl) {
                    $q = $c.$4E.length - $q - 1;
                };
                var $11 = $c.nav.events;
                if ($q < $11.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                    DayPilotCalendar.movingShadow.column = $q;
                    DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);
                }
            };
            if (DayPilotCalendar.drag) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$4D(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0F = new DayPilot.Date().getDatePart();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0F,
                            'end': $0F.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                ev.cancelBubble = true;
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var $2u = $c.$6h.getCellCoords();
            if (!$2u) {
                return null;
            };
            var $q = $c.$4E[$2u.x];
            var $f = {};
            $f.resource = $q.id;
            $f.start = new DayPilot.Date($q.start).addHours($c.$4L(true)).addMinutes($2u.y * $c.cellDuration);
            $f.end = $f.start.addMinutes($c.cellDuration);
            return $f;
        };
        this.$6h = {};
        this.$6h.getCellCoords = function() {
            var $u = {};
            $u.x = 0;
            $u.y = 0;
            if (!$c.coords) {
                return null;
            };
            var $G = $c.nav.main;
            var $2v = $c.coords.x;
            var i = 0;
            var $1M = this.col($G, i);
            while ($1M && $2v > $1M.left) {
                i += 1;
                $1M = this.col($G, i);
            };
            $u.x = i - 1;
            var $I = 0;
            var $1S = Math.floor(($c.coords.y - $I) / $c.cellHeight);
            $u.y = $1S;
            if ($u.x < 0) {
                return null;
            };
            return $u;
        };
        this.$6h.col = function($1Y, x) {
            var $u = {};
            $u.left = 0;
            $u.width = 0;
            if (!$1Y) {
                return null;
            };
            if (!$1Y.rows) {
                return null;
            };
            if ($1Y.rows.length === 0) {
                return null;
            };
            if ($1Y.rows[0].cells.length == 0) {
                return null;
            };
            var $f = $1Y.rows[0].cells[x];
            if (!$f) {
                return null;
            };
            var t = DayPilot.abs($1Y);
            var c = DayPilot.abs($f);
            $u.left = c.x - t.x;
            $u.width = $f.offsetWidth;
            return $u;
        };
        this.$6g = function() {
            this.$4e();
            if (!this.elements.crosshair) {
                this.elements.crosshair = [];
            };
            var $2w = this.$6h.getCellCoords();
            if (!$2w) {
                return;
            };
            var $q = $2w.x;
            var y = Math.floor($2w.y / (60 / $c.cellDuration) * (60 / $c.timeHeaderCellDuration));
            if (y < 0) {
                return;
            };
            if (this.nav.hourTable) {
                if (y >= this.nav.hourTable.rows.length) {
                    return;
                };
                var $2x = document.createElement("div");
                $2x.style.position = "absolute";
                $2x.style.left = "0px";
                $2x.style.right = "0px";
                $2x.style.top = "0px";
                $2x.style.bottom = "0px";
                $2x.style.opacity = .5;
                $2x.style.backgroundColor = this.crosshairColor;
                $2x.style.opacity = this.crosshairOpacity / 100;
                $2x.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2x);
                this.elements.crosshair.push($2x);
            };
            if (this.nav.header) {
                var $2y = document.createElement("div");
                $2y.style.position = "absolute";
                $2y.style.left = "0px";
                $2y.style.right = "0px";
                $2y.style.top = "0px";
                $2y.style.bottom = "0px";
                $2y.style.opacity = .5;
                $2y.style.backgroundColor = this.crosshairColor;
                $2y.style.opacity = this.crosshairOpacity / 100;
                $2y.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                var $1S = this.nav.header.rows[this.headerLevels - 1];
                if ($1S.cells[$q]) {
                    $1S.cells[$q].firstChild.appendChild($2y);
                    this.elements.crosshair.push($2y);
                }
            };
            if (this.crosshairType === "Header") {
                return;
            };
            var $2z = this.nav.crosshair;
            var $I = 0;
            var top = Math.floor((($c.coords.y - $I)) / $c.cellHeight) * $c.cellHeight + $I;
            var $J = $c.cellHeight;
            var $2A = document.createElement("div");
            $2A.style.position = "absolute";
            $2A.style.left = "0px";
            $2A.style.right = "0px";
            $2A.style.top = top + "px";
            $2A.style.height = $J + "px";
            $2A.style.backgroundColor = this.crosshairColor;
            $2A.style.opacity = this.crosshairOpacity / 100;
            $2A.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
            $2A.onmousedown = this.$6i;
            $2z.appendChild($2A);
            this.elements.crosshair.push($2A);
            var $1M = this.$6h.col(this.nav.main, $q);
            $J = this.nav.main.clientHeight;
            if ($1M) {
                var $2B = document.createElement("div");
                $2B.style.position = "absolute";
                $2B.style.left = $1M.left + "px";
                $2B.style.width = $1M.width + "px";
                $2B.style.top = "0px";
                $2B.style.height = $J + "px";
                $2B.style.backgroundColor = this.crosshairColor;
                $2B.style.opacity = this.crosshairOpacity / 100;
                $2B.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                $2B.onmousedown = this.$6i;
                $2z.appendChild($2B);
                this.elements.crosshair.push($2B);
            }
        };
        this.$6i = function(ev) {
            $c.$4e();
            var $2w = $c.$6h.getCellCoords();
            var $2C = 0;
            var $f = $c.nav.main.rows[$2w.y + $2C].cells[$2w.x];
            $c.$5f.apply($f, [ev]);
        };
        this.$4e = function() {
            if (!this.elements.crosshair || this.elements.crosshair.length === 0) {
                return;
            };
            for (var i = 0; i < this.elements.crosshair.length; i++) {
                var e = this.elements.crosshair[i];
                if (e && e.parentNode) {
                    e.parentNode.removeChild(e);
                }
            };
            this.elements.crosshair = [];
        };
        this.$4l = function() {
            if (!this.cellConfig) {
                return;
            };
            var $2D = this.cellConfig;
            if ($2D.vertical) {
                for (var x = 0; x < $2D.x; x++) {
                    var $2E = this.cellProperties[x + "_0"];
                    for (var y = 1; y < $2D.y; y++) {
                        this.cellProperties[x + "_" + y] = $2E;
                    }
                }
            };
            if ($2D.horizontal) {
                for (var y = 0; y < $2D.y; y++) {
                    var $2E = this.cellProperties["0_" + y];
                    for (var x = 1; x < $2D.x; x++) {
                        this.cellProperties[x + "_" + y] = $2E;
                    }
                }
            };
            if ($2D["default"]) {
                var $2E = $2D["default"];
                for (var y = 0; y < $2D.y; y++) {
                    for (var x = 0; x < $2D.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.cellProperties[x + "_" + y] = $2E;
                        }
                    }
                }
            }
        };
        this.$6e = function(x, y) {
            if (!this.cellProperties) {
                return null;
            };
            return this.cellProperties[x + "_" + y];
        };
        this.$6j = function(x, y) {
            var $24 = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$24]) {
                return this.cellProperties[$24].business;
            };
            return false;
        };
        this.$6f = function(x, y) {
            var $24 = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$24]) {
                return this.cellProperties[$24].backColor;
            };
            return null;
        };
        this.$49 = function() {
            var $1Y = this.nav.header;
            if ($1Y && $1Y.rows) {
                for (var y = 0; y < $1Y.rows.length; y++) {
                    var r = $1Y.rows[y];
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        c.onclick = null;
                        c.onmousemove = null;
                        c.onmouseout = null;
                    }
                }
            };
            if (!this.$3T) DayPilot.pu($1Y);
        };
        this.$6k = function($1f, $21) {
            var r = ($21) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$1f - 1];
            var $0N = this.$5F($1f);
            var $2F = $0N.length;
            var $2G = ($1f === $c.headerLevels);
            for (var i = 0; i < $2F; i++) {
                var $h = $0N[i];
                if ($c.$4C()) {
                    if (typeof $c.onBeforeHeaderRender === 'function') {
                        var $n = {};
                        $n.header = {};
                        DayPilot.Util.copyProps($h, $n.header, ['id', 'start', 'name', 'html', 'backColor', 'toolTip', 'areas', 'children']);
                        this.onBeforeHeaderRender($n);
                        DayPilot.Util.copyProps($n.header, $h, ['html', 'backColor', 'toolTip', 'areas']);
                    }
                };
                var $2H = $h.getChildren ? true : false;
                var $f = ($21) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                if ($2G) {} else {
                    var $2I = 1;
                    if ($2H) {
                        $2I = $h.getChildrenCount($c.headerLevels - $1f + 1);
                    };
                    $f.colSpan = $2I;
                };
                if ($2H) {
                    $f.onclick = this.$4V;
                    $f.onmousemove = this.$4W;
                    $f.onmouseout = this.$4X;
                    if ($h.toolTip) {
                        $f.title = $h.toolTip;
                    }
                };
                $f.style.overflow = 'hidden';
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.height = ($0d.headerHeight()) + "px";
                if (!this.cssOnly) {
                    $f.style.borderLeft = "0px none";
                    if (i !== $2F - 1) {
                        $f.style.borderRight = "1px solid " + this.borderColor;
                    }
                };
                var $d = ($21) ? document.createElement("div") : $f.firstChild;
                var $0L = this.columnWidthSpec === 'Fixed';
                if ($0L && $2G) {
                    if ($h.width) {
                        $d.style.width = $h.width + "px";
                    } else {
                        $d.style.width = $c.columnWidth + "px";
                    }
                };
                if ($21) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.position = 'relative';
                    $d.style.height = $0d.headerHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = $c.$4F('colheader');
                        $d.style.cursor = 'default';
                        $d.style.fontFamily = this.headerFontFamily;
                        $d.style.fontSize = this.headerFontSize;
                        $d.style.color = this.headerFontColor;
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.textAlign = 'center';
                        var $26 = document.createElement("div");
                        $26.style.position = 'absolute';
                        $26.style.left = '0px';
                        $26.style.right = '0px';
                        $26.style.top = "0px";
                        $26.style.bottom = "0px";
                        $26.style.padding = "2px";
                        $26.setAttribute("unselectable", "on");
                        if ($1f !== 1) {
                            $26.style.borderTop = '1px solid ' + this.borderColor;
                        };
                        if (this.headerClickHandling !== "Disabled") {
                            $26.style.cursor = 'pointer';
                        };
                        $d.appendChild($26);
                    } else {
                        $d.className = $c.$4F('_colheader');
                        var $M = document.createElement("div");
                        $M.className = $c.$4F('_colheader_inner');
                        if ($h.backColor) {
                            $M.style.background = $h.backColor;
                        };
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                } else {
                    $d.style.height = $0d.headerHeight() + "px";
                };
                this.$6l($d, $h);
                if ($2H) {
                    $d.firstChild.innerHTML = $h.html;
                }
            }
        };
        this.$6l = function($d, $h) {
            var $2J = [];
            for (var j = 0; j < $d.childNodes.length; j++) {
                var $r = $d.childNodes[j];
                if ($r.isActiveArea) {
                    $2J.push($r);
                }
            };
            for (var j = 0; j < $2J.length; j++) {
                var $r = $2J[j];
                DayPilot.de($r);
            };
            if ($h.areas) {
                var $1o = $h.areas;
                for (var j = 0; j < $1o.length; j++) {
                    var $1K = $1o[j];
                    if ($1K.v !== 'Visible') {
                        continue;
                    };
                    var o = new DayPilotCalendar.Column($h.id, $h.name, $h.start);
                    var a = DayPilot.Areas.createArea($d, o, $1K);
                    $d.appendChild(a);
                }
            }
        };
        this.$4o = function() {
            if (!this.showHeader) {
                return;
            };
            var $1n = this.nav.header;
            var $21 = true;
            var $0N = this.$5F($c.headerLevels, true);
            var $2F = $0N.length;
            if (this.$6m && $1n && $1n.rows && $1n.rows.length > 0) {
                $21 = $1n.rows[$1n.rows.length - 1].cells.length !== $2F;
            };
            if (this.$6m && $c.$3W.ielt9 && $21) {
                DayPilot.de(this.nav.header);
                this.$6a();
            }
            while (this.$6m && $1n && $1n.rows && $1n.rows.length > 0 && $21) {
                if (!this.$3T) DayPilot.pu($1n.rows[0]);
                $1n.deleteRow(0);
            };
            this.$6m = true;
            var $S = $c.cornerHTML || $c.cornerHtml;
            if (!$21) {
                var $2c = $c.nav.corner;
                if ($2c) {
                    if (!this.cssOnly) {
                        if ($c.cornerBackColor) {
                            $2c.style.backgroundColor = $c.cornerBackColor;
                        } else {
                            $2c.style.backgroundColor = $c.hourBackColor;
                        }
                    };
                    if (!this.$3T) DayPilot.pu($2c.firstChild);
                    $2c.firstChild.innerHTML = $S ? $S : '';
                }
            };
            for (var i = 0; i < $c.headerLevels; i++) {
                this.$6k(i + 1, $21);
            };
            if (!this.showAllDayEvents) {
                return;
            };
            var r = ($21) ? this.nav.header.insertRow(-1) : this.nav.header.rows[$c.headerLevels];
            for (var i = 0; i < $2F; i++) {
                var $h = $0N[i];
                var $f = ($21) ? r.insertCell(-1) : r.cells[i];
                $f.data = $h;
                $f.style.padding = '0px';
                $f.style.border = '0px none';
                $f.style.overflow = 'hidden';
                if (!this.cssOnly) {
                    $f.style.lineHeight = '1.2';
                };
                var $d = ($21) ? document.createElement("div") : $f.firstChild;
                if ($21) {
                    $d.setAttribute("unselectable", "on");
                    $d.style.MozUserSelect = 'none';
                    $d.style.KhtmlUserSelect = 'none';
                    $d.style.WebkitUserSelect = 'none';
                    $d.style.overflow = 'hidden';
                    $d.style.position = "relative";
                    $d.style.height = $0d.allDayHeaderHeight() + "px";
                    if (!this.cssOnly) {
                        $d.className = this.$4F("alldayheader");
                        $d.style.textAlign = 'center';
                        $d.style.backgroundColor = $h.backColor;
                        $d.style.cursor = 'default';
                        var $26 = document.createElement("div");
                        $26.style.position = "absolute";
                        $26.style.left = '0px';
                        $26.style.right = '0px';
                        $26.style.top = "0px";
                        $26.style.bottom = "0px";
                        $26.setAttribute("unselectable", "on");
                        $26.style.borderTop = '1px solid ' + this.borderColor;
                        $d.appendChild($26);
                        if ($c.rtl) {
                            if (i === $2F - 1) {
                                $26.style.borderLeft = "1px solid " + $h.backColor;
                            } else {
                                $26.style.borderLeft = "1px solid " + this.borderColor;
                            }
                        } else {
                            if (i !== $2F - 1) {
                                $26.style.borderRight = "1px solid " + this.borderColor;
                            }
                        }
                    } else {
                        $d.className = this.$4F("_alldayheader");
                        var $M = document.createElement("div");
                        $M.className = this.$4F("_alldayheader_inner");
                        $d.appendChild($M);
                    };
                    $f.appendChild($d);
                };
                $d.style.height = $0d.allDayHeaderHeight() + "px";
            }
        };
        this.$42 = function() {
            if (this.loadingLabelVisible) {
                this.nav.loading.innerHTML = this.loadingLabelText;
                this.nav.loading.style.top = (this.$4M() + 5) + "px";
                this.nav.loading.style.display = '';
            }
        };
        this.$4h = function() {
            if (this.callbackTimeout) {
                window.clearTimeout(this.callbackTimeout);
            };
            this.nav.loading.style.display = 'none';
        };
        this.$6n = function() {
            var $0L = this.columnWidthSpec === 'Fixed';
            var $2K = $0L ? this.nav.bottomRight : this.nav.scroll;
            var $2L = this.initScrollPos;
            if (!$2L) {
                var $25 = this.businessBeginsHour;
                $2L = $25 * (60 / $c.cellDuration) * $c.cellHeight;
            };
            $2K.root = this;
            $2K.onscroll = this.$5k;
            if ($2K.scrollTop === 0) {
                $2K.scrollTop = $2L - this.$5m();
            } else {
                this.$5k();
            }
        };
        this.$6o = function() {
            var el = $c.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$6p = function() {
            var $1d = $c.$6o;
            if (!$1d()) {
                $c.$6q = setInterval(function() {
                    if ($1d()) {
                        $c.$6n();
                        $c.$4v();
                        clearInterval($c.$6q);
                    }
                }, 100);
            }
        };
        this.scrollToHour = function($25) {
            var $0L = this.columnWidthSpec === 'Fixed';
            var $2K = $0L ? this.nav.bottomRight : this.nav.scroll;
            var $1B = $25 * (60 / $c.cellDuration) * $c.cellHeight;
            $2K.scrollTop = $1B - this.$5m();
        };
        this.onCallbackError = function($u, $v) {
            alert("Error!\r\nResult: " + $u + "\r\nContext:" + $v);
        };
        this.scrollbarVisible = this.$68;
        this.$4v = function() {
            var $2M = this.$68();
            var $1d = !!this.nav.cornerRight;
            if ($2M !== $1d) {
                if ($2M) {
                    this.$6b();
                } else {
                    if (this.nav.fullHeader && this.nav.fullHeader.rows[0].cells.length === 3) {
                        var c = this.nav.fullHeader.rows[0].cells[2];
                        if (c.parentNode) {
                            c.parentNode.removeChild(c);
                        }
                    };
                    this.nav.cornerRight = null;
                }
            };
            var d = this.nav.cornerRight;
            if (!d) {
                return;
            };
            var w = DayPilot.sw(this.nav.scroll);
            if (!this.cssOnly) {
                if (w >= 3) {
                    d.style.width = (w - 3) + 'px';
                }
            } else {
                if (d) {
                    d.style.width = (w) + 'px';
                }
            };
            return w;
        };
        this.$4B = function($2N) {
            if ($2N) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
                return;
            };
            this.$46();
            var $2O = this.autoRefreshInterval;
            if (!$2O || $2O < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$6r();
            }, this.autoRefreshInterval * 1000);
        };
        this.$46 = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$6r = function() {
            if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilotCalendar.drag && !DayPilotCalendar.selecting) {
                var $2P = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $n = {};
                    $n.i = this.autoRefreshCount;
                    $n.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($n);
                    if ($n.preventDefault.value) {
                        $2P = true;
                    }
                };
                if (!$2P && this.$41()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.autoRefreshCount++;
            };
            if (this.autoRefreshCount < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$6r();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$4a = function() {
            if ($c.heightSpec === "Parent100Pct") {
                $c.setHeight(parseInt($c.nav.top.clientHeight, 10));
            };
            $c.$4u();
            $c.$4A();
        };
        this.$6s = function() {
            if (!DayPilotCalendar.globalHandlers) {
                DayPilotCalendar.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotCalendar.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotCalendar.gMouseUp);
                DayPilot.re(document, DayPilot.touch.move, DayPilotCalendar.gTouchMove);
                DayPilot.re(document, DayPilot.touch.end, DayPilotCalendar.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$4a);
        };
        this.$5N = function(ev) {
            if ($0B.active || $0B.using) {
                return;
            };
            ev = ev || window.event;
            var $0C = DayPilot.Util.mouseButton(ev);
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ((this.style.cursor === 'n-resize' || this.style.cursor === 's-resize') && $0C.left) {
                DayPilot.Global.resizing = this;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalHeight = this.offsetHeight;
                DayPilotCalendar.originalTop = this.offsetTop;
                $c.nav.top.style.cursor = this.style.cursor;
            } else if ((this.style.cursor === 'move' || ($c.moveBy === 'Full' && $c.eventMoveHandling !== 'Disabled')) && $0C.left) {
                DayPilot.Global.moving = this;
                var $2Q = DayPilot.Global.moving.helper = {};
                $2Q.oldColumn = $c.$4E[this.event.part.dayIndex].id;
                DayPilotCalendar.originalMouse = DayPilot.mc(ev);
                DayPilotCalendar.originalTop = this.offsetTop;
                var $0P = DayPilot.mo3(this, ev);
                if ($0P) {
                    DayPilotCalendar.moveOffsetY = $0P.y;
                } else {
                    DayPilotCalendar.moveOffsetY = 0;
                };
                $c.nav.top.style.cursor = this.style.cursor;
            };
            return false;
        };
        this.$6t = function(i) {
            var $1C = this.$3S.events;
            var $h = this.events.list[i];
            var $2R = {};
            for (var name in $h) {
                $2R[name] = $h[name];
            };
            if ($c.showEventStartEnd) {
                var $2S = $h.start.getDatePart().getTime() === $h.end.getDatePart().getTime();
                var $1e = $2S ? $0d.locale().timePattern : $0d.locale().dateTimePattern;
                var $2T = $h.start.toString($1e);
                var $2U = $h.end.toString($1e);
                $2R.html = $2R.text + " (" + $2T + " - " + $2U + ")";
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $n = {};
                $n.e = $2R;
                this.onBeforeEventRender($n);
            };
            $1C[i] = $2R;
        };
        this.$5O = {};
        var $0B = $c.$5O;
        $0B.active = false;
        $0B.start = null;
        $0B.timeout = null;
        $0B.startcell = null;
        this.$5O.getCellCoords = function(ev) {
            var x, y;
            if (ev.touches) {
                x = ev.touches[0].pageX;
                y = ev.touches[0].pageY;
            } else {
                x = ev.pageX;
                y = ev.pageY;
            };
            var $2V = DayPilot.abs($c.nav.main);
            var $2W = {
                x: x - $2V.x,
                y: y - $2V.y
            };
            var w = ($c.nav.main.clientWidth / $c.$4E.length);
            var $2u = {
                "pageX": x,
                "pageY": y,
                "x": Math.floor($2W.x / w),
                "y": Math.floor($2W.y / $c.cellHeight),
                "toString": function() {
                    return "x: " + this.x + " y:" + this.y;
                }
            };
            return $2u;
        };
        this.$5O.startSelecting = function($2u) {
            var $f = $c.nav.main.rows[$2u.y].cells[$2u.x];
            $0B.startcell = $2u;
            $c.clearSelection();
            DayPilotCalendar.column = DayPilotCalendar.getColumn($f);
            $c.selectedCells.push($f);
            DayPilotCalendar.firstSelected = $f;
            DayPilotCalendar.topSelectedCell = $f;
            DayPilotCalendar.bottomSelectedCell = $f;
            $c.$5g();
        };
        this.$5O.extendSelection = function($2u) {
            var $f = $c.nav.main.rows[$2u.y].cells[$2u.x];
            $c.clearSelection();
            if ($2u.y < $0B.startcell.y) {
                $c.selectedCells = DayPilotCalendar.getCellsBelow($f);
                DayPilotCalendar.topSelectedCell = $c.selectedCells[0];
                DayPilotCalendar.bottomSelectedCell = DayPilotCalendar.firstSelected;
            } else {
                $c.selectedCells = DayPilotCalendar.getCellsAbove($f);
                DayPilotCalendar.topSelectedCell = DayPilotCalendar.firstSelected;
                DayPilotCalendar.bottomSelectedCell = $c.selectedCells[0];
            };
            $c.$5g();
        };
        this.$5O.onMainTouchStart = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0B.active) {
                return;
            };
            $0B.using = true;
            var $2u = $0B.getCellCoords(ev);
            $0B.startCoords = $2u;
            var $2X = 500;
            $0B.timeout = window.setTimeout(function() {
                ev.preventDefault();
                $0B.active = true;
                switch ($c.timeRangeTapAndHoldHandling) {
                    case "Select":
                        $0B.startSelecting($2u);
                        break;
                    case "ContextMenu":
                        $0B.startSelecting($2u);
                        $0B.active = false;
                        if ($c.contextMenuSelection) {
                            $c.contextMenuSelection.show($c.getSelection());
                        };
                        break;
                }
            }, $2X);
        };
        this.$5O.onCellTouchMove = function(ev) {};
        this.$5O.onCellTouchEnd = function(ev) {
            if (!$0B.active) {
                window.clearTimeout($0B.timeout);
                return;
            };
            ev.preventDefault();
            $0B.startcell = null;
            var $0K = $c.getSelection();
            $0K.toString = function() {
                return "start: " + this.start + "\nend: " + this.end;
            };
            $c.$5a($0K.start, $0K.end, $0K.resource);
            window.setTimeout(function() {
                $0B.active = false;
            }, 500);
        };
        this.$5O.startMoving = function($d, $2u) {
            DayPilot.Global.moving = $d;
            var $2Q = DayPilot.Global.moving.helper = {};
            $2Q.oldColumn = $c.$4E[$d.event.part.dayIndex].id;
            DayPilotCalendar.originalMouse = $2u;
            DayPilotCalendar.originalTop = this.offsetTop;
            var $2V = DayPilot.abs($d);
            DayPilotCalendar.moveOffsetY = $2u.y - $2V.y;
            if (!DayPilotCalendar.movingShadow) {
                DayPilotCalendar.movingShadow = $c.$4D(DayPilot.Global.moving, !$c.$3W.ie, $c.shadow);
                DayPilotCalendar.movingShadow.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth + 1) + 'px';
            }
        };
        this.$5O.updateMoving = function() {
            var $2u = $c.coords;
            var $2p = $c.cellHeight;
            var $I = 0;
            var $0P = DayPilotCalendar.moveOffsetY;
            if (!$0P) {
                $0P = $2p / 2;
            };
            var $2s = Math.floor((($2u.y - $0P - $I) + $2p / 2) / $2p) * $2p + $I;
            if ($2s < $I) {
                $2s = $I;
            };
            var $G = $c.nav.main;
            var $N = $G.clientHeight;
            var $J = parseInt(DayPilotCalendar.movingShadow.style.height);
            if ($2s + $J > $N) {
                $2s = $N - $J;
            };
            DayPilotCalendar.movingShadow.style.top = $2s + 'px';
            var $H = $G.clientWidth / $G.rows[0].cells.length;
            var $q = Math.floor($2u.x / $H);
            if ($q < 0) {
                $q = 0;
            };
            var $11 = $c.nav.events;
            if ($q < $11.rows[0].cells.length && $q >= 0 && DayPilotCalendar.movingShadow.column !== $q) {
                DayPilotCalendar.movingShadow.column = $q;
                DayPilotCalendar.moveShadow($11.rows[0].cells[$q]);
            }
        };
        this.$5O.onEventTouchStart = function(ev) {
            if ($0B.active) {
                return;
            };
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            ev.stopPropagation();
            $0B.preventEventTap = false;
            $0B.using = true;
            $0B.startCoords = $0B.getCellCoords(ev);
            var $d = this;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $2u = {
                x: x,
                y: y,
                $d: this
            };
            $c.coords = $0B.relativeCoords(ev);
            var $2X = 500;
            $0B.timeout = window.setTimeout(function() {
                $0B.active = true;
                switch ($c.eventTapAndHoldHandling) {
                    case "Move":
                        $0B.startMoving($d, $2u);
                        break;
                    case "ContextMenu":
                        var e = $d.event;
                        var $05 = e.client.contextMenu();
                        if ($05) {
                            $05.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }, $2X);
        };
        this.$5O.onMainTouchMove = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if ($0B.timeout) {
                var $2u = $0B.getCellCoords(ev);
                if ($2u && $0B.startCoords) {
                    if ($2u.pageX !== $0B.startCoords.pageX || $2u.pageY !== $0B.startCoords.pageY) {
                        window.clearTimeout($c.$5O.timeout);
                    }
                }
            };
            if (DayPilot.Global.moving && DayPilotCalendar.movingShadow) {
                ev.preventDefault();
                $c.coords = $0B.relativeCoords(ev);
                $0B.updateMoving();
                return;
            } else if ($0B.startcell) {
                ev.preventDefault();
                if (!$0B.active) {
                    window.clearTimeout($0B.timeout);
                    return;
                };
                var $2u = $0B.getCellCoords(ev);
                $0B.extendSelection($2u);
            };
            $0B.preventEventTap = true;
        };
        this.$5O.relativeCoords = function(ev) {
            var $2n = $c.nav.main;
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $2V = DayPilot.abs($2n);
            var $2u = {
                x: x - $2V.x,
                y: y - $2V.y,
                "toString": function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $2u;
        };
        this.$5O.onMainTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (DayPilot.Global.moving) {
                $0B.active = false;
                ev.preventDefault();
                ev.stopPropagation();
                var top = DayPilotCalendar.movingShadow.offsetTop;
                DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
                var $2Y = DayPilot.Global.moving.event;
                var $0o = DayPilotCalendar.movingShadow.column;
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                $2Y.calendar.$53($2Y, $0o, top, ev, DayPilotCalendar.drag);
            } else if ($0B.startcell) {
                if (!$0B.active) {
                    window.clearTimeout($0B.timeout);
                    return;
                };
                ev.preventDefault();
                $0B.startcell = null;
                var $0K = $c.getSelection();
                $0K.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end;
                };
                $c.$5a($0K.start, $0K.end, $0K.resource);
                window.setTimeout(function() {
                    $0B.active = false;
                }, 500);
            }
        };
        this.$5O.onEventTouchMove = function(ev) {
            $0B.preventEventTap = true;
        };
        this.$5O.onEventTouchEnd = function(ev) {
            if (DayPilot.Util.isMouseEvent(ev)) {
                return;
            };
            if (!$0B.active) {
                if ($0B.preventEventTap) {
                    return;
                };
                ev.preventDefault();
                window.clearTimeout($0B.timeout);
                $c.$4Q(this, false);
                return;
            };
            $0B.active = false;
            if ($0B.timeout) {
                window.clearTimeout($0B.timeout);
                return;
            };
            ev.preventDefault();
        };
        this.$5L = function(ev) {
            var $2Z = 5;
            var $30 = Math.max($c.durationBarWidth, 10);
            var w = 5;
            var $1n = ($c.moveBy === 'Top');
            if (typeof(DayPilotCalendar) === 'undefined') {
                return;
            };
            var $0P = DayPilot.mo3(this, ev);
            if (!$0P) {
                return;
            };
            var $d = this;
            if (!$d.active) {
                var $1o = [];
                if ($d.event.client.deleteEnabled()) {
                    $1o.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": 2,
                        "right": 2,
                        "css": $c.$4F("_event_delete"),
                        "js": function(e) {
                            $c.$4Y(e);
                        }
                    });
                };
                var $14 = $d.event.cache ? $d.event.cache.areas : $d.event.data.areas;
                if ($14 && $14.length > 0) {
                    $1o = $1o.concat($14);
                };
                DayPilot.Areas.showAreas($d, $d.event, null, $1o);
                if ($c.cssOnly) {
                    DayPilot.Util.addClass($d, $c.$4F("_event_hover"));
                }
            };
            if (DayPilot.Global.resizing || DayPilot.Global.moving) {
                return;
            };
            var $31 = this.isFirst;
            var $32 = this.isLast;
            if ($c.moveBy === "Disabled" || $c.moveBy === "None") {
                return;
            };
            if (!$1n && $0P.x <= $30 && this.event.client.moveEnabled()) {
                if ($31) {
                    this.style.cursor = 'move';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!$1n && $0P.y <= $2Z && this.event.client.resizeEnabled()) {
                if ($31) {
                    this.style.cursor = "n-resize";
                    this.dpBorder = 'top';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if ($1n && $0P.y <= $30 && this.event.client.moveEnabled()) {
                this.style.cursor = "move";
            } else if (this.offsetHeight - $0P.y <= $2Z && this.event.client.resizeEnabled()) {
                if ($32) {
                    this.style.cursor = "s-resize";
                    this.dpBorder = 'bottom';
                } else {
                    this.style.cursor = 'not-allowed';
                }
            } else if (!DayPilot.Global.resizing && !DayPilot.Global.moving) {
                if (this.event.client.clickEnabled()) this.style.cursor = 'pointer';
                else this.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (this.style.cursor === 'default' || this.style.cursor === 'pointer') {
                    var $33 = this.$6u && $0P.x === this.$6u.x && $0P.y === this.$6u.y;
                    if (!$33) {
                        this.$6u = $0P;
                        $c.bubble.showEvent(this.event);
                    }
                } else {}
            }
        };
        this.$5M = function(ev) {
            if ($c.cssOnly) {
                DayPilot.Util.removeClass(this, $c.$4F("_event_hover"));
            };
            if ($c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            DayPilot.Areas.hideAreas(this, ev);
        };
        this.$6v = null;
        this.$4w = function() {
            if (this.showCurrentTime) {
                this.$6w();
                this.$6x(new DayPilot.Date());
                if (!this.$6v) {
                    var $34 = 30;
                    this.$6v = setInterval(function() {
                        $c.$4w();
                    }, $34 * 1000);
                }
            }
        };
        this.$6w = function() {
            DayPilot.de($c.elements.separators);
            $c.elements.separators = [];
        };
        this.$6x = function($0t) {
            var $35 = $0t.getTime();
            var $G = $c.nav.events;
            for (var i = 0; i < $c.$4E.length; i++) {
                var $1M = $c.$4E[i];
                var $K = $c.$4H(true);
                var $36 = new DayPilot.Date($1M.start).addHours(this.$4L(true));
                var $37 = $36.getTime();
                var $38 = $36.addTime($K);
                var $39 = $38.getTime();
                if ($37 <= $35 && $35 <= $39) {
                    var $3a = this.$6y($0t, $1M.start).top - 1;
                    var $f = $G.rows[0].cells[i];
                    var $1R = $f.separators;
                    var $d = document.createElement("div");
                    $d.style.position = "absolute";
                    $d.style.top = $3a + "px";
                    $d.style.height = "1px";
                    $d.style.left = "0px";
                    $d.style.right = "0px";
                    $d.className = $c.$4F("_now");
                    $1R.insertBefore($d, $1R.firstChild);
                    $c.elements.separators.push($d);
                }
            }
        };
        this.$4m = function($11) {
            if (!$11) {
                $11 = this.events.list;
            } else {
                this.events.list = $11;
            };
            if (!$11) {
                return;
            };
            this.$5I = {};
            this.$5I.events = [];
            this.$5I.lines = [];
            var length = $11.length;
            var $K = this.$4H(true);
            this.$3S.pixels = {};
            var $3b = [];
            this.$5l = [];
            this.$50 = 10000;
            this.$4K = 0;
            this.startDate = new DayPilot.Date(this.startDate);
            for (var i = 0; i < length; i++) {
                var e = $11[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
            };
            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                for (var i = 0; i < length; i++) {
                    this.$6t(i);
                }
            };
            var $3c = this.viewType === 'Resources';
            var $1d = this.$5G();
            var $3d = $1d.start;
            var $3e = $1d.end;
            for (var i = 0; i < this.$4E.length; i++) {
                var scroll = {};
                scroll.minEnd = 1000000;
                scroll.maxStart = -1;
                this.$5l.push(scroll);
                var $1M = this.$4E[i];
                $1M.events = [];
                $1M.lines = [];
                $1M.blocks = [];
                var $36 = new DayPilot.Date($1M.start).addHours(this.$4L(true));
                var $37 = $36.getTime();
                var $38 = $36.addTime($K);
                var $39 = $38.getTime();
                if ($3c) {
                    $3d = $36.getDatePart();
                    $3e = $38.getDatePart();
                };
                for (var j = 0; j < length; j++) {
                    if ($3b[j]) {
                        continue;
                    };
                    var e = $11[j];
                    var $08 = e.start;
                    var end = e.end;
                    var $3f = $08.getTime();
                    var $3g = end.getTime();
                    if ($3g < $3f) {
                        continue;
                    };
                    if (e.allday) {
                        var $3h = false;
                        if ($c.allDayEnd === 'Date') {
                            $3h = !($3g < $3d.getTime() || $3f >= $3e.getTime());
                        } else {
                            $3h = !($3g <= $3d.getTime() || $3f >= $3e.getTime());
                        };
                        if ($3c) {
                            $3h = $3h && (e.resource === $1M.id || $1M.id === "*");
                        };
                        if ($3h) {
                            var ep = new DayPilot.Event(e, this);
                            ep.part.start = $3d.getTime() < $3f ? $08 : $3d;
                            ep.part.end = $3e.getTime() > $3g ? end : $3e;
                            ep.part.colStart = DayPilot.Date.daysDiff($3d.d, ep.part.start.d);
                            ep.part.colWidth = DayPilot.Date.daysSpan(ep.part.start.d, ep.part.end.d) + 1;
                            if ($3c) {
                                ep.part.colStart = i;
                                ep.part.colWidth = 1;
                            };
                            this.$5I.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                                ep.cache = this.$3S.events[j];
                            };
                            $3b[j] = true;
                            if ($3c && (ep.part.start.getTime() !== $3f || ep.part.end.getTime() !== $3g)) {
                                $3b[j] = false;
                            }
                        };
                        continue;
                    };
                    var $3h = false;
                    if ($3c) {
                        $3h = ($1M.id === e.resource) && !($3g <= $37 || $3f >= $39);
                    } else {
                        $3h = !($3g <= $37 || $3f >= $39) || ($3g === $3f && $3f === $37);
                    };
                    if ($3h) {
                        var ep = new DayPilot.Event(e, $c);
                        ep.part.dayIndex = i;
                        ep.part.start = $37 < $3f ? $08 : $36;
                        ep.part.end = $39 > $3g ? end : $38;
                        var $3a = this.$6y(ep.part.start, $1M.start);
                        var $3i = this.$6y(ep.part.end, $1M.start);
                        var top = $3a.top;
                        var $18 = $3i.top;
                        if (top === $18 && ($3a.cut || $3i.cut)) {
                            continue;
                        };
                        ep.part.box = $0d.useBox($3g - $3f);
                        var $I = 0;
                        if (ep.part.box) {
                            var $3j = $3i.boxBottom;
                            ep.part.top = Math.floor(top / this.cellHeight) * this.cellHeight + $I;
                            ep.part.height = Math.max(Math.ceil($3j / this.cellHeight) * this.cellHeight - ep.part.top, this.cellHeight - 1);
                            ep.part.barTop = Math.max(top - ep.part.top - 1, 0);
                            ep.part.barHeight = Math.max($18 - top - 2, 1);
                        } else {
                            ep.part.top = top + $I;
                            ep.part.height = Math.max($18 - top, 0);
                            ep.part.barTop = 0;
                            ep.part.barHeight = Math.max($18 - top - 2, 1);
                        };
                        var $08 = ep.part.top;
                        var end = ep.part.top + ep.part.height;
                        if ($08 > scroll.maxStart) {
                            scroll.maxStart = $08;
                        };
                        if (end < scroll.minEnd) {
                            scroll.minEnd = end;
                        };
                        if ($08 < this.$50) {
                            this.$50 = $08;
                        };
                        if (end > this.$4K) {
                            this.$4K = end;
                        };
                        $1M.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function' || $c.showEventStartEnd) {
                            ep.cache = this.$3S.events[j];
                        };
                        if (ep.part.start.getTime() === $3f && ep.part.end.getTime() === $3g) {
                            $3b[j] = true;
                        }
                    }
                }
            };
            for (var i = 0; i < this.$4E.length; i++) {
                var $1M = this.$4E[i];
                $1M.events.sort(this.$6z);
                for (var j = 0; j < $1M.events.length; j++) {
                    var e = $1M.events[j];
                    $1M.putIntoBlock(e);
                };
                for (var j = 0; j < $1M.blocks.length; j++) {
                    var $1j = $1M.blocks[j];
                    $1j.events.sort(this.$6A);
                    for (var k = 0; k < $1j.events.length; k++) {
                        var e = $1j.events[k];
                        $1j.putIntoLine(e);
                    }
                }
            };
            this.$5I.events.sort(this.$6A);
            this.$5I.putIntoLine = function(ep) {
                var $1k = this;
                for (var i = 0; i < this.lines.length; i++) {
                    var $1l = this.lines[i];
                    if ($1l.isFree(ep.part.colStart, ep.part.colWidth)) {
                        $1l.push(ep);
                        return i;
                    }
                };
                var $1l = [];
                $1l.isFree = function($08, $0X) {
                    var end = $08 + $0X - 1;
                    var $N = this.length;
                    for (var i = 0; i < $N; i++) {
                        var e = this[i];
                        if (!(end < e.part.colStart || $08 > e.part.colStart + e.part.colWidth - 1)) {
                            return false;
                        }
                    };
                    return true;
                };
                $1l.push(ep);
                this.lines.push($1l);
                return this.lines.length - 1;
            };
            for (var i = 0; i < this.$5I.events.length; i++) {
                var e = this.$5I.events[i];
                this.$5I.putIntoLine(e);
            };
            var $3k = Math.max(this.$5I.lines.length, 1);
            this.$3S.allDayHeaderHeight = $3k * ($0d.allDayEventHeight() + 2) + 2;
        };
        this.$6z = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $3l = a.start().ticks - b.start().ticks;
            if ($3l !== 0) {
                return $3l;
            };
            var $3m = b.end().ticks - a.end().ticks;
            return $3m;
        };
        this.$6A = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$6z(a, b);
            };
            var $u = 0;
            var i = 0;
            while ($u === 0 && a.data.sort[i] && b.data.sort[i]) {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $u = 0;
                } else {
                    $u = $c.$6B(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $u;
        };
        this.$6B = function(a, b, $3n) {
            var $3o = ($3n !== "desc");
            var $3p = $3o ? -1 : 1;
            var $3q = -$3p;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $3q;
            };
            if (a === null) {
                return $3p;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $3p : $3q;
        };
        this.$6C = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $d = $c.elements.events[i];
                if ($d.event === e || $d.event.data === e.data) {
                    return $d;
                }
            };
            return null;
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2F = $c.events.list.length;
            for (var i = 0; i < $2F; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($3r, $09) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $2F = $c.events.list.length;
            for (var i = 0; i < $2F; i++) {
                if ($c.events.list[i].recurrentMasterId === $3r && $c.events.list[i].start.getTime() === $09.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.update = function(e, $h) {
            var $0c = {};
            $0c.oldEvent = new DayPilot.Event(e.copy(), $c);
            $0c.newEvent = new DayPilot.Event(e.temp(), $c);
            var $g = new DayPilot.Action($c, "EventUpdate", $0c, $h);
            e.commit();
            if ($c.$3V) {
                $c.update();
            };
            $c.$6D.notify();
            return $g;
        };
        this.events.remove = function(e, $h) {
            var $0c = {};
            $0c.e = new DayPilot.Event(e.data, $c);
            var $g = new DayPilot.Action($c, "EventRemove", $0c, $h);
            var $24 = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($24, 1);
            if ($c.$3V) {
                $c.update();
            };
            $c.$6D.notify();
            return $g;
        };
        this.events.add = function(e, $h) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $0c = {};
            $0c.e = e;
            var $g = new DayPilot.Action($c, "EventAdd", $0c, $h);
            if ($c.$3V) {
                $c.update();
            };
            $c.$6D.notify();
            return $g;
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g.isAction) {
                $c.queue.list.push($g);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($h) {
            var $0c = {};
            $0c.actions = $c.queue.list;
            $c.$40('Notify', $0c, $h, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$6E = function($n) {
            if (!this.$3V || !this.$4E) {
                return;
            };
            var $n = $n || {};
            var $3s = !$n.eventsOnly;
            if ($3s) {
                $c.$47();
                this.$6F();
                this.$4k();
                this.$4m();
                $c.$4o();
                $c.$4p();
                $c.$4q();
                $c.$4r();
                $c.$3X();
                $c.$4s();
                $c.$5g();
                $c.$4t();
                $c.$4u();
                $c.$4v();
                this.$4y();
                this.$4z();
                this.$4w();
                $c.$4A();
            } else {
                $c.$47();
                $c.$4m();
                $c.$4n();
                $c.$4y();
                $c.$4z();
                $c.$4A();
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$6E();
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
            $c.$4a();
            $c.$4v();
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$6D = {};
        this.$6D.scope = null;
        this.$6D.notify = function() {
            if ($c.$6D.scope) {
                $c.$6D.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$6y = function($0t, $08) {
            if (!$08) $08 = this.startDate;
            var $3f = $08.getTime();
            var $35 = $0t.getTime();
            var $1C = this.$3S.pixels[$35 + "_" + $3f];
            if ($1C) {
                return $1C;
            };
            $3f = $08.addHours(this.$4L(true)).getTime();
            var $3t = this.cellDuration * 60 * 1000;
            var $3u = $35 - $3f;
            var $3v = $3u % $3t;
            var $3w = $3u - $3v;
            var $3x = $3w + $3t;
            if ($3v === 0) {
                $3x = $3w;
            };
            var $u = {};
            $u.cut = false;
            $u.top = this.$6G($3u);
            $u.boxTop = this.$6G($3w);
            $u.boxBottom = this.$6G($3x);
            this.$3S.pixels[$35 + "_" + $3f] = $u;
            return $u;
        };
        this.$6G = function($35) {
            return Math.floor((this.cellHeight * $35) / (1000 * 60 * this.cellDuration));
        };
        this.$6F = function() {
            this.startDate = new DayPilot.Date(this.startDate);
            this.allDayHeaderHeight = $0d.allDayEventHeight() + 4;
        };
        this.$4n = function() {
            var $1n = this.$4M();
            var $20 = this.$5R();
            if (this.nav.corner) {
                this.nav.corner.style.height = $1n + "px";
            };
            if (this.nav.cornerRight) {
                this.nav.cornerRight.style.height = $1n + "px";
            };
            if (this.nav.mid) {
                this.nav.mid.style.height = $1n + "px";
            };
            if (this.showAllDayEvents && this.nav.header) {
                var $1S = this.nav.header.rows[this.nav.header.rows.length - 1];
                for (var i = 0; i < $1S.cells.length; i++) {
                    var $q = $1S.cells[i];
                    $q.firstChild.style.height = $0d.allDayHeaderHeight() + "px";
                }
            };
            if (this.nav.upperRight) {
                this.nav.upperRight.style.height = $1n + "px";
            };
            this.nav.scroll.style.top = $1n + "px";
            this.nav.top.style.height = $20 + "px";
        };
        this.$4u = function() {
            var sh = this.$5S();
            if (this.nav.scroll && sh > 0) {
                this.nav.scroll.style.height = sh + "px";
                this.scrollHeight = $c.nav.scroll.clientHeight;
                if (this.nav.bottomLeft) {
                    this.nav.bottomLeft.style.height = sh + "px";
                };
                if (this.nav.bottomRight) {
                    this.nav.bottomRight.style.height = sh + "px";
                }
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            } else {
                this.nav.top.style.height = this.$5R() + "px";
            }
        };
        this.setHeight = function($1B) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            if (this.cssOnly) {
                this.height = $1B - (this.$4M());
            } else {
                this.height = $1B - (this.$4M() + 3);
            };
            this.$4u();
        };
        this.$6H = function($3y) {
            var $d = document.createElement("div");
            $d.style.position = "absolute";
            $d.style.top = "-2000px";
            $d.style.left = "-2000px";
            $d.className = this.$4F($3y);
            document.body.appendChild($d);
            var $J = $d.offsetHeight;
            var $0X = $d.offsetWidth;
            document.body.removeChild($d);
            var $u = {};
            $u.height = $J;
            $u.width = $0X;
            return $u;
        };
        this.$5J = {};
        var $0d = this.$5J;
        $0d.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $0d.weekStarts = function() {
            if (typeof $c.weekStarts !== 'undefined') {
                return $c.weekStarts;
            } else {
                return $0d.locale().weekStarts;
            }
        };
        $0d.timeFormat = function() {
            if ($c.timeFormat !== 'Auto') {
                return $c.timeFormat;
            };
            return this.locale().timeFormat;
        };
        $0d.useBox = function($3z) {
            if ($c.useEventBoxes === 'Always') {
                return true;
            };
            if ($c.useEventBoxes === 'Never') {
                return false;
            };
            return $3z < $c.cellDuration * 60 * 1000;
        };
        $0d.notifyType = function() {
            var $l;
            if ($c.notifyCommit === 'Immediate') {
                $l = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $l = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $l;
        };
        $0d.allDayEventHeight = function() {
            if ($c.$3S.allDayEventHeight) {
                return $c.$3S.allDayEventHeight;
            };
            var $J = $c.$6H("_alldayevent_height").height;
            if (!$J) {
                $J = $c.allDayEventHeight;
            };
            $c.$3S.allDayEventHeight = $J;
            return $J;
        };
        $0d.allDayHeaderHeight = function() {
            if ($c.$3S.allDayHeaderHeight) {
                return $c.$3S.allDayHeaderHeight;
            };
            var $J = $c.allDayHeaderHeight;
            $c.$3S.allDayHeaderHeight = $J;
            return $J;
        };
        $0d.headerHeight = function() {
            if ($c.$3S.headerHeight) {
                return $c.$3S.headerHeight;
            };
            var $J = $c.$6H("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$3S.headerHeight = $J;
            return $J;
        };
        this.$6I = function() {
            if (this.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        this.$6J = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Calendar: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$6K = function() {
            this.$6J();
            this.$6F();
            this.$4k();
            this.$5T();
            this.$4o();
            this.$4p();
            this.$4s();
            this.$4v();
            this.$6n();
            this.$6s();
            this.$4b();
            DayPilotCalendar.register(this);
            this.$4a();
            this.$4w();
            this.$6p();
            this.$4B();
            this.$40('Init');
        };
        this.init = function() {
            this.$6J();
            if (this.nav.top.dp) {
                return;
            };
            var $3A = this.$6I();
            if ($3A) {
                this.$6K();
                this.$3V = true;
                return;
            };
            this.$6F();
            this.$4k();
            this.$4l();
            if (this.events.list) {
                this.$4m();
            };
            this.$5T();
            this.$4o();
            this.$4p();
            this.$4s();
            this.$4x();
            this.$4v();
            this.$6n();
            this.$6s();
            this.$4b();
            DayPilotCalendar.register(this);
            if (this.events.list) {
                this.$4n();
                this.$4y();
                this.$4z();
            };
            this.$4a();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$4w();
            this.$4i(null, false);
            this.$6p();
            this.$4B();
            this.$3V = true;
            this.$6L();
        };
        this.$6M = null;
        this.$6N = function($a) {
            var $3B = {
                "events": {
                    "preInit": function() {
                        var $11 = this.data;
                        if (!$11) {
                            return;
                        };
                        if (DayPilot.isArray($11.list)) {
                            $c.events.list = $11.list;
                        } else {
                            $c.events.list = $11;
                        }
                    }
                },
                "scrollTo": {
                    "postInit": function() {
                        if (typeof this.data !== 'undefined') {
                            $c.scrollToHour(this.data);
                        }
                    }
                }
            };
            this.$6M = $3B;
            for (var name in $a) {
                if ($3B[name]) {
                    var $3C = $3B[name];
                    $3C.data = $a[name];
                    if ($3C.preInit) {
                        $3C.preInit();
                    }
                } else {
                    $c[name] = $a[name];
                }
            }
        };
        this.$6L = function() {
            var $3B = this.$6M;
            for (var name in $3B) {
                var $3C = $3B[name];
                if ($3C.postInit) {
                    $3C.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$3V;
        };
        this.internal.invokeEvent = this.$4Z;
        this.internal.eventMenuClick = this.$58;
        this.internal.timeRangeMenuClick = this.$59;
        this.internal.bubbleCallBack = this.$56;
        this.internal.findEventDiv = this.$6C;
        this.internal.eventDeleteDispatch = this.$4Y;
        this.internal.touch = this.$5O;
        this.Init = this.init;
        this.$6N($a);
    };
    var DayPilotCalendar = {};
    DayPilotCalendar.topSelectedCell = null;
    DayPilotCalendar.bottomSelectedCell = null;
    DayPilotCalendar.selecting = false;
    DayPilotCalendar.column = null;
    DayPilotCalendar.firstSelected = null;
    DayPilotCalendar.firstMousePos = null;
    DayPilotCalendar.originalMouse = null;
    DayPilotCalendar.originalHeight = null;
    DayPilotCalendar.originalTop = null;
    DayPilotCalendar.globalHandlers = false;
    DayPilotCalendar.editing = false;
    DayPilotCalendar.originalText = null;
    DayPilotCalendar.register = function($c) {
        if (!DayPilotCalendar.registered) {
            DayPilotCalendar.registered = [];
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            if (r[i] === $c) {
                return;
            }
        };
        r.push($c);
    };
    DayPilotCalendar.unregister = function($c) {
        var a = DayPilotCalendar.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotCalendar.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotCalendar.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotCalendar.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotCalendar.gTouchEnd);
            DayPilotCalendar.globalHandlers = false;
        }
    };
    DayPilotCalendar.getCellsAbove = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $3D = null;
        while (tr && $3D !== DayPilotCalendar.firstSelected) {
            $3D = tr.getElementsByTagName("td")[c];
            $s.push($3D);
            tr = tr.previousSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.previousSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getCellsBelow = function($f) {
        var $s = [];
        var c = DayPilotCalendar.getColumn($f);
        var tr = $f.parentNode;
        var $3D = null;
        while (tr && $3D !== DayPilotCalendar.firstSelected) {
            $3D = tr.getElementsByTagName("td")[c];
            $s.push($3D);
            tr = tr.nextSibling;
            while (tr && tr.tagName !== "TR") {
                tr = tr.nextSibling;
            }
        };
        return $s;
    };
    DayPilotCalendar.getColumn = function($f) {
        var i = 0;
        while ($f.previousSibling) {
            $f = $f.previousSibling;
            if ($f.tagName === "TD") {
                i++;
            }
        };
        return i;
    };
    DayPilotCalendar.getShadowColumn = function($E) {
        if (!$E) {
            return null;
        };
        var $0W = $E.parentNode;
        while ($0W && $0W.tagName !== "TD") {
            $0W = $0W.parentNode;
        };
        return $0W;
    };
    DayPilotCalendar.gTouchMove = function(ev) {
        if (DayPilotCalendar.drag) {
            ev.preventDefault();
            var x = ev.touches ? ev.touches[0].pageX : ev.pageX;
            var y = ev.touches ? ev.touches[0].pageY : ev.pageY;
            var $0G = {};
            $0G.x = x;
            $0G.y = y;
            var $c = (function() {
                var $3E = ev.touches ? ev.touches[0].clientX : ev.clientX;
                var $3F = ev.touches ? ev.touches[0].clientY : ev.clientY;
                var el = document.elementFromPoint($3E, $3F);
                while (el && el.parentNode) {
                    el = el.parentNode;
                    if (el.daypilotMainD) {
                        return el.calendar;
                    }
                };
                return false;
            })();
            if ($c) {
                if (DayPilotCalendar.gShadow) {
                    document.body.removeChild(DayPilotCalendar.gShadow);
                };
                DayPilotCalendar.gShadow = null;
                $c.coords = $c.$5O.relativeCoords(ev);
                if (!DayPilotCalendar.movingShadow && $c.coords) {
                    var $L = $c.$4D(DayPilotCalendar.drag, false, DayPilotCalendar.drag.shadowType);
                    if ($L) {
                        DayPilotCalendar.movingShadow = $L;
                        var $0F = new DayPilot.Date().getDatePart();
                        var ev = {
                            'value': DayPilotCalendar.drag.id,
                            'start': $0F,
                            'end': $0F.addSeconds(DayPilotCalendar.drag.duration),
                            'text': DayPilotCalendar.drag.text
                        };
                        var event = new DayPilot.Event(ev, $c);
                        event.external = true;
                        DayPilot.Global.moving = {};
                        DayPilot.Global.moving.event = event;
                        DayPilot.Global.moving.helper = {};
                    }
                };
                if (DayPilot.Global.moving) {
                    $c.$5O.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotCalendar.movingShadow);
                DayPilot.Global.moving = null;
                DayPilotCalendar.movingShadow = null;
                if (!DayPilotCalendar.gShadow) {
                    DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
                };
                var $L = DayPilotCalendar.gShadow;
                $L.style.left = $0G.x + 'px';
                $L.style.top = $0G.y + 'px';
            }
        }
    };
    DayPilotCalendar.gTouchEnd = function(ev) {
        DayPilotCalendar.gMouseUp(ev);
    };
    DayPilotCalendar.gMouseMove = function(ev) {
        if (typeof(DayPilotCalendar) === 'undefined') {
            return;
        };
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $0G = DayPilot.mc(ev);
        if (DayPilotCalendar.drag) {
            document.body.style.cursor = 'move';
            if (!DayPilotCalendar.gShadow) {
                DayPilotCalendar.gShadow = DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);
            };
            var $L = DayPilotCalendar.gShadow;
            $L.style.left = $0G.x + 'px';
            $L.style.top = $0G.y + 'px';
            DayPilot.Global.moving = null;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            DayPilotCalendar.movingShadow = null;
        };
        for (var i = 0; i < DayPilotCalendar.registered.length; i++) {
            if (DayPilotCalendar.registered[i].$4d) {
                DayPilotCalendar.registered[i].$4d();
            }
        }
    };
    DayPilotCalendar.gUnload = function(ev) {
        if (!DayPilotCalendar.registered) {
            return;
        };
        var r = DayPilotCalendar.registered;
        for (var i = 0; i < r.length; i++) {
            var c = r[i];
            DayPilotCalendar.unregister(c);
        }
    };
    DayPilotCalendar.gMouseUp = function(e) {
        var e = e || window.event;
        if (DayPilot.Global.resizing) {
            if (!DayPilotCalendar.resizingShadow) {
                DayPilot.Global.resizing.style.cursor = 'default';
                DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.resizing = null;
                return;
            };
            var $2Y = DayPilot.Global.resizing.event;
            var $0g = DayPilot.Global.resizing.dpBorder;
            var $J = DayPilotCalendar.resizingShadow.clientHeight;
            var top = DayPilotCalendar.resizingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);
            DayPilotCalendar.resizingShadow = null;
            DayPilot.Global.resizing.style.cursor = 'default';
            $2Y.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.resizing.onclick = null;
            DayPilot.Global.resizing = null;
            if ($2Y.calendar.overlap) {
                return;
            };
            $2Y.calendar.$51($2Y, $J, top, $0g);
        } else if (DayPilot.Global.moving) {
            if (!DayPilotCalendar.movingShadow) {
                DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
                DayPilot.Global.moving = null;
                return;
            };
            var $3G = DayPilot.Global.moving.helper.oldColumn;
            var top = DayPilotCalendar.movingShadow.offsetTop;
            DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);
            var $2Y = DayPilot.Global.moving.event;
            var $0o = DayPilotCalendar.movingShadow.column;
            var $0p = DayPilotCalendar.drag;
            DayPilot.Global.moving.event.calendar.nav.top.style.cursor = 'auto';
            DayPilot.Global.moving = null;
            DayPilotCalendar.movingShadow = null;
            if ($0p) {
                if (!$2Y.calendar.todo) {
                    $2Y.calendar.todo = {};
                };
                $2Y.calendar.todo.del = $0p.element;
            };
            if ($2Y.calendar.overlap) {
                return;
            };
            var ev = e || window.event;
            $2Y.calendar.$53($2Y, $0o, top, ev, $0p);
        };
        if (DayPilotCalendar.drag) {
            DayPilotCalendar.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotCalendar.gShadow) {
            document.body.removeChild(DayPilotCalendar.gShadow);
            DayPilotCalendar.gShadow = null;
        };
        DayPilotCalendar.moveOffsetY = null;
    };
    DayPilotCalendar.dragStart = function(element, $K, id, $26, $l) {
        DayPilot.us(element);
        var $0p = DayPilotCalendar.drag = {};
        $0p.element = element;
        $0p.duration = $K;
        $0p.text = $26;
        $0p.id = id;
        $0p.shadowType = $l ? $l : 'Fill';
        return false;
    };
    DayPilot.Calendar.makeDraggable = function($a) {
        var element = $a.element;
        var $3H = $a.keepElement ? null : element;
        var $K = $a.duration || 1;
        if (navigator.msPointerEnabled) {
            element.style.msTouchAction = "none";
            element.style.touchAction = "none";
        };
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            DayPilotCalendar.dragStart($3H, $K, $a.id, $a.text);
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $3I = element.tagName.toLowerCase();
                if ($3I === "textarea" || $3I === "select" || $3I === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        var $3J = function(ev) {
            var $2X = 0;
            window.setTimeout(function() {
                var $0p = DayPilotCalendar.drag = {};
                $0p.element = $3H;
                $0p.id = $a.id;
                $0p.text = $a.text || "";
                $0p.duration = $K;
                $0p.shadowType = "Fill";
                DayPilotCalendar.gTouchMove(ev);
                ev.preventDefault();
            }, $2X);
            ev.preventDefault();
        };
        DayPilot.re(element, DayPilot.touch.start, $3J);
    };
    DayPilotCalendar.deleteShadow = function($L) {
        if (!$L) {
            return;
        };
        if (!$L.parentNode) {
            return;
        };
        $L.parentNode.removeChild($L);
    };
    DayPilotCalendar.createGShadow = function($l) {
        var $L = document.createElement('div');
        $L.setAttribute('unselectable', 'on');
        $L.style.position = 'absolute';
        $L.style.width = '100px';
        $L.style.height = '20px';
        $L.style.border = '2px dotted #666666';
        $L.style.zIndex = 101;
        $L.style.pointerEvents = "none";
        if ($l === 'Fill') {
            $L.style.backgroundColor = "#aaaaaa";
            $L.style.opacity = 0.5;
            $L.style.filter = "alpha(opacity=50)";
            $L.style.border = '2px solid #aaaaaa';
        };
        document.body.appendChild($L);
        return $L;
    };
    DayPilotCalendar.moveShadow = function($q) {
        var $L = DayPilotCalendar.movingShadow;
        $L.parentNode.removeChild($L);
        $q.firstChild.appendChild($L);
        $L.style.left = '0px';
        $L.style.width = (DayPilotCalendar.movingShadow.parentNode.offsetWidth) + 'px';
    };
    DayPilotCalendar.Column = function($3K, name, $0t) {
        this.value = $3K;
        this.id = $3K;
        this.name = name;
        this.date = new DayPilot.Date($0t);
    };
    DayPilot.CalendarVisible.dragStart = DayPilotCalendar.dragStart;
    DayPilot.CalendarVisible.Calendar = DayPilotCalendar.Calendar;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotCalendar = function($a) {
                var $0E = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $3L = new DayPilot.Calendar(this.id, $a);
                    $3L.init();
                    this.daypilot = $3L;
                    if (!$0E) {
                        $0E = $3L;
                    }
                });
                if (this.length === 1) {
                    return $0E;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $3M = DayPilot.am();
        if (!$3M) {
            return;
        };
        $3M.directive("daypilotCalendar", function() {
            return {
                "restrict": "E",
                "template": "<div></div>",
                "replace": true,
                "link": function($3N, element, $3O) {
                    var $c = new DayPilot.Calendar(element[0]);
                    $c.$6D.scope = $3N;
                    $c.init();
                    var $3P = $3O["id"];
                    if ($3P) {
                        $3N[$3P] = $c;
                    };
                    var $3Q = $3N["$watch"];
                    $3Q.call($3N, $3O["daypilotConfig"], function($3K) {
                        for (var name in $3K) {
                            $c[name] = $3K[name];
                        };
                        $c.update();
                    });
                    $3Q.call($3N, $3O["daypilotEvents"], function($3K) {
                        $c.events.list = $3K;
                        $c.$6E({
                            "eventsOnly": true
                        });
                    }, true);
                }
            };
        });
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.DatePicker !== 'undefined') {
        return;
    };
    DayPilot.DatePicker = function($a) {
        this.v = '1418';
        var $b = "navigator_" + new Date().getTime();
        var $c = this;
        this.prepare = function() {
            this.locale = "en-us";
            this.target = null;
            this.resetTarget = true;
            this.pattern = this.$m.locale().datePattern;
            this.theme = null;
            this.patterns = [];
            if ($a) {
                for (var name in $a) {
                    this[name] = $a[name];
                }
            };
            this.init();
        };
        this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var $d = this.$n();
            if (this.resetTarget && !$d) {
                this.$o(this.date);
            };
            DayPilot.re(document, "mousedown", function() {
                $c.close();
            });
        };
        this.close = function() {
            if (!this.$p) {
                return;
            };
            if (this.navigator) {
                this.navigator.dispose();
            };
            this.div.innerHTML = '';
            if (this.div && this.div.parentNode === document.body) {
                document.body.removeChild(this.div);
            }
        };
        this.$n = function() {
            var element = this.$q();
            if (!element) {
                return this.date;
            };
            var $d = null;
            if (element.tagName === "INPUT") {
                $d = element.value;
            } else {
                $d = element.innerText;
            };
            if (!$d) {
                return null;
            };
            var $e = DayPilot.Date.parse($d, $c.pattern);
            for (var i = 0; i < $c.patterns.length; i++) {
                if ($e) {
                    return $e;
                };
                $e = DayPilot.Date.parse($d, $c.patterns[i]);
            };
            return $e;
        };
        this.$o = function($e) {
            var element = this.$q();
            if (!element) {
                return;
            };
            var $d = $e.toString($c.pattern, $c.locale);
            if (element.tagName === "INPUT") {
                element.value = $d;
            } else {
                element.innerHTML = $d;
            }
        };
        this.$m = {};
        this.$m.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        this.$q = function() {
            var id = this.target;
            var element = (id && id.nodeType && id.nodeType === 1) ? id : document.getElementById(id);
            return element;
        };
        this.show = function() {
            var element = this.$q();
            var navigator = this.navigator;
            var navigator = new DayPilot.Navigator($b);
            navigator.api = 2;
            navigator.cssOnly = true;
            navigator.theme = $c.theme;
            navigator.weekStarts = "Auto";
            navigator.locale = $c.locale;
            navigator.onTimeRangeSelected = function($f) {
                $c.date = $f.start;
                var $g = $f.start;
                var $d = $g.toString($c.pattern, $c.locale);
                var $f = {};
                $f.start = $g;
                $f.date = $g;
                $f.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($f);
                    if ($f.preventDefault.value) {
                        return;
                    }
                };
                $c.$o($d);
                $c.close();
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($f);
                }
            };
            this.navigator = navigator;
            var $h = DayPilot.abs(element);
            var $i = element.offsetHeight;
            var $j = document.createElement("div");
            $j.style.position = "absolute";
            $j.style.left = $h.x + "px";
            $j.style.top = ($h.y + $i) + "px";
            var $k = document.createElement("div");
            $k.id = $b;
            $j.appendChild($k);
            DayPilot.re($j, "mousedown", function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
                ev.stopPropagation && ev.stopPropagation();
            });
            document.body.appendChild($j);
            this.div = $j;
            var $l = $c.$n() || new DayPilot.Date().getDatePart();
            navigator.startDate = $l;
            navigator.selectionStart = $l;
            navigator.init();
            this.$p = true;
        };
        this.prepare();
    };
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Gantt !== 'undefined') {
        return;
    };
    var $a = function() {};
    DayPilot.Gantt = function(id, $b) {
        this.v = '1418';
        var $c = this;
        this.id = id;
        this.isGantt = true;
        var $d = new DayPilot.Scheduler(id);
        this.scheduler = $d;
        $d.viewType = "Resources";
        $d.onCallBackHeader = function($e) {
            $e.header.taskGroupMode = $c.taskGroupMode;
            $e.header.rowHeaderColumns = $c.columns;
            $e.header.clientState = $c.clientState;
        };
        $d.onGetNodeState = function($e) {
            var $f = function($g) {
                var $h = {};
                if ($g.tags) {
                    for (var name in $g.tags) {
                        $h[name] = "" + $g.tags[name];
                    }
                };
                return $h;
            };
            var $i = function($j) {
                var $g = $j.task;
                var $h = {};
                $h.start = $g.start;
                $h.end = $g.end;
                $h.id = $g.id;
                $h.complete = $g.complete;
                $h.text = $g.text;
                $h.type = $g.type;
                $h.expanded = $j.expanded;
                $h.loaded = $j.loaded;
                $h.tags = $f($g);
                $h.children = $d.internal.getNodeChildren($j.children);
                return $h;
            };
            $e.result = $i($e.row);
            $e.preventDefault();
        };
        $d.onCallBackResult = function($e) {
            var $h = $e.result;
            $e.preventDefault();
            if ($h.updateType === "None") {
                return;
            };
            var $k = function($l) {
                for (var i = 0; i < $l.length; i++) {
                    var name = $l[i];
                    if (typeof $h[name] !== "undefined") {
                        $c[name] = $h[name];
                    }
                }
            };
            $c.links.list = $h.links;
            $c.tasks.list = $h.tasks;
            $c.startDate = new DayPilot.Date($h.startDate);
            $k(['days', 'cellDuration', 'cellGroupBy', 'cellWidth', 'cellWidthSpec', 'cornerHtml', 'separators', 'rowMinHeight', 'rowMarginBottom', 'taskGroupMode']);
            $k(['cellProperties', 'cellConfig', 'timeHeader', 'timeHeaders', 'timeline', 'columns']);
            $m.translate();
            $m.$0b();
            $m.$0c();
            $d.update();
            $d.show();
        };
        this.taskGroupMode = "Auto";
        this.autoRefreshCommand = "refresh";
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.bubbleTask = null;
        this.bubbleCell = null;
        this.bubbleRow = null;
        this.cellDuration = 1440;
        this.cellGroupBy = "Month";
        this.cellWidth = 40;
        this.cellWidthSpec = "Fixed";
        this.completeBarVisible = true;
        this.completeBarHeight = 3;
        this.contextMenuTask = null;
        this.contextMenuRow = null;
        this.contextMenuLink = null;
        this.cornerHtml = '';
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.doubleClickTimeout = 300;
        this.progressiveTaskRendering = 'Progressive';
        this.progressiveTaskRenderingMargin = 500;
        this.progressiveTaskRenderingCacheSweeping = false;
        this.progressiveTaskRenderingCacheSize = 200;
        this.floatingTasks = true;
        this.floatingTimeHeaders = true;
        this.headerHeight = 20;
        this.height = 300;
        this.heightSpec = "Max";
        this.hideUntilInit = false;
        this.linkBottomMargin = 10;
        this.loadingLabelVisible = true;
        this.loadingLabelText = "Loading...";
        this.locale = "en-us";
        this.messageBarPosition = "Top";
        this.messageHideAfter = 5000;
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderHideIconEnabled = true;
        this.rowHeaderWidth = 80;
        this.rowHeaderWidthAutoFit = true;
        this.rowMarginBottom = 4;
        this.rowMinHeight = 0;
        this.scrollDelayTasks = 200;
        this.scrollDelayCells = 20;
        this.scrollDelayFloats = 0;
        this.scale = "Day";
        this.snapToGrid = true;
        this.syncTasks = true;
        this.syncLinks = true;
        this.taskHeight = 24;
        this.taskResizeMargin = 5;
        this.taskMovingStartEndEnabled = false;
        this.taskMovingStartEndFormat = "MMMM d, yyyy";
        this.taskResizingStartEndEnabled = false;
        this.taskResizingStartEndFormat = "MMMM d, yyyy";
        this.theme = "gantt_default";
        this.treeAutoExpand = true;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeline = null;
        this.timeHeaders = [{
            "groupBy": "Month",
            "format": "MMMM yyyy"
        }, {
            "groupBy": "Day",
            "format": "d"
        }];
        this.useEventBoxes = "Never";
        this.visible = true;
        this.taskMoveHandling = "Update";
        this.taskClickHandling = "Enabled";
        this.taskResizeHandling = "Update";
        this.linkCreateHandling = "Update";
        this.taskRightClickHandling = "ContextMenu";
        this.taskDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowMoveHandling = "Update";
        this.rowClickHandling = "Disabled";
        this.rowDoubleClickHandling = "Disabled";
        this.rowEditHandling = "Update";
        this.rowSelectHandling = "Update";
        this.separators = [];
        this.members = {};
        this.members.obsolete = [];
        this.members.ignore = ["members", "scheduler", "internal"];
        this.members.noCssOnly = [];
        this.links = {};
        this.links.list = [];
        this.links.add = function(link) {
            if (!link) {
                return;
            };
            var $n = link.isLink ? link.data : link;
            $c.links.list.push($n);
            if ($c.$0d) {
                $m.$0c();
                $d.update();
            };
            $c.$0e.notify();
        };
        this.links.remove = function(link) {
            if (!link || !link.isLink) {
                return;
            };
            var $o = DayPilot.indexOf($c.links.list, link.data);
            $c.links.list.splice($o, 1);
            if ($c.$0d) {
                $m.$0c();
                $d.update();
            };
            $c.$0e.notify();
        };
        this.links.find = function(id) {
            if (!DayPilot.isArray($c.links.list)) {
                return null;
            };
            for (var i = 0; i < $c.links.list.length; i++) {
                var link = $c.links.list[i];
                if (link.id === id) {
                    return new DayPilot.Link(link, $c);
                }
            };
            return null;
        };
        this.tasks = {};
        this.tasks.list = [];
        this.tasks.add = function($g) {
            if (!$g) {
                return;
            };
            if ($g instanceof DayPilot.Event) {
                throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
            };
            var $n = $g.isTask ? $g.data : $g;
            $c.tasks.list.push($n);
            if ($c.$0d) {
                $m.$0b();
                $d.update();
            };
            $c.$0e.notify();
        };
        this.tasks.find = function(id) {
            var $n = $p.findInCache(id);
            if (!$n) {
                return null;
            };
            return new DayPilot.Task($n, $c);
        };
        this.tasks.update = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            $g.commit();
            if ($c.$0d) {
                $m.$0b();
                $d.update();
            };
            $c.$0e.notify();
        };
        this.tasks.remove = function($g) {
            if (!$g) {
                return;
            };
            if (!$g.isTask) {
                throw "DayPilot.Task object expected";
            };
            var $q = $p.findParentArray($g.data);
            if (!$q) {
                return;
            };
            var $r = DayPilot.indexOf($q, $g.data);
            $q.splice($r, 1);
            if ($c.$0d) {
                $m.$0b();
                $d.update();
            };
            $c.$0e.notify();
        };
        this.onAfterRender = null;
        this.onBeforeRowHeaderRender = null;
        this.onBeforeTaskRender = null;
        this.onBeforeTimeHeaderRender = null;
        this.onBeforeCellRender = null;
        this.onTaskClick = null;
        this.onTaskClicked = null;
        this.onTaskDoubleClick = null;
        this.onTaskDoubleClicked = null;
        this.onTaskRightClick = null;
        this.onTaskRightClicked = null;
        this.onRowCreate = null;
        this.onRowCreated = null;
        this.onRowMove = null;
        this.onRowMoved = null;
        this.onRowMoving = null;
        this.onRowClick = null;
        this.onRowClicked = null;
        this.onRowDoubleClick = null;
        this.onRowDoubleClicked = null;
        this.onRowEdit = null;
        this.onRowEdited = null;
        this.onRowSelect = null;
        this.onRowSelected = null;
        this.onTaskMove = null;
        this.onTaskMoved = null;
        this.onTaskMoving = null;
        this.onTaskResize = null;
        this.onTaskResized = null;
        this.onTaskResizing = null;
        this.onLinkCreate = null;
        this.onLinkCreated = null;
        this.$0f = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$0g = function() {
            if ($c.startDate && $c.days) {
                return;
            };
            var $s = null;
            var $t = null;
            for (var i = 0; i < $c.tasks.list.length; i++) {
                var e = $c.tasks.list[i];
                var $u = new DayPilot.Date(e.start);
                var end = new DayPilot.Date(e.end);
                if ($s === null || $u.getTime() < $s) {
                    $s = $u.getTime();
                };
                if ($t === null || end.getTime() > $t) {
                    $t = end.getTime();
                }
            };
            if ($s && $t) {
                var $u = new DayPilot.Date($s).getDatePart();
                var end = new DayPilot.Date($t).getDatePart().addDays(1);
                $d.startDate = $c.startDate || $u;
                $d.days = $c.days || DayPilot.Date.daysDiff($u, end);
            } else {
                $d.startDate = $c.startDate;
                $d.days = $c.days;
            }
        };
        this.commandCallBack = function($v, $n) {
            $d.commandCallBack($v, $n);
        };
        this.message = function($w, $x, $y, $z) {
            $d.message($w, $x, $y, $z);
        };
        this.setHeight = function($A) {
            $d.setHeight($A);
        };
        this.$0h = function() {
            if (this.backendUrl) {
                return !DayPilot.isArray($c.tasks.list) || $c.tasks.list.length == 0;
            } else {
                return false;
            }
        };
        this.init = function() {
            $m.translate();
            $m.$0b();
            $m.$0c();
            this.$0g();
            $d.init();
            this.$0d = true;
            this.$0i();
            if (this.$0h()) {
                $d.internal.callback('Init');
            }
        };
        this.update = function() {
            $m.translate();
            $m.$0b();
            $m.$0c();
            $c.$0g();
            $d.update();
        };
        this.scrollTo = function($B) {
            $d.scrollTo($B);
        };
        this.$0j = {};
        var $p = this.$0j;
        $p.cache = {};
        $p.clearCache = function() {
            $p.cache = {};
        };
        $p.addToCache = function($n, parent) {
            var $C = $n.id;
            if (!$C) {
                return;
            };
            var $D = {};
            $D.isTaskWrapper = true;
            $D.data = $n;
            $D.parent = parent;
            if ($p.cache[$C]) {
                throw "Duplicate task id detected";
            };
            $p.cache[$C] = $D;
        };
        $p.findInCache = function(id) {
            if (!id) {
                return null;
            };
            return $p.cache[id.toString()];
        };
        $p.getProperty = function($g, name) {
            if ($g.tags && $g.tags[name]) {
                return $g.tags[name];
            };
            return $g[name];
        };
        $p.findParentArray = function($E) {
            return $p.findInArray($c.tasks.list, $E);
        };
        $p.findInArray = function($F, $E) {
            if (DayPilot.indexOf($F, $E) !== -1) {
                return $F;
            };
            for (var i = 0; i < $F.length; i++) {
                var r = $F[i];
                if (r.children && r.children.length > 0) {
                    var parent = $p.findInArray(r.children, $E);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$0k = {};
        var $m = this.$0k;
        var $G = function(p, $H) {
            if (typeof p !== "undefined") {
                return p;
            };
            return $H;
        };
        $m.translate = function() {
            $d.durationBarMode = "PercentComplete";
            $d.timeRangeSelectedHandling = "Disabled";
            $d.treeEnabled = true;
            $d.autoRefreshCommand = $c.autoRefreshCommand;
            $d.autoRefreshEnabled = $c.autoRefreshEnabled;
            $d.autoRefreshInterval = $c.autoRefreshInterval;
            $d.autoRefreshMaxCount = $c.autoRefreshMaxCount;
            $d.autoScroll = $c.autoScroll;
            $d.backendUrl = $c.backendUrl;
            $d.crosshairColor = $c.crosshairColor;
            $d.crosshairOpacity = $c.crosshairOpacity;
            $d.crosshairType = $c.crosshairType;
            $d.doubleClickTimeout = $c.doubleClickTimeout;
            $d.durationBarVisible = $c.completeBarVisible;
            $d.durationBarHeight = $c.completeBarHeight;
            $d.dynamicEventRendering = $c.progressiveTaskRendering ? "Progressive" : "Disabled";
            $d.dynamicEventRenderingMargin = $c.progressiveTaskRenderingMargin;
            $d.dynamicEventRenderingCacheSweeping = $c.progressiveTaskRenderingCacheSweeping;
            $d.dynamicEventRenderingCacheSize = $c.progressiveTaskRenderingCacheSize;
            $d.startDate = new DayPilot.Date($c.startDate);
            $d.days = $c.days;
            $d.cellDuration = $c.cellDuration;
            $d.cellGroupBy = $c.cellGroupBy;
            $d.cellWidth = $c.cellWidth;
            $d.cellWidthSpec = $c.cellWidthSpec;
            $d.cornerHtml = $c.cornerHtml;
            $d.eventHeight = $c.taskHeight;
            $d.eventResizeMargin = $c.taskResizeMargin;
            $d.floatingEvents = $c.floatingTasks;
            $d.floatingTimeHeaders = $c.floatingTimeHeaders;
            $d.headerHeight = $c.headerHeight;
            $d.heightSpec = $c.heightSpec;
            $d.height = $c.height;
            $d.linkBottomMargin = $c.linkBottomMargin;
            $d.loadingLabelVisible = $c.loadingLabelVisible;
            $d.loadingLabelText = $c.loadingLabelText;
            $d.locale = $c.locale;
            $d.messageBarPosition = $c.messageBarPosition;
            $d.messageHideAfter = $c.messageHideAfter;
            $d.rowCreateHandling = $c.rowCreateHandling;
            $d.numberFormat = $c.numberFormat;
            $d.progressiveRowRendering = $c.progressiveRowRendering;
            $d.progressiveRowRenderingPreload = $c.progressiveRowRenderingPreload;
            $d.scale = $c.scale;
            $d.scrollDelayEvents = $c.scrollDelayTasks;
            $d.scrollDelayCells = $c.scrollDelayCells;
            $d.scrollDelayFloats = $c.scrollDelayFloats;
            $d.separators = $c.separators;
            $d.eventMovingStartEndEnabled = $c.taskMovingStartEndEnabled;
            $d.eventMovingStartEndFormat = $c.taskMovingStartEndFormat;
            $d.eventResizingStartEndEnabled = $c.taskResizingStartEndEnabled;
            $d.eventResizingStartEndFormat = $c.taskResizingStartEndFormat;
            $d.hideUntilInit = $c.hideUntilInit;
            $d.treeIndent = $c.treeIndent;
            $d.treeAutoExpand = $c.treeAutoExpand;
            $d.treeImageMarginLeft = $c.treeImageMarginLeft;
            $d.treeImageMarginTop = $c.treeImageMarginTop;
            $d.timeHeaders = $c.timeHeaders;
            $d.rowHeaderHideIconEnabled = $c.rowHeaderHideIconEnabled;
            $d.rowHeaderScrolling = $c.rowHeaderScrolling;
            $d.rowHeaderSplitterWidth = $c.rowHeaderSplitterWidth;
            $d.rowHeaderWidth = $c.rowHeaderWidth;
            $d.rowHeaderWidthAutoFit = $c.rowHeaderWidthAutoFit;
            $d.rowMarginBottom = $c.rowMarginBottom;
            $d.rowMinHeight = $c.rowMinHeight;
            $d.theme = $c.theme;
            $d.useEventBoxes = $c.useEventBoxes;
            $d.snapToGrid = $c.snapToGrid;
            $d.uniqueID = $c.uniqueID;
            $d.bubble = $c.bubbleTask;
            $d.cellBubble = $c.bubbleCell;
            $d.resourceBubble = $c.bubbleRow;
            $d.contextMenu = $c.contextMenuTask;
            $d.contextMenuResource = $c.contextMenuRow;
            $d.contextMenuLink = $c.contextMenuLink;
            $d.syncResourceTree = $c.syncTasks;
            $d.syncLinks = $c.syncLinks;
            $d.timeline = $c.timeline;
            $d.visible = $c.visible;
            $d.eventMoveHandling = $c.taskMoveHandling;
            $d.eventClickHandling = $c.taskClickHandling;
            $d.eventResizeHandling = $c.taskResizeHandling;
            $d.linkCreateHandling = $c.linkCreateHandling;
            $d.eventRightClickHandling = $c.taskRightClickHandling;
            $d.eventDoubleClickHandling = $c.taskDoubleClickHandling;
            $d.rowMoveHandling = $c.rowMoveHandling;
            $d.rowClickHandling = $c.rowClickHandling;
            $d.rowDoubleClickHandling = $c.rowDoubleClickHandling;
            $d.rowEditHandling = $c.rowEditHandling;
            $d.rowSelectHandling = $c.rowSelectHandling;
            if (DayPilot.isArray($c.columns)) {
                $d.rowHeaderColumns = [];
                for (var i = 0; i < $c.columns.length; i++) {
                    var c = $c.columns[i];
                    var $I = {};
                    DayPilot.Util.copyProps(c, $I, ['title', 'width']);
                    $d.rowHeaderColumns.push($I);
                }
            };
            if ($c.$0f()) {
                $d.timeHeader = $c.timeHeader;
                $d.cellProperties = $c.cellProperties;
                $d.cellConfig = $c.cellConfig;
            };
            $d.onRowCreate = function($e) {
                if (typeof $c.onRowCreate === "function") {
                    $c.onRowCreate($e);
                }
            };
            $d.onRowCreated = function($e) {
                if (typeof $c.onRowCreated === "function") {
                    $c.onRowCreated($e);
                }
            };
            $d.onAfterRender = function($e) {
                if (typeof $c.onAfterRender === "function") {
                    $c.onAfterRender($e);
                }
            };
            $d.onRowHeaderResized = function($e) {
                $c.rowHeaderWidth = $d.rowHeaderWidth;
            };
            $d.onAjaxError = function($e) {
                if (typeof $c.onAjaxError === "function") {
                    $c.onAjaxError($e);
                }
            };
            $d.onRowHeaderColumnResized = function($e) {
                var $J = $e.column;
                var $o = DayPilot.indexOf($d.rowHeaderColumns, $J);
                for (var i = 0; i < $c.columns.length; i++) {
                    var $I = $d.rowHeaderColumns[i];
                    var c = $c.columns[i];
                    c.width = $I.width;
                };
                if (typeof $c.onColumnResized === "function") {
                    var $K = {};
                    $K.column = $c.columns[$o];
                    $c.onColumnResized($K);
                }
            };
            $d.onBeforeRowHeaderRender = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                var $L = [];
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $J = $c.columns[i];
                        var $M = $J.property;
                        var $N = {};
                        $N.value = $p.getProperty($e.task.data, $M);
                        if ($e.task.data.row && $e.task.data.row.columns && $e.task.data.row.columns[i]) {
                            $N.html = $e.task.data.row.columns[i].html;
                        } else {
                            $N.html = $N.value;
                        };
                        $L.push($N);
                    }
                };
                $e.row.columns = $L;
                if (typeof $c.onBeforeRowHeaderRender === "function") {
                    $c.onBeforeRowHeaderRender($e);
                };
                if (DayPilot.isArray($c.columns)) {
                    for (var i = 0; i < $c.columns.length; i++) {
                        var $w = $L[i].html;
                        if (i === 0) {
                            $e.row.html = $w;
                        } else {
                            $e.row.columns[i - 1].html = $w;
                        }
                    }
                }
            };
            $d.onBeforeCellRender = function($e) {
                $e.task = $c.tasks.find($e.cell.resource);
                delete $e.cell.resource;
                if (typeof $c.onBeforeCellRender === "function") {
                    $c.onBeforeCellRender($e);
                }
            };
            $d.onBeforeTimeHeaderRender = function($e) {
                if (typeof $c.onBeforeTimeHeaderRender === "function") {
                    $c.onBeforeTimeHeaderRender($e);
                }
            };
            $d.onEventClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskClick === "function") {
                    $c.onTaskClick($e);
                }
            };
            $d.onEventClicked = function($e) {
                if (typeof $c.onTaskClicked === "function") {
                    $c.onTaskClicked($e);
                }
            };
            $d.onEventDelete = function($e) {
                if (typeof $c.onTaskDelete === "function") {
                    $c.onTaskDelete($e);
                }
            };
            $d.onEventDeleted = function($e) {
                if (typeof $c.onTaskDeleted === "function") {
                    $c.onTaskDeleted($e);
                }
            };
            $d.onEventDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskDoubleClick === "function") {
                    $c.onTaskDoubleClick($e);
                }
            };
            $d.onEventDoubleClicked = function($e) {
                if (typeof $c.onTaskDoubleClicked === "function") {
                    $c.onTaskDoubleClicked($e);
                }
            };
            $d.onEventRightClick = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskRightClick === "function") {
                    $c.onTaskRightClick($e);
                }
            };
            $d.onEventRightClicked = function($e) {
                if (typeof $c.onTaskRightClicked === "function") {
                    $c.onTaskRightClicked($e);
                }
            };
            $d.onRowMoving = function($e) {
                $e.$0l = $e.source;
                $e.$0m = $e.target;
                $e.source = new DayPilot.Task($e.$0l.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0m.$.row.task, $c);
                if (typeof $c.onRowMoving === "function") {
                    $c.onRowMoving($e);
                }
            };
            $d.onRowMove = function($e) {
                $e.$0l = $e.source;
                $e.$0m = $e.target;
                $e.source = new DayPilot.Task($e.$0l.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0m.$.row.task, $c);
                if (typeof $c.onRowMove === "function") {
                    $c.onRowMove($e);
                };
                $e.source = $e.$0l;
                $e.target = $e.$0m;
            };
            $d.onRowMoved = function($e) {
                var $O = $c.rowMoveHandling === "Update" || $c.rowMoveHandling === "Notify";
                if ($O) {
                    var $P = $e.$0l.$.row.task;
                    var $B = $e.$0m.$.row.task;
                    var $Q = $e.position;
                    if ($Q === "forbidden") {
                        return;
                    };
                    var $R = $p.findParentArray($P);
                    if (!$R) {
                        throw "Cannot find source node parent";
                    };
                    var $r = DayPilot.indexOf($R, $P);
                    $R.splice($r, 1);
                    var $S = $p.findParentArray($B);
                    if (!$S) {
                        throw "Cannot find target node parent";
                    };
                    var $T = DayPilot.indexOf($S, $B);
                    switch ($Q) {
                        case "before":
                            $S.splice($T, 0, $P);
                            break;
                        case "after":
                            $S.splice($T + 1, 0, $P);
                            break;
                        case "child":
                            if (!$B.children) {
                                $B.children = [];
                                $B.expanded = true;
                            };
                            $B.children.push($P);
                            break;
                    };
                    $c.$0e.notify();
                    $c.update();
                };
                $e.source = new DayPilot.Task($e.$0l.$.row.task, $c);
                $e.target = new DayPilot.Task($e.$0m.$.row.task, $c);
                if (typeof $c.onRowMoved === "function") {
                    $c.onRowMoved($e);
                }
            };
            $d.onRowClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowClick === "function") {
                    $c.onRowClick($e);
                }
            };
            $d.onRowClicked = function($e) {
                if (typeof $c.onRowClicked === "function") {
                    $c.onRowClicked($e);
                }
            };
            $d.onRowDoubleClick = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowDoubleClick === "function") {
                    $c.onRowDoubleClick($e);
                }
            };
            $d.onRowDoubleClicked = function($e) {
                if (typeof $c.onRowDoubleClicked === "function") {
                    $c.onRowDoubleClicked($e);
                }
            };
            $d.onRowEdit = function($e) {
                $e.task = new DayPilot.Task($e.resource.$.row.task, $c);
                if (typeof $c.onRowEdit === "function") {
                    $c.onRowEdit($e);
                }
            };
            $d.onRowEdited = function($e) {
                if (typeof $c.onRowEdited === "function") {
                    $c.onRowEdited($e);
                }
            };
            $d.onRowSelect = function($e) {
                $e.task = new DayPilot.Task($e.row.$.row.task, $c);
                if (typeof $c.onRowSelect === "function") {
                    $c.onRowSelect($e);
                }
            };
            $d.onRowSelected = function($e) {
                if (typeof $c.onRowSelected === "function") {
                    $c.onRowSelected($e);
                }
            };
            $d.onEventMove = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                delete $e.e;
                delete $e.position;
                delete $e.newResource;
                if (typeof $c.onTaskMove === "function") {
                    $c.onTaskMove($e);
                }
            };
            $d.onEventMoved = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $U = $m.childrenStartEnd(e.data.parent);
                        parent.start($U.start);
                        parent.end($U.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0e.notify();
                if (typeof $c.onTaskMoved === "function") {
                    $c.onTaskMoved($e);
                }
            };
            $d.onEventMoving = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                delete $e.position;
                delete $e.overlapping;
                delete $e.resource;
                if (typeof $c.onTaskMoving === "function") {
                    $c.onTaskMoving($e);
                }
            };
            $d.onEventResize = function($e) {
                $e._e = $e.e;
                $e.task = new DayPilot.Task($e.e, $c);
                if (typeof $c.onTaskResize === "function") {
                    $c.onTaskResize($e);
                }
            };
            $d.onEventResized = function($e) {
                if ($c.taskGroupMode === "Auto") {
                    var e = $e._e;
                    var $g = e.data.task;
                    $g.start = e.start();
                    $g.end = e.end();
                    while (e.data.parent) {
                        var parent = $d.events.find(e.data.parent.id);
                        var $U = $m.childrenStartEnd(e.data.parent);
                        parent.start($U.start);
                        parent.end($U.end);
                        $d.events.update(parent);
                        e = parent;
                    }
                };
                $c.$0e.notify();
                if (typeof $c.onTaskResized === "function") {
                    $c.onTaskResized($e);
                }
            };
            $d.onEventResizing = function($e) {
                $e.task = new DayPilot.Task($e.e, $c);
                $e._e = $e.e;
                if (typeof $c.onTaskResizing === "function") {
                    $c.onTaskResizing($e);
                }
            };
            $d.onLinkCreate = function($e) {
                $e.source = $c.tasks.find($e.from);
                $e.target = $c.tasks.find($e.to);
                if (typeof $c.onLinkCreate === "function") {
                    $c.onLinkCreate($e);
                }
            };
            $d.onLinkCreated = function($e) {
                if (typeof $c.onLinkCreated === "function") {
                    $c.onLinkCreated($e);
                }
            };
        };
        $m.$0n = function($n) {
            for (var i = 0; i < $d.rowlist.length; i++) {
                var $j = $d.rowlist[i];
                if ($j.task === $n) {
                    return $d.internal.createRowObject($j);
                }
            };
            return null;
        };
        $m.$0c = function() {
            $d.links.list = $c.links.list ? $c.links.list : [];
        };
        $m.$0b = function() {
            $d.resources = [];
            $d.events.list = [];
            $p.clearCache();
            $m.$0o($c.tasks.list, $d.resources, null);
        };
        $m.$0p = function($g) {
            var $V = $g.type || "Task";
            if ($g.children && $g.children.length) {
                $V = "Group";
            };
            var $n = {};
            for (var name in $g) {
                if (name === "children") {
                    continue;
                };
                $n[name] = $g[name];
            };
            var $e = {};
            $e.data = $n;
            $e.type = $V;
            if (!$n.box) {
                $n.box = {};
            };
            if (typeof $n.box.html === "undefined") {
                if ($e.type === "Task") {
                    var $W = $n.complete || 0;
                    $n.box.html = $W + "%";
                } else {
                    $n.box.html = "";
                }
            };
            if (typeof $n.box.htmlRight === "undefined") {
                $n.box.htmlRight = $n.text;
            };
            if (typeof $c.onBeforeTaskRender === "function") {
                $c.onBeforeTaskRender($e);
            };
            $e.type = $V;
            return $e;
        };
        $m.$0o = function($P, $B, parent) {
            if (!DayPilot.isArray($P)) {
                return;
            };
            for (var i = 0; i < $P.length; i++) {
                var $X = $P[i];
                $p.addToCache($X, parent);
                var $e = $m.$0p($X);
                var $g = $e.data;
                var $V = $e.type;
                var event = {};
                DayPilot.Util.copyProps($g, event, ['id', 'start', 'end', 'text', 'complete']);
                DayPilot.Util.copyProps($g.box, event);
                event.parent = parent;
                event.task = $X;
                event.resource = $g.id;
                if ($V == "Group") {
                    event.type = "Group";
                    event.html = "";
                    delete event.backColor;
                    if ($c.taskGroupMode === "Auto") {
                        var $U = $m.childrenStartEnd($X);
                        event.start = $U.start;
                        event.end = $U.end;
                        event.resizeDisabled = true;
                        event.moveDisabled = true;
                    }
                } else if ($V === "Milestone") {
                    $X.end = $X.start;
                    $g.end = $g.start;
                    event.end = $g.start;
                    event.barHidden = true;
                    event.resizeDisabled = true;
                    event.type = "Milestone";
                    event.width = $c.taskHeight;
                    delete event.backColor;
                } else if ($V === "Task") {
                    $a();
                };
                event.moveVDisabled = true;
                event.htmlRight = $g.box.htmlRight;
                event.htmlLeft = $g.box.htmlLeft;
                $d.events.list.push(event);
                var r = {};
                r.task = $X;
                DayPilot.Util.copyProps($g.row, r);
                r.name = $g.text;
                r.id = $g.id;
                r.children = [];
                r.expanded = !$g.row || !$g.row.collapsed;
                if ($X.children && $X.children.length) {
                    $m.$0o($X.children, r.children, $X);
                };
                $B.push(r);
            }
        };
        $m.childrenStartEnd = function($g) {
            if (!$g.children || !$g.children.length) {
                var $u = $g.start;
                var end = $g.end;
                if ($g.type === "Milestone") {
                    end = $u;
                };
                return {
                    "start": new DayPilot.Date($u),
                    "end": new DayPilot.Date(end)
                };
            };
            var $u = null;
            var end = null;
            for (var i = 0; i < $g.children.length; i++) {
                var $U = $m.childrenStartEnd($g.children[i]);
                if (!$u || $U.start.getTime() < $u.getTime()) {
                    $u = $U.start;
                };
                if (!end || $U.end.getTime() > end.getTime()) {
                    end = $U.end;
                }
            };
            return {
                "start": $u,
                "end": end
            };
        };
        this.rows = {};
        this.rows.expand = function($Y) {
            $d.rows.expand($Y);
        };
        this.rows.expandAll = function() {
            $d.rows.expandAll();
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$0d;
        };
        this.internal.rowObjectForTaskData = $m.$0n;
        this.$0e = {};
        this.$0e.scope = null;
        this.$0e.notify = function() {
            if ($c.$0e.scope) {
                $c.$0e.scope["$apply"]();
            }
        };
        this.$0q = null;
        this.$0r = function($b) {
            var $Z = {
                "tasks": {
                    "preInit": function() {
                        var $00 = this.data;
                        if (!$00) {
                            return;
                        };
                        if (DayPilot.isArray($00.list)) {
                            $c.tasks.list = $00.list;
                        } else {
                            $c.tasks.list = $00;
                        }
                    }
                },
                "links": {
                    "preInit": function() {
                        var $01 = this.data;
                        if (!$01) {
                            return;
                        };
                        if (DayPilot.isArray($01.list)) {
                            $c.links.list = $01.list;
                        } else {
                            $c.links.list = $01;
                        }
                    }
                },
                "scrollTo": {
                    "postInit": function() {
                        if (this.data) {
                            $c.scrollTo(this.data);
                        }
                    }
                }
            };
            this.$0q = $Z;
            for (var name in $b) {
                if ($Z[name]) {
                    var $02 = $Z[name];
                    $02.data = $b[name];
                    if ($02.preInit) {
                        $02.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$0i = function() {
            var $Z = this.$0q;
            for (var name in $Z) {
                var $02 = $Z[name];
                if ($02.postInit) {
                    $02.postInit();
                }
            }
        };
        this.$0r($b);
    };
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotGantt = function($b) {
                var $03 = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $04 = new DayPilot.Gantt(this.id, $b);
                    $04.init();
                    this.daypilot = $04;
                    if (!$03) {
                        $03 = $04;
                    }
                });
                if (this.length === 1) {
                    return $03;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $05 = DayPilot.am();
        if (!$05) {
            return;
        };
        $05.directive("daypilotGantt", function() {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $06) {
                    element.replaceWith(this["template"].replace("{{id}};", $06["id"]));
                    return function link($07, element, $06) {
                        var $c = new DayPilot.Gantt(element[0]);
                        $c.$0e.scope = $07;
                        $c.init();
                        var $08 = $06["id"];
                        if ($08) {
                            $07[$08] = $c;
                        };
                        var $09 = $07["$watch"];
                        $09.call($07, $06["daypilotConfig"], function($0a) {
                            $c.$0r($0a);
                            $c.update();
                        }, true);
                    };
                }
            };
        });
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMenu === 'undefined') {
    var DayPilotMenu = DayPilot.MenuVisible = {};
};
(function() {
    if (typeof DayPilot.Menu !== 'undefined') {
        return;
    };
    var DayPilotMenu = {};
    DayPilotMenu.mouse = null;
    DayPilotMenu.menu = null;
    DayPilotMenu.clickRegistered = false;
    DayPilotMenu.hideTimeout = null;
    DayPilot.Menu = function($a) {
        var $b = this;
        this.v = '1418';
        this.zIndex = 10;
        this.useShadow = true;
        this.cssClassPrefix = "menu_default";
        this.cssOnly = true;
        this.menuTitle = null;
        this.showMenuTitle = false;
        this.ref = null;
        this.hideOnMouseOut = false;
        if ($a && DayPilot.isArray($a)) {
            this.items = $a;
        };
        this.show = function(e, $c) {
            var $d = null;
            if (typeof e.id === 'string' || typeof e.id === 'number') {
                $d = e.id;
            } else if (typeof e.id === 'function') {
                $d = e.id();
            } else if (typeof e.value === 'function') {
                $d = e.value();
            };
            if (typeof(DayPilot.Bubble) !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            if (!$c) {
                DayPilotMenu.menuClean();
            };
            this.submenu = null;
            if (DayPilotMenu.mouse === null) {
                return;
            };
            var $e = document.createElement("div");
            $e.style.position = "absolute";
            $e.style.top = "0px";
            $e.style.left = "0px";
            $e.style.display = 'none';
            $e.style.overflow = 'hidden';
            $e.style.zIndex = this.zIndex + 1;
            $e.className = this.applyCssClass('main');
            $e.onclick = function() {
                this.parentNode.removeChild(this);
            };
            if (this.hideOnMouseOut) {
                $e.onmousemove = function(ev) {
                    clearTimeout(DayPilotMenu.hideTimeout);
                };
                $e.onmouseout = function(ev) {
                    $b.delayedHide();
                };
            };
            if (!this.items || this.items.length === 0) {
                throw "No menu items defined.";
            };
            if (this.showMenuTitle) {
                var title = document.createElement("div");
                title.innerHTML = this.menuTitle;
                title.className = this.applyCssClass("title");
                $e.appendChild(title);
            };
            for (var i = 0; i < this.items.length; i++) {
                var mi = this.items[i];
                var $f = document.createElement("div");
                if (typeof mi === 'undefined') {
                    continue;
                };
                if (mi.text === '-') {
                    var $g = document.createElement("div");
                    $f.appendChild($g);
                } else {
                    var $h = document.createElement("a");
                    $h.style.position = 'relative';
                    $h.style.display = "block";
                    if (mi.href) {
                        $h.href = mi.href.replace(/\x7B0\x7D/gim, $d);
                        if (mi.target) {
                            $h.setAttribute("target", mi.target);
                        }
                    } else if (mi.onclick) {
                        $h.item = mi;
                        $h.onclick = mi.onclick;
                        $h.ontouchend = mi.onclick;
                    } else if (mi.command) {
                        var $i = function(mi, $h) {
                            return function(e) {
                                var $j = $h.source;
                                var $f = mi;
                                $f.action = $f.action ? $f.action : 'CallBack';
                                var $k = $j.calendar || $j.root;
                                if ($j instanceof DayPilot.Link) {
                                    $k.internal.linkMenuClick($f.command, $j, $f.action);
                                    return;
                                } else if ($j instanceof DayPilot.Selection) {
                                    $k.internal.timeRangeMenuClick($f.command, $j, $f.action);
                                    return;
                                } else if ($j instanceof DayPilot.Event) {
                                    $k.internal.eventMenuClick($f.command, $j, $f.action);
                                    return;
                                } else if ($j instanceof DayPilot.Selection) {
                                    $k.internal.timeRangeMenuClick($f.command, $j, $f.action);
                                    return;
                                } else if ($j instanceof DayPilot.Task) {
                                    if ($j.menuType === "resource") {
                                        $k.internal.resourceHeaderMenuClick($f.command, $h.menuSource, $f.action);
                                    } else {
                                        $k.internal.eventMenuClick($f.command, $h.menuSource, $f.action);
                                    };
                                    return;
                                } else {
                                    switch ($j.menuType) {
                                        case 'resource':
                                            $k.internal.resourceHeaderMenuClick($f.command, $j, $f.action);
                                            return;
                                        case 'selection':
                                            $k.internal.timeRangeMenuClick($f.command, $j, $f.action);
                                            return;
                                        default:
                                            $k.internal.eventMenuClick($f.command, $j, $f.action);
                                            return;
                                    }
                                };
                                e.preventDefault();
                            };
                        };
                        $h.onclick = $i(mi, $h);
                        $h.ontouchend = $i(mi, $h);
                    };
                    if (e && e.isRow && e.$.row.task) {
                        $h.source = new DayPilot.Task(e.$.row.task, e.calendar);
                        $h.source.menuType = "resource";
                    } else if (e && e.isEvent && e.data.task) {
                        $h.source = new DayPilot.Task(e, e.calendar);
                    } else {
                        $h.source = e;
                    };
                    $h.menuSource = e;
                    var $l = document.createElement("span");
                    $l.innerHTML = mi.text;
                    $h.appendChild($l);
                    if (mi.image) {
                        var $m = document.createElement("img");
                        $m.src = mi.image;
                        $m.style.position = 'absolute';
                        $m.style.top = '0px';
                        $m.style.left = '0px';
                        $h.appendChild($m);
                    };
                    var $n = function(mi, $h) {
                        return function() {
                            var $j = $h.source;
                            var $f = mi;
                            setTimeout(function() {
                                if ($b.submenu && $b.submenu.item === $f) {
                                    return;
                                };
                                if ($b.submenu && $b.submenu.item !== $f) {
                                    $b.submenu.menu.hide();
                                    $b.submenu = null;
                                };
                                if (!$f.items) {
                                    return;
                                };
                                var $o = $b.cloneOptions();
                                $o.items = $f.items;
                                $b.submenu = {};
                                $b.submenu.menu = new DayPilot.Menu($o);
                                $b.submenu.menu.show($j, true);
                                $b.submenu.item = $f;
                            }, 500);
                        };
                    };
                    $h.onmouseover = $n(mi, $h);
                    $f.appendChild($h);
                };
                $e.appendChild($f);
            };
            var $p = function(e) {
                window.setTimeout(function() {
                    DayPilotMenu.menuClean();
                }, 100);
            };
            $e.onclick = $p;
            $e.ontouchend = $p;
            $e.onmousedown = function(e) {
                e = e || window.event;
                e.cancelBubble = true;
                if (e.stopPropagation) e.stopPropagation();
            };
            $e.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($e);
            $b.visible = true;
            $b.source = e;
            $e.style.display = '';
            var $q = $e.clientHeight;
            var $r = $e.offsetWidth;
            $e.style.display = 'none';
            var $s = document.documentElement.clientHeight;
            if (!this.ref) {
                var x = DayPilotMenu.mouse.x + 1;
                var y = DayPilotMenu.mouse.y + 1;
                if (DayPilotMenu.mouse.clientY > $s - $q && $s !== 0) {
                    var $t = DayPilotMenu.mouse.clientY - ($s - $q) + 5;
                    $e.style.top = (y - $t) + 'px';
                } else {
                    $e.style.top = y + 'px';
                };
                var $u = document.documentElement.clientWidth;
                if (DayPilotMenu.mouse.clientX > $u - $r && $u !== 0) {
                    var $v = DayPilotMenu.mouse.clientX - ($u - $r) + 5;
                    $e.style.left = (x - $v) + 'px';
                } else {
                    $e.style.left = x + 'px';
                }
            } else {
                var $w = DayPilot.abs(this.ref);
                var $q = this.ref.offsetHeight;
                $e.style.left = $w.x + "px";
                $e.style.top = ($w.y + $q) + "px";
            };
            $e.style.display = '';
            this.addShadow($e);
            this.div = $e;
            if (!$c) {
                DayPilot.Menu.active = this;
            };
            return;
        };
        this.applyCssClass = function($x) {
            var $y = this.theme || this.cssClassPrefix;
            var $z = (this.cssOnly ? "_" : "");
            if ($y) {
                return $y + $z + $x;
            } else {
                return "";
            }
        };
        this.cloneOptions = function() {
            var $o = {};
            var $A = ['cssOnly', 'cssClassPrefix', 'useShadow', 'zIndex'];
            for (var i = 0; i < $A.length; i++) {
                var p = $A[i];
                $o[p] = this[p];
            };
            return $o;
        };
        this.hide = function() {
            if (this.submenu) {
                this.submenu.menu.hide();
            };
            this.removeShadow();
            if (this.div && this.div.parentNode === document.body) {
                document.body.removeChild(this.div);
            };
            $b.visible = false;
            $b.source = null;
        };
        this.delayedHide = function() {
            DayPilotMenu.hideTimeout = setTimeout(function() {
                $b.hide();
            }, 200);
        };
        this.cancelHideTimeout = function() {
            clearTimeout(DayPilotMenu.hideTimeout);
        };
        this.init = function(ev) {
            DayPilotMenu.mouseMove(ev);
        };
        this.addShadow = function($B) {
            if (!this.useShadow || this.cssOnly) {
                return;
            };
            if (!$B) {
                return;
            };
            if (this.shadows && this.shadows.length > 0) {
                this.removeShadow();
            };
            this.shadows = [];
            for (var i = 0; i < 5; i++) {
                var $C = document.createElement('div');
                $C.style.position = 'absolute';
                $C.style.width = $B.offsetWidth + 'px';
                $C.style.height = $B.offsetHeight + 'px';
                $C.style.top = $B.offsetTop + i + 'px';
                $C.style.left = $B.offsetLeft + i + 'px';
                $C.style.zIndex = this.zIndex;
                $C.style.filter = 'alpha(opacity:10)';
                $C.style.opacity = 0.1;
                $C.style.backgroundColor = '#000000';
                document.body.appendChild($C);
                this.shadows.push($C);
            }
        };
        this.removeShadow = function() {
            if (!this.shadows) {
                return;
            };
            for (var i = 0; i < this.shadows.length; i++) {
                document.body.removeChild(this.shadows[i]);
            };
            this.shadows = [];
        };
        var $o = DayPilot.isArray($a) ? null : $a;
        if ($o) {
            for (var name in $o) {
                this[name] = $o[name];
            }
        };
        if (!DayPilotMenu.clickRegistered) {
            DayPilot.re(document, 'mousemove', DayPilotMenu.mouseMove);
            DayPilot.re(document, 'touchmove', DayPilotMenu.touchMove);
            DayPilot.re(document, 'touchstart', DayPilotMenu.touchStart);
            DayPilot.re(document, 'touchend', DayPilotMenu.touchEnd);
            DayPilot.re(document, 'mousedown', DayPilotMenu.menuClean);
            DayPilotMenu.clickRegistered = true;
        }
    };
    DayPilotMenu.menuClean = function(ev) {
        if (typeof(DayPilot.Menu.active) === 'undefined') return;
        if (DayPilot.Menu.active) {
            DayPilot.Menu.active.hide();
            DayPilot.Menu.active = null;
        }
    };
    DayPilotMenu.mouseMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') return;
        DayPilotMenu.mouse = DayPilotMenu.mousePosition(ev);
    };
    DayPilotMenu.touchMove = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchStart = function(ev) {
        if (typeof(DayPilotMenu) === 'undefined') {
            return;
        };
        DayPilotMenu.mouse = DayPilotMenu.touchPosition(ev);
    };
    DayPilotMenu.touchEnd = function(ev) {};
    DayPilotMenu.touchPosition = function(ev) {
        var $D = ev.touches[0];
        var $E = {};
        $E.x = $D.pageX;
        $E.y = $D.pageY;
        $E.clientX = $D.clientX;
        $E.clientY = $D.clientY;
        return $E;
    };
    DayPilotMenu.mousePosition = function(e) {
        var $F = 0;
        var $G = 0;
        if (!e) var e = window.event;
        if (e.pageX || e.pageY) {
            $F = e.pageX;
            $G = e.pageY;
        } else if (e.clientX || e.clientY) {
            $F = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            $G = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
        };
        var $H = {};
        $H.x = $F;
        $H.y = $G;
        $H.clientY = e.clientY;
        $H.clientX = e.clientX;
        return $H;
    };
    DayPilot.MenuVisible.Menu = DayPilotMenu.Menu;
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof(DayPilot) === 'undefined') {
    DayPilot = {};
};
(function() {
    DayPilot.ModalStatic = {};
    DayPilot.ModalStatic.list = [];
    DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
            var $a = this.list.pop();
            if ($a) {
                $a.hide();
            }
        }
    };
    DayPilot.ModalStatic.remove = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                $c.splice(i, 1);
                return;
            }
        }
    };
    DayPilot.ModalStatic.close = function($d) {
        DayPilot.ModalStatic.result($d);
        DayPilot.ModalStatic.hide();
    };
    DayPilot.ModalStatic.result = function(r) {
        var $c = DayPilot.ModalStatic.list;
        if ($c.length > 0) {
            $c[$c.length - 1].result = r;
        }
    };
    DayPilot.ModalStatic.displayed = function($b) {
        var $c = DayPilot.ModalStatic.list;
        for (var i = 0; i < $c.length; i++) {
            if ($c[i] === $b) {
                return true;
            }
        };
        return false;
    };
    var $e = (navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1);
    DayPilot.Modal = function() {
        this.autoStretch = true;
        this.autoStretchFirstLoadOnly = false;
        this.border = "10px solid #ccc";
        this.corners = 'Rounded';
        this.className = null;
        this.dragDrop = true;
        this.height = 200;
        this.maxHeight = null;
        this.opacity = 30;
        this.scrollWithPage = true;
        this.top = 20;
        this.useIframe = true;
        this.width = 500;
        this.zIndex = null;
        this.closed = null;
        var $f = this;
        this.id = '_' + new Date().getTime() + 'n' + (Math.random() * 10);
        this.registered = false;
        this.start = null;
        this.coords = null;
        this.showHtml = function($g) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            if (!this.div) {
                this.create();
            };
            this.update();
            if (this.useIframe) {
                var $h = function(p, $i) {
                    return function() {
                        p.setInnerHTML(p.id + "iframe", $i);
                    };
                };
                window.setTimeout($h(this, $g), 0);
            } else {
                if ($g.nodeType) {
                    this.div.appendChild($g);
                } else {
                    this.div.innerHTML = $g;
                }
            };
            this.update();
            this.register();
        };
        this.rounded = function() {
            return this.corners && this.corners.toLowerCase() === 'rounded';
        };
        this.showUrl = function($j) {
            if (DayPilot.ModalStatic.displayed(this)) {
                throw "This modal dialog is already displayed.";
            };
            this.useIframe = true;
            if (!this.div) {
                this.create();
            };
            this.re(this.iframe, "load", this.onIframeLoad);
            this.iframe.src = $j;
            this.update();
            this.register();
        };
        this.update = function() {
            var $k = window;
            var $l = document;
            var scrollY = $k.pageYOffset ? $k.pageYOffset : (($l.documentElement && $l.documentElement.scrollTop) ? $l.documentElement.scrollTop : $l.body.scrollTop);
            var $m = function() {
                return $f.windowRect().y;
            };
            this.hideDiv.style.filter = "alpha(opacity=" + this.opacity + ")";
            this.hideDiv.style.opacity = "0." + this.opacity;
            this.hideDiv.style.backgroundColor = "black";
            if (this.zIndex) {
                this.hideDiv.style.zIndex = this.zIndex;
            };
            this.hideDiv.style.display = '';
            window.setTimeout(function() {
                $f.hideDiv.onclick = function() {
                    $f.hide();
                };
            }, 500);
            this.div.className = this.className;
            this.div.style.border = this.border;
            if (this.rounded()) {
                this.div.style.MozBorderRadius = "5px";
                this.div.style.webkitBorderRadius = "5px";
                this.div.style.borderRadius = "5px";
            };
            this.div.style.marginLeft = '-' + Math.floor(this.width / 2) + "px";
            this.div.style.position = 'absolute';
            this.div.style.top = (scrollY + this.top) + 'px';
            this.div.style.width = this.width + 'px';
            if (this.zIndex) {
                this.div.style.zIndex = this.zIndex;
            };
            if (this.height) {
                this.div.style.height = this.height + 'px';
            };
            if (this.useIframe && this.height) {
                this.iframe.style.height = (this.height) + 'px';
            };
            this.div.style.display = '';
            DayPilot.ModalStatic.list.push(this);
        };
        this.onIframeLoad = function() {
            $f.iframe.contentWindow.modal = $f;
            if ($f.autoStretch) {
                $f.stretch();
            }
        };
        this.stretch = function() {
            var $m = function() {
                return $f.windowRect().y;
            };
            var $n = this.maxHeight || $m() - 2 * this.top;
            for (var h = this.height; h < $n && this.hasScrollbar(); h += 10) {
                this.iframe.style.height = (h) + 'px';
                this.div.style.height = h + 'px';
            };
            if (this.autoStretchFirstLoadOnly) {
                this.ue(this.iframe, "load", this.onIframeLoad);
            }
        };
        this.hasScrollbar = function() {
            var document = this.iframe.contentWindow.document;
            var $o = document.compatMode === 'BackCompat' ? document.body : document.documentElement;
            var $p = $o.scrollHeight > $o.clientHeight;
            var $q = $o.scrollWidth > $o.clientWidth;
            return $p;
        };
        this.windowRect = function() {
            var $l = document;
            if ($l.compatMode === "CSS1Compat" && $l.documentElement && $l.documentElement.clientWidth) {
                var x = $l.documentElement.clientWidth;
                var y = $l.documentElement.clientHeight;
                return {
                    x: x,
                    y: y
                };
            } else {
                var x = $l.body.clientWidth;
                var y = $l.body.clientHeight;
                return {
                    x: x,
                    y: y
                };
            }
        };
        this.register = function() {
            if (this.registered) {
                return;
            };
            this.re(window, 'resize', this.resize);
            this.re(window, 'scroll', this.resize);
            if (this.dragDrop) {
                this.re(document, 'mousemove', this.drag);
                this.re(document, 'mouseup', this.drop);
            };
            this.registered = true;
        };
        this.drag = function(e) {
            if (!$f.coords) {
                return;
            };
            var e = e || window.event;
            var $r = $f.mc(e);
            var x = $r.x - $f.coords.x;
            var y = $r.y - $f.coords.y;
            $f.div.style.marginLeft = '0px';
            $f.div.style.top = ($f.start.y + y) + "px";
            $f.div.style.left = ($f.start.x + x) + "px";
        };
        this.drop = function(e) {
            if (!$f.coords) {
                return;
            };
            $f.unmaskIframe();
            $f.coords = null;
        };
        this.maskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            var $s = 80;
            var $t = document.createElement("div");
            $t.style.backgroundColor = "#ffffff";
            $t.style.filter = "alpha(opacity=" + $s + ")";
            $t.style.opacity = "0." + $s;
            $t.style.width = "100%";
            $t.style.height = this.height + "px";
            $t.style.position = "absolute";
            $t.style.left = '0px';
            $t.style.top = '0px';
            this.div.appendChild($t);
            this.mask = $t;
        };
        this.unmaskIframe = function() {
            if (!this.useIframe) {
                return;
            };
            this.div.removeChild(this.mask);
            this.mask = null;
        };
        this.resize = function() {
            if (!$f.hideDiv) {
                return;
            };
            if (!$f.div) {
                return;
            };
            if ($f.hideDiv.style.display === 'none') {
                return;
            };
            if ($f.div.style.display === 'none') {
                return;
            };
            var scrollY = window.pageYOffset ? window.pageYOffset : ((document.documentElement && document.documentElement.scrollTop) ? document.documentElement.scrollTop : document.body.scrollTop);
            if (!$f.scrollWithPage) {
                $f.div.style.top = (scrollY + $f.top) + 'px';
            }
        };
        this.re = function(el, ev, $u) {
            if (el.addEventListener) {
                el.addEventListener(ev, $u, false);
            } else if (el.attachEvent) {
                el.attachEvent("on" + ev, $u);
            }
        };
        this.ue = function(el, ev, $u) {
            if (el.removeEventListener) {
                el.removeEventListener(ev, $u, false);
            } else if (el.detachEvent) {
                el.detachEvent("on" + ev, $u);
            }
        };
        this.mc = function(ev) {
            if (ev.pageX || ev.pageY) {
                return {
                    x: ev.pageX,
                    y: ev.pageY
                };
            };
            return {
                x: ev.clientX + document.documentElement.scrollLeft,
                y: ev.clientY + document.documentElement.scrollTop
            };
        };
        this.abs = function(element) {
            var r = {
                x: element.offsetLeft,
                y: element.offsetTop
            };
            while (element.offsetParent) {
                element = element.offsetParent;
                r.x += element.offsetLeft;
                r.y += element.offsetTop;
            };
            return r;
        };
        this.create = function() {
            var $v = document.createElement("div");
            $v.id = this.id + "hide";
            $v.style.position = 'fixed';
            $v.style.left = "0px";
            $v.style.top = "0px";
            $v.style.right = "0px";
            $v.style.bottom = "0px";
            $v.style.backgroundColor = "black";
            $v.style.opacity = 0.50;
            $v.oncontextmenu = function() {
                return false;
            };
            document.body.appendChild($v);
            var $w = document.createElement("div");
            $w.id = this.id + 'popup';
            $w.style.position = 'fixed';
            $w.style.left = '50%';
            $w.style.top = '0px';
            $w.style.backgroundColor = 'white';
            $w.style.width = "50px";
            $w.style.height = "50px";
            if (this.dragDrop) {
                $w.onmousedown = this.dragStart;
            };
            var $x = 50;
            var $y = null;
            if (this.useIframe) {
                $y = document.createElement("iframe");
                $y.id = this.id + "iframe";
                $y.name = this.id + "iframe";
                $y.frameBorder = '0';
                $y.style.width = '100%';
                $y.style.height = $x + 'px';
                $w.appendChild($y);
            };
            document.body.appendChild($w);
            this.div = $w;
            this.iframe = $y;
            this.hideDiv = $v;
        };
        this.dragStart = function(e) {
            $f.maskIframe();
            $f.coords = $f.mc(e || window.event);
            $f.start = {
                x: $f.div.offsetLeft,
                y: $f.div.offsetTop
            };
        };
        this.setInnerHTML = function(id, $i) {
            var $z = window.frames[id];
            var $l = $z.contentWindow || $z.document || $z.contentDocument;
            if ($l.document) {
                $l = $l.document;
            };
            if ($i.nodeType) {
                $l.body.appendChild($i);
            } else {
                $l.body.innerHTML = $i;
            }
        };
        this.close = function($d) {
            this.result = $d;
            this.hide();
        };
        this.hide = function() {
            if (this.div) {
                this.div.style.display = 'none';
                this.hideDiv.style.display = 'none';
                if (!this.useIframe) {
                    this.div.innerHTML = null;
                }
            };
            DayPilot.ModalStatic.remove(this);
            if (this.closed) {
                this.closed();
            }
        };
    };
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotMonth === 'undefined') {
    var DayPilotMonth = DayPilot.MonthVisible = {};
};
(function() {
    var $a = function() {};
    if (typeof DayPilot.Month !== 'undefined') {
        return;
    };
    var DayPilotMonth = {};
    DayPilot.Month = function(id, $b) {
        this.v = '1418';
        this.nav = {};
        var $c = this;
        this.id = id;
        this.isMonth = true;
        this.api = 2;
        this.$1P = false;
        this.hideUntilInit = true;
        this.startDate = new DayPilot.Date();
        this.width = '100%';
        this.cssClassPrefix = "month_default";
        this.cellHeight = 100;
        this.cellMarginBottom = 0;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.doubleClickTimeout = 300;
        this.eventFontColor = "#000000";
        this.eventFontFamily = "Tahoma";
        this.eventFontSize = "11px";
        this.headerBackColor = '#ECE9D8';
        this.headerFontColor = '#000000';
        this.headerFontFamily = "Tahoma";
        this.headerFontSize = "10pt";
        this.headerHeight = 20;
        this.heightSpec = "Auto";
        this.weekStarts = 1;
        this.innerBorderColor = '#cccccc';
        this.borderColor = 'black';
        this.eventHeight = 25;
        this.cellHeaderHeight = 16;
        this.numberFormat = "0.00";
        this.clientState = {};
        this.afterRender = function() {};
        this.backColor = '#FFFFD5';
        this.nonBusinessBackColor = '#FFF4BC';
        this.cellHeaderBackColor = '';
        this.cellHeaderFontColor = '#000000';
        this.cellHeaderFontFamily = 'Tahoma';
        this.cellHeaderFontSize = '10pt';
        this.cssOnly = true;
        this.eventBackColor = 'White';
        this.eventBorderColor = 'Black';
        this.eventCorners = "Regular";
        this.eventFontColor = '#000000';
        this.eventFontFamily = 'Tahoma';
        this.eventFontSize = '11px';
        this.cellWidth = 14.285;
        this.lineSpace = 1;
        this.locale = "en-us";
        this.messageHideAfter = 5000;
        this.notifyCommit = 'Immediate';
        this.visible = true;
        this.eventMoveToPosition = false;
        this.eventTextLayer = 'Top';
        this.eventStartTime = true;
        this.eventEndTime = true;
        this.eventTextAlignment = 'Center';
        this.eventTextLeftIndent = 20;
        this.showWeekend = true;
        this.cellMode = false;
        this.shadowType = "Fill";
        this.eventTimeFontColor = 'gray';
        this.eventTimeFontFamily = 'Tahoma';
        this.eventTimeFontSize = '8pt';
        this.viewType = 'Month';
        this.weeks = 1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventDoubleClickHandling = 'Enabled';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.headerClickHandling = "Enabled";
        this.timeRangeSelectedHandling = 'Enabled';
        this.timeRangeDoubleClickHandling = 'Enabled';
        this.backendUrl = null;
        this.cellEvents = [];
        this.elements = {};
        this.elements.events = [];
        this.$1Q = {};
        this.$1Q.events = {};
        this.events = {};
        this.autoRefreshCount = 0;
        this.$1R = function($d, $e) {
            var $d = DayPilot.Util.parseJSON($d);
            if ($d.BubbleGuid) {
                var $f = $d.BubbleGuid;
                var $g = this.bubbles[$f];
                delete this.bubbles[$f];
                $c.$1S();
                if (typeof $d.Result.BubbleHTML !== 'undefined') {
                    $g.updateView($d.Result.BubbleHTML, $g);
                };
                return;
            };
            if ($d.CallBackRedirect) {
                document.location.href = $d.CallBackRedirect;
                return;
            };
            if (typeof $d.ClientState !== 'undefined') {
                $c.clientState = $d.ClientState;
            };
            if ($d.UpdateType === "None") {
                $c.$1T($d.CallBackData, true);
                if ($d.Message) {
                    $c.message($d.Message);
                };
                return;
            };
            if ($d.VsUpdate) {
                var $h = document.createElement("input");
                $h.type = 'hidden';
                $h.name = $c.id + "_vsupdate";
                $h.id = $h.name;
                $h.value = $d.VsUpdate;
                $c.$1U.innerHTML = '';
                $c.$1U.appendChild($h);
            };
            $c.events.list = $d.Events;
            if (typeof $d.TagFields !== 'undefined') {
                $c.tagFields = $d.TagFields;
            };
            if (typeof $d.SortDirections !== 'undefined') {
                $c.sortDirections = $d.SortDirections;
            };
            if ($d.UpdateType === "Full") {
                $c.cellProperties = $d.CellProperties;
                $c.headerProperties = $d.HeaderProperties;
                $c.startDate = $d.StartDate;
                if (typeof $d.ShowWeekend !== 'undefined') {
                    $c.showWeekend = $d.ShowWeekend;
                };
                $c.headerBackColor = $d.HeaderBackColor ? $d.HeaderBackColor : $c.headerBackColor;
                $c.backColor = $d.BackColor ? $d.BackColor : $c.backColor;
                $c.nonBusinessBackColor = $d.NonBusinessBackColor ? $d.NonBusinessBackColor : $c.nonBusinessBackColor;
                $c.locale = $d.Locale ? $d.Locale : $c.locale;
                $c.timeFormat = $d.TimeFormat ? $d.TimeFormat : $c.timeFormat;
                if (typeof $d.WeekStarts !== 'undefined') {
                    $c.weekStarts = $d.WeekStarts;
                };
                $c.hashes = $d.Hashes;
            };
            $c.multiselect.clear(true);
            $c.multiselect.initList = $d.SelectedEvents;
            $c.$1V();
            $c.$1W();
            $c.$1X();
            if ($d.UpdateType === "Full") {
                $c.$1Y();
                $c.$1Z();
            };
            $c.$20();
            $c.$21();
            $c.$22();
            $c.$1T($d.CallBackData, true);
            $c.$23();
            if ($d.Message) {
                $c.message($d.Message);
            }
        };
        this.$1T = function($i, $j) {
            var $k = function($i, $l) {
                return function() {
                    if ($c.$24()) {
                        if (typeof $c.onAfterRender === 'function') {
                            var $m = {};
                            $m.isCallBack = $l;
                            $m.data = $i;
                            $c.onAfterRender($m);
                        }
                    } else {
                        if ($c.afterRender) {
                            $c.afterRender($i, $l);
                        }
                    }
                };
            };
            window.setTimeout($k($i, $j), 0);
        };
        this.$24 = function() {
            return $c.api === 2;
        };
        this.$25 = function($n) {
            var $o = this.theme || this.cssClassPrefix;
            if ($o) {
                return $o + $n;
            } else {
                return "";
            }
        };
        this.$1X = function() {
            if (!this.events.list) {
                return;
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var length = this.events.list.length;
                for (var i = 0; i < length; i++) {
                    this.$26(i);
                }
            };
            if (this.cellMode) {
                this.$27();
            } else {
                this.$28();
            }
        };
        this.$1S = function() {};
        this.$28 = function() {
            if (!this.events.list) {
                return;
            };
            for (var x = 0; x < this.events.list.length; x++) {
                var e = this.events.list[x];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.end);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var i = 0; i < this.rows.length; i++) {
                    var $p = this.rows[i];
                    if ($p.belongsHere(e)) {
                        var ep = new DayPilot.Event(e, $c);
                        $p.events.push(ep);
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$1Q.events[x];
                        }
                    }
                }
            };
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                $p.events.sort(this.$29);
                for (var ei = 0; ei < this.rows[ri].events.length; ei++) {
                    var ev = $p.events[ei];
                    var $q = $p.getStartColumn(ev);
                    var $r = $p.getWidth(ev);
                    $p.putIntoLine(ev, $q, $r, ri);
                }
            }
        };
        this.$27 = function() {
            this.cellEvents = [];
            for (var x = 0; x < this.$2a(); x++) {
                this.cellEvents[x] = [];
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = {};
                    var d = DayPilot.Date.addDays(this.firstDate, y * 7 + x);
                    $s.start = d;
                    $s.end = DayPilot.Date.addDays(d, 1);
                    $s.events = [];
                    this.cellEvents[x][y] = $s;
                }
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                e.start = new DayPilot.Date(e.start);
                e.end = new DayPilot.Date(e.start);
                if (e.start.getTime() > e.end.getTime()) {
                    continue;
                };
                for (var x = 0; x < this.$2a(); x++) {
                    for (var y = 0; y < this.rows.length; y++) {
                        var $s = this.cellEvents[x][y];
                        if (e.start.getTime() >= $s.start.getTime() && e.start.getTime() < $s.end.getTime()) {
                            var ep = new DayPilot.Event(e, $c);
                            $s.events.push(ep);
                            if (typeof this.onBeforeEventRender === 'function') {
                                ep.cache = this.$1Q.events[i];
                            }
                        }
                    }
                }
            };
            for (var x = 0; x < this.$2a(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    $s.events.sort(this.$29);
                }
            }
        };
        this.$1V = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var e = this.elements.events[i];
                e.event = null;
                e.click = null;
                e.parentNode.removeChild(e);
            };
            this.elements.events = [];
        };
        this.$22 = function() {
            this.$1Q.events = {};
            if (this.cellMode) {
                this.$2b();
            } else {
                this.$2c();
            };
            this.multiselect.redraw();
        };
        this.$2b = function() {
            this.elements.events = [];
            for (var x = 0; x < this.$2a(); x++) {
                for (var y = 0; y < this.rows.length; y++) {
                    var $s = this.cellEvents[x][y];
                    var $t = this.cells[x][y];
                    for (var i = 0; i < $s.events.length; i++) {
                        var ep = $s.events[i];
                        ep.part.colStart = x;
                        ep.part.colWidth = 1;
                        ep.part.row = y;
                        ep.part.line = i;
                        ep.part.startsHere = true;
                        ep.part.endsHere = true;
                        this.$2d(ep);
                    }
                }
            }
        };
        this.$2c = function() {
            this.elements.events = [];
            for (var ri = 0; ri < this.rows.length; ri++) {
                var $p = this.rows[ri];
                for (var li = 0; li < $p.lines.length; li++) {
                    var $u = $p.lines[li];
                    for (var pi = 0; pi < $u.length; pi++) {
                        this.$2d($u[pi]);
                    }
                }
            }
        };
        this.$2e = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $v = a.start().ticks - b.start().ticks;
            if ($v !== 0) {
                return $v;
            };
            var $w = b.end().ticks - a.end().ticks;
            return $w;
        };
        this.$29 = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $c.$2e(a, b);
            };
            var $d = 0;
            var i = 0;
            while ($d === 0 && a.data.sort[i] && b.data.sort[i]) {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $d = 0;
                } else {
                    $d = $c.$2f(a.data.sort[i], b.data.sort[i], $c.sortDirections[i]);
                };
                i++;
            };
            return $d;
        };
        this.$2f = function(a, b, $x) {
            var $y = ($x !== "desc");
            var $z = $y ? -1 : 1;
            var $A = -$z;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $A;
            };
            if (a === null) {
                return $z;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $z : $A;
        };
        this.$2g = function(x, y, $u, $B, $C, e) {
            if (!$C) {
                $C = 0;
            };
            var $D = $B;
            this.shadow = {};
            this.shadow.list = [];
            this.shadow.start = {
                x: x,
                y: y
            };
            this.shadow.width = $B;
            if (this.eventMoveToPosition) {
                $D = 1;
                this.shadow.position = $u;
            };
            var $E = y * 7 + x - $C;
            if ($E < 0) {
                $D += $E;
                x = 0;
                y = 0;
            };
            var $F = $C;
            while ($F >= 7) {
                y--;
                $F -= 7;
            };
            if ($F > x) {
                var $G = 7 - this.$2a();
                if ($F > (x + $G)) {
                    y--;
                    x = x + 7 - $F;
                } else {
                    $D = $D - $F + x;
                    x = 0;
                }
            } else {
                x -= $F;
            };
            if (y < 0) {
                y = 0;
                x = 0;
            };
            var $H = null;
            if (DayPilotMonth.resizingEvent) {
                $H = 'w-resize';
            } else if (DayPilotMonth.movingEvent) {
                $H = "move";
            };
            this.nav.top.style.cursor = $H;
            while ($D > 0 && y < this.rows.length) {
                var $I = Math.min(this.$2a() - x, $D);
                var $p = this.rows[y];
                var top = this.$2h(y);
                var $J = $p.getHeight();
                if (this.eventMoveToPosition) {
                    top = this.$2i(y, $u);
                    $J = 2;
                };
                var $K = document.createElement("div");
                $K.setAttribute("unselectable", "on");
                $K.style.position = 'absolute';
                $K.style.left = (this.$2j() * x) + '%';
                $K.style.width = (this.$2j() * $I) + '%';
                $K.style.top = (top) + 'px';
                $K.style.height = ($J) + 'px';
                $K.style.cursor = $H;
                var $L = document.createElement("div");
                $L.setAttribute("unselectable", "on");
                $K.appendChild($L);
                if (this.cssOnly) {
                    $K.className = this.$25("_shadow");
                    $L.className = this.$25("_shadow_inner");
                };
                if (!this.cssOnly) {
                    $L.style.position = "absolute";
                    $L.style.top = "0px";
                    $L.style.right = "0px";
                    $L.style.left = "0px";
                    $L.style.bottom = "0px";
                    if (this.shadowType === 'Fill') {
                        $L.style.backgroundColor = "#aaaaaa";
                        $L.style.opacity = 0.5;
                        $L.style.filter = "alpha(opacity=50)";
                        if (e && e.event) {
                            $L.style.overflow = 'hidden';
                            $L.style.fontSize = this.eventFontSize;
                            $L.style.fontFamily = this.eventFontFamily;
                            $L.style.color = this.eventFontColor;
                            $L.innerHTML = e.event.client.innerHTML() ? e.event.client.innerHTML() : e.event.text();
                        }
                    } else {
                        $L.style.border = '2px dotted #666666';
                    }
                };
                var $M = this.nav.events;
                $M.appendChild($K);
                this.shadow.list.push($K);
                $D -= ($I + 7 - this.$2a());
                x = 0;
                y++;
            }
        };
        this.$2k = function() {
            if (this.shadow) {
                var $M = this.nav.events;
                for (var i = 0; i < this.shadow.list.length; i++) {
                    $M.removeChild(this.shadow.list[i]);
                };
                this.shadow = null;
                this.nav.top.style.cursor = '';
            }
        };
        this.$2i = function($p, $u) {
            var top = 0;
            for (var i = 0; i < $p; i++) {
                top += this.rows[i].getHeight();
            };
            top += this.cellHeaderHeight;
            top += $u * $N.lineHeight();
            return top;
        };
        this.$2l = function(x, y) {
            return DayPilot.Date.addDays(this.firstDate, y * 7 + x);
        };
        this.$26 = function(i) {
            var $O = this.$1Q.events;
            var $i = this.events.list[i];
            var $P = {};
            for (var name in $i) {
                $P[name] = $i[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $m = {};
                $m.e = $P;
                this.onBeforeEventRender($m);
            };
            $O[i] = $P;
        };
        this.$2d = function(ep, $Q) {
            var $Q = this.cellMode;
            var $p = ep.part.row;
            var $u = ep.part.line;
            var $q = ep.part.colStart;
            var $r = ep.part.colWidth;
            var $O = ep.cache || ep.data;
            var $R = $Q ? 0 : this.$2j() * ($q);
            var $B = $Q ? 100 : this.$2j() * ($r);
            var top = $Q ? $u * $N.lineHeight() : this.$2i($p, $u);
            var e = document.createElement("div");
            e.setAttribute("unselectable", "on");
            e.style.height = $N.eventHeight() + 'px';
            if (!this.cssOnly) {
                e.style.fontFamily = this.eventFontFamily;
            } else {
                e.style.position = "relative";
                e.style.overflow = "hidden";
                e.className = this.$25("_event");
            };
            if ($O.cssClass) {
                DayPilot.Util.addClass(e, $O.cssClass);
            };
            e.event = ep;
            if ($Q) {
                e.style.marginRight = "2px";
                e.style.marginBottom = "2px";
            } else {
                e.style.width = $B + '%';
                e.style.position = 'absolute';
                e.style.left = $R + '%';
                e.style.top = top + 'px';
            };
            if (this.showToolTip && $O.toolTip && !this.bubble) {
                e.title = $O.toolTip;
            };
            e.onclick = this.$2m;;
            e.ondblclick = this.$2n;
            e.oncontextmenu = this.$2o;
            e.onmousedown = this.$2p;
            e.onmousemove = this.$2q;
            e.onmouseout = this.$2r;
            e.ontouchstart = $S.onEventTouchStart;
            e.ontouchmove = $S.onEventTouchMove;
            e.ontouchend = $S.onEventTouchEnd;
            if (!this.cssOnly) {
                var back = (ep.client.backColor()) ? ep.client.backColor() : this.eventBackColor;
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.style.height = ($N.eventHeight() - 2) + 'px';
                $T.style.overflow = 'hidden';
                $T.style.position = "absolute";
                $T.style.left = "2px";
                $T.style.right = "2px";
                $T.style.paddingLeft = '2px';
                $T.style.border = '1px solid ' + $c.eventBorderColor;
                $T.style.backgroundColor = back;
                $T.style.fontFamily = "";
                $T.className = this.$25("event");
                if ($N.rounded()) {
                    $T.style.MozBorderRadius = "5px";
                    $T.style.webkitBorderRadius = "5px";
                    $T.style.borderRadius = "5px";
                };
                var $L = [];
                var $U = this.eventTextLayer === 'Top';
                var $V = this.eventStartTime;
                var $W = this.eventEndTime;
                var $X = this.eventTextAlignment;
                var $Y = this.eventTextLeftIndent;
                var $Z = this.eventTextLayer === 'Floats';
                if ($Z) {
                    if ($V) {
                        $L.push("<div unselectable='on' style='float:left; font-size:");
                        $L.push(this.eventTimeFontSize);
                        $L.push(";color:");
                        $L.push(this.eventTimeFontColor);
                        $L.push(";font-family:");
                        $L.push(this.eventTimeFontFamily);
                        $L.push("'>");
                        $L.push(DayPilot.Date.hours(ep.start().d, $c.timeFormat === 'Clock12Hours'));
                        $L.push("</div>");
                    };
                    if ($W) {
                        $L.push("<div unselectable='on' style='float:right;font-size:");
                        $L.push(this.eventTimeFontSize);
                        $L.push(";color:");
                        $L.push(this.eventTimeFontColor);
                        $L.push(";font-family:");
                        $L.push(this.eventTimeFontFamily);
                        $L.push("'>");
                        $L.push(DayPilot.Date.hours(ep.end().d, $c.timeFormat === 'Clock12Hours'));
                        $L.push("</div>");
                    };
                    $L.push("<div unselectable='on' style='");
                    $L.push("font-size:");
                    $L.push(this.eventFontSize);
                    $L.push(";color:");
                    $L.push(this.eventFontColor);
                    $L.push(";font-family:");
                    $L.push(this.eventFontFamily);
                    if ($X === 'Center') {
                        $L.push(";text-align:center;");
                    };
                    $L.push("'>");
                    if (ep.client.innerHTML()) {
                        $L.push(ep.client.innerHTML());
                    } else {
                        $L.push(ep.text());
                    };
                    $L.push("</div>");
                } else {
                    if ($V) {
                        if ($X === 'Left') {
                            $L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");
                            $L.push(this.eventTimeFontSize);
                            $L.push(";color:");
                            $L.push(this.eventTimeFontColor);
                            $L.push(";font-family:");
                            $L.push(this.eventTimeFontFamily);
                            $L.push(";text-align:right;");
                            $L.push("width:");
                            $L.push($Y - 4);
                            $L.push("px;");
                            $L.push("><span style='background-color:");
                        } else {
                            $L.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");
                            $L.push(this.eventTimeFontSize);
                            $L.push(";color:");
                            $L.push(this.eventTimeFontColor);
                            $L.push(";font-family:");
                            $L.push(this.eventTimeFontFamily);
                            $L.push(";'><span style='background-color:");
                        };
                        $L.push(back);
                        $L.push("' unselectable='on'>");
                        if (ep.part.startsHere) {
                            $L.push(DayPilot.Date.hours(ep.start().d, $c.timeFormat === 'Clock12Hours'));
                        } else {
                            $L.push("~");
                        };
                        $L.push("</span></div></div>");
                    };
                    if ($W) {
                        $L.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");
                        $L.push(this.eventTimeFontSize);
                        $L.push(";color:");
                        $L.push(this.eventTimeFontColor);
                        $L.push(";font-family:");
                        $L.push(this.eventTimeFontFamily);
                        $L.push(";'><span style='background-color:");
                        $L.push(back);
                        $L.push("' unselectable='on'>");
                        if (ep.part.endsHere) {
                            $L.push(DayPilot.Date.hours(ep.end().d, $c.timeFormat === 'Clock12Hours'));
                        } else {
                            $L.push("~");
                        };
                        $L.push("</span></div></div>");
                    };
                    if ($X === 'Left') {
                        var $R = $V ? $Y : 0;
                        $L.push("<div style='margin-top:0px;height:");
                        $L.push($N.eventHeight() - 2);
                        $L.push("px;");
                        $L.push(";overflow:hidden;text-align:left;padding-left:");
                        $L.push($R);
                        $L.push("px;font-size:");
                        $L.push(this.eventFontSize);
                        $L.push(";color:");
                        $L.push(this.eventFontColor);
                        $L.push(";font-family:");
                        $L.push(this.eventFontFamily);
                        $L.push("' unselectable='on'>");
                        if (ep.client.innerHTML()) {
                            $L.push(ep.client.innerHTML());
                        } else {
                            $L.push(ep.text());
                        };
                        $L.push("</div>");
                    } else if ($X === 'Center') {
                        if ($U) {
                            $L.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");
                            $L.push("<span style='background-color:");
                            $L.push(back);
                            $L.push(";font-size:");
                            $L.push(this.eventFontSize);
                            $L.push(";color:");
                            $L.push(this.eventFontColor);
                            $L.push(";font-family:");
                            $L.push(this.eventFontFamily);
                            $L.push("' unselectable='on'>");
                            if (ep.client.innerHTML()) {
                                $L.push(ep.client.innerHTML());
                            } else {
                                $L.push(ep.text());
                            };
                            $L.push("</span>");
                            $L.push("</div>");
                        } else {
                            $L.push("<div style='margin-top:0px;height:");
                            $L.push($N.eventHeight() - 2);
                            $L.push("px;");
                            $L.push(";overflow:hidden;text-align:center;font-size:");
                            $L.push(this.eventFontSize);
                            $L.push(";color:");
                            $L.push(this.eventFontColor);
                            $L.push(";font-family:");
                            $L.push(this.eventFontFamily);
                            $L.push("' unselectable='on'>");
                            if (ep.client.innerHTML()) {
                                $L.push(ep.client.innerHTML());
                            } else {
                                $L.push(ep.text());
                            };
                            $L.push("</div>");
                        }
                    }
                };
                $T.innerHTML = $L.join('');
                e.appendChild($T);
            } else {
                if (!ep.part.startsHere) {
                    DayPilot.Util.addClass(e, this.$25("_event_continueleft"));
                };
                if (!ep.part.endsHere) {
                    DayPilot.Util.addClass(e, this.$25("_event_continueright"));
                };
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.className = this.$25("_event_inner");
                if (ep.client.innerHTML()) {
                    $T.innerHTML = ep.client.innerHTML();
                } else {
                    $T.innerHTML = ep.text();
                };
                if ($O.backColor) {
                    $T.style.background = $O.backColor;
                };
                e.appendChild($T);
            };
            if ($O.areas) {
                var $00 = $O.areas;
                for (var i = 0; i < $00.length; i++) {
                    var $01 = $00[i];
                    if ($01.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea(e, ep, $01);
                    e.appendChild(a);
                }
            };
            this.elements.events.push(e);
            if ($Q) {
                this.cells[$q][$p].body.appendChild(e);
            } else {
                this.nav.events.appendChild(e);
            };
            if ($c.multiselect.$2s(e.event)) {
                $c.multiselect.add(e.event, true);
            };
            var $t = e;
            if ($c.$24()) {
                if (typeof $c.onAfterEventRender === 'function') {
                    var $m = {};
                    $m.e = $t.event;
                    $m.div = $t;
                    $c.onAfterEventRender($m);
                }
            } else {
                if ($c.afterEventRender) {
                    $c.afterEventRender($t.event, $t);
                }
            }
        };
        this.$2m = function(ev) {
            if ($S.start) {
                return;
            };
            $c.$2t(this, ev);
        };
        this.$2n = function(ev) {
            $c.$2u(this, ev);
        };
        this.$2q = function(ev) {
            var e = this;
            var ep = e.event;
            if (typeof(DayPilotMonth) === 'undefined') {
                return;
            };
            if (DayPilotMonth.movingEvent || DayPilotMonth.resizingEvent) {
                return;
            };
            var $C = DayPilot.mo3(e, ev);
            if (!$C) {
                return;
            };
            (function() {
                var $t = e;
                if (!$t.active) {
                    var $00 = [];
                    if ($c.eventDeleteHandling !== "Disabled") {
                        $00.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": 2,
                            "right": 2,
                            "css": $c.$25("_event_delete"),
                            "js": function(e) {
                                $c.$2v(e);
                            }
                        });
                    };
                    var $02 = $t.event.cache ? $t.event.cache.areas : $t.event.data.areas;
                    if ($02 && $02.length > 0) {
                        $00 = $00.concat($02);
                    };
                    DayPilot.Areas.showAreas($t, $t.event, null, $00);
                }
            })();
            if ($c.cssOnly) {
                $c.$2w(e.event).each(function($t) {
                    DayPilot.Util.addClass($t, $c.$25("_event_hover"));
                });
            };
            var $03 = 6;
            if (!$c.cellMode && $C.x <= $03 && ep.client.resizeEnabled()) {
                if (ep.part.startsHere) {
                    e.style.cursor = "w-resize";
                    e.dpBorder = 'left';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else if (!$c.cellMode && e.clientWidth - $C.x <= $03 && ep.client.resizeEnabled()) {
                if (ep.part.endsHere) {
                    e.style.cursor = "e-resize";
                    e.dpBorder = 'right';
                } else {
                    e.style.cursor = 'not-allowed';
                }
            } else {
                e.style.cursor = 'default';
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble && $c.eventHoverHandling !== 'Disabled') {
                if (!DayPilotMonth.movingEvent && !DayPilotMonth.resizingEvent) {
                    var $04 = this.$2x && $C.x === this.$2x.x && $C.y === this.$2x.y;
                    if (!$04) {
                        this.$2x = $C;
                        $c.bubble.showEvent(e.event);
                    }
                } else {
                    DayPilotBubble.hideActive();
                }
            }
        };
        this.$2r = function(ev) {
            var e = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                $c.bubble.hideOnMouseOut();
            };
            e.style.cursor = '';
            if ($c.cssOnly) {
                $c.$2w(e.event).each(function($t) {
                    DayPilot.Util.removeClass($t, $c.$25("_event_hover"));
                });
            };
            DayPilot.Areas.hideAreas(e, ev);
        };
        this.$2o = function() {
            var e = this;
            $c.$2y(e.event);
            return false;
        };
        this.$2p = function(ev) {
            if ($S.start) {
                return;
            };
            var e = this;
            var ep = e.event;
            var $p = ep.part.row;
            var $q = ep.part.colStart;
            var $u = ep.part.line;
            var $r = ep.part.colWidth;
            ev = ev || window.event;
            var $05 = DayPilot.Util.mouseButton(ev);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            if ($05.left) {
                if (typeof(DayPilotBubble) !== 'undefined' && $c.bubble) {
                    DayPilotBubble.hideActive();
                };
                DayPilotMonth.movingEvent = null;
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    var $06 = {};
                    $06.start = {};
                    $06.start.x = $q;
                    $06.start.y = $p;
                    $06.event = e.event;
                    $06.width = DayPilot.Date.daysSpan($06.event.start().d, $06.event.end().d) + 1;
                    $06.direction = this.style.cursor;
                    DayPilotMonth.resizingEvent = $06;
                } else if (this.style.cursor === 'move' || ep.client.moveEnabled()) {
                    $c.$2k();
                    var $07 = DayPilot.mo3($c.nav.events, ev);
                    if (!$07) {
                        return;
                    };
                    var $s = $c.$2z($07.x, $07.y);
                    if (!$s) {
                        return;
                    };
                    var $E = DayPilot.Date.daysDiff(ep.start(), $c.rows[$p].start);
                    var $C = ($s.y * 7 + $s.x) - ($p * 7 + $q);
                    if ($E) {
                        $C += $E;
                    };
                    var $08 = {};
                    $08.start = {};
                    $08.start.x = $q;
                    $08.start.y = $p;
                    $08.start.line = $u;
                    $08.offset = $c.eventMoveToPosition ? 0 : $C;
                    $08.colWidth = $r;
                    $08.event = e.event;
                    $08.coords = $07;
                    DayPilotMonth.movingEvent = $08;
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            if (!$c.coords) {
                return null;
            };
            var $s = $c.$2z($c.coords.x, $c.coords.y);
            if (!$s) {
                return null;
            };
            var d = new DayPilot.Date($c.$2l($s.x, $s.y));
            var $s = {};
            $s.start = d;
            $s.end = d.addDays(1);
            return $s;
        };
        this.$2A = {};
        var $S = $c.$2A;
        $S.active = false;
        $S.start = false;
        $S.timeouts = [];
        $S.onEventTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $t = this;
            var $09 = 500;
            $S.timeouts.push(window.setTimeout(function() {
                $S.active = true;
                $S.start = false;
                var $07 = $S.relativeCoords(ev);
                $S.startMoving($t, $07);
                ev.preventDefault();
            }, $09));
            ev.stopPropagation();
        };
        $S.onEventTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
        };
        $S.onEventTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.start) {
                $c.$2B(this, false);
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.onMainTouchStart = function(ev) {
            if ($S.active || $S.start) {
                return;
            };
            $S.clearTimeouts();
            $S.start = true;
            $S.active = false;
            var $09 = 500;
            $S.timeouts.push(window.setTimeout(function() {
                $S.active = true;
                $S.start = false;
                ev.preventDefault();
                var $07 = $S.relativeCoords(ev);
                $S.startRange($07);
            }, $09));
        };
        $S.onMainTouchMove = function(ev) {
            $S.clearTimeouts();
            $S.start = false;
            if ($S.active) {
                ev.preventDefault();
                var $07 = $S.relativeCoords(ev);
                if ($S.moving) {
                    $S.updateMoving($07);
                    return;
                };
                if ($S.range) {
                    $S.updateRange($07);
                }
            }
        };
        $S.onMainTouchEnd = function(ev) {
            $S.clearTimeouts();
            if ($S.active) {
                if ($S.moving) {
                    var $0a = $S.moving;
                    var e = $S.moving.event;
                    var $0b = $c.shadow.start;
                    var $0c = $c.shadow.position;
                    var $C = $S.moving.offset;
                    $c.$2k();
                    $S.moving = null;
                    $c.$2C(e, $0b.x, $0b.y, $C, ev, $0c);
                };
                if ($S.range) {
                    var $0d = $S.range;
                    var $0b = new DayPilot.Date($c.$2l($0d.from.x, $0d.from.y));
                    var end = $0b.addDays($0d.width);
                    $S.range = null;
                    $c.$2D($0b, end);
                }
            };
            window.setTimeout(function() {
                $S.start = false;
                $S.active = false;
            }, 500);
        };
        $S.clearTimeouts = function() {
            for (var i = 0; i < $S.timeouts.length; i++) {
                clearTimeout($S.timeouts[i]);
            };
            $S.timeouts = [];
        };
        $S.relativeCoords = function(ev) {
            var $M = $c.nav.events;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $07 = {
                x: x,
                y: y
            };
            var $0e = DayPilot.abs($M);
            var $07 = {
                x: x - $0e.x,
                y: y - $0e.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $07;
        };
        $S.startMoving = function($t, $07) {
            $c.$2k();
            var ep = $t.event;
            var $s = $c.$2z($07.x, $07.y);
            if (!$s) {
                return;
            };
            var $E = DayPilot.Date.daysDiff(ep.start(), $c.rows[ep.part.row].start);
            var $C = ($s.y * 7 + $s.x) - (ep.part.row * 7 + ep.part.colStart);
            if ($E) {
                $C += $E;
            };
            var $08 = {};
            $08.start = {};
            $08.start.x = ep.part.colStart;
            $08.start.y = ep.part.row;
            $08.start.line = ep.part.line;
            $08.offset = $c.eventMoveToPosition ? 0 : $C;
            $08.colWidth = ep.part.colWidth;
            $08.event = ep;
            $08.coords = $07;
            $S.moving = $08;
            $S.updateMoving($07);
        };
        $S.updateMoving = function($07) {
            var $s = $c.$2z($07.x, $07.y);
            if (!$s) {
                return;
            };
            var $0f = $c.$2E($s);
            $c.$2k();
            var event = $S.moving.event;
            var $C = $S.moving.offset;
            var $B = $c.cellMode ? 1 : DayPilot.Date.daysSpan(event.start().d, event.end().d) + 1;
            if ($B < 1) {
                $B = 1;
            };
            $c.$2g($s.x, $s.y, $0f, $B, $C, event);
        };
        $S.startRange = function($07) {
            var $s = $c.$2z($07.x, $07.y);
            if (!$s) {
                return;
            };
            $c.$2k();
            var $0g = {};
            $0g.start = {};
            $0g.start.x = $s.x;
            $0g.start.y = $s.y;
            $0g.x = $s.x;
            $0g.y = $s.y;
            $0g.width = 1;
            $S.range = $0g;
            $S.updateRange($07);
        };
        $S.updateRange = function($07) {
            var $s = $c.$2z($07.x, $07.y);
            if (!$s) {
                return;
            };
            $c.$2k();
            var $0b = $S.range.start;
            var $0h = $0b.y * 7 + $0b.x;
            var $0i = $s.y * 7 + $s.x;
            var $B = Math.abs($0i - $0h) + 1;
            if ($B < 1) {
                $B = 1;
            };
            var $0j = $0h < $0i ? $0b : $s;
            $S.range.width = $B;
            $S.range.from = {
                x: $0j.x,
                y: $0j.y
            };
            $c.$2g($0j.x, $0j.y, 0, $B, 0, null);
        };
        this.isWeekend = function($0k) {
            var $0l = 0;
            var $0m = 6;
            if ($0k.dayOfWeek() === $0l) {
                return true;
            };
            if ($0k.dayOfWeek() === $0m) {
                return true;
            };
            return false;
        };
        this.$2F = function() {
            var $0n = this.startDate.lastDayOfMonth();
            if (this.showWeekend) {
                return $0n;
            }
            while (this.isWeekend($0n)) {
                $0n = $0n.addDays(-1);
            };
            return $0n;
        };
        this.$1W = function() {
            if (typeof this.startDate === 'string') {
                this.startDate = DayPilot.Date.fromStringSortable(this.startDate);
            };
            if (this.viewType === 'Month') {
                this.startDate = this.startDate.firstDayOfMonth();
            } else {
                this.startDate = this.startDate.getDatePart();
            };
            this.firstDate = this.startDate.firstDayOfWeek($N.getWeekStart());
            if (!this.showWeekend) {
                var $0o = this.startDate.addMonths(-1).getMonth();
                var $0p = new DayPilot.Date(this.firstDate).addDays(6);
                while (this.isWeekend($0p)) {
                    $0p = $0p.addDays(-1);
                };
                if ($0p.getMonth() === $0o) {
                    this.firstDate = DayPilot.Date.addDays(this.firstDate, 7);
                }
            };
            var $0q = this.startDate;
            var $0r;
            if (this.viewType === 'Month') {
                var $0s = this.$2F().d;
                var $0t = DayPilot.Date.daysDiff(this.firstDate, $0s) + 1;
                $0r = Math.ceil($0t / 7);
            } else {
                $0r = this.weeks;
            };
            this.days = $0r * 7;
            this.rows = [];
            for (var x = 0; x < $0r; x++) {
                var r = {};
                r.start = DayPilot.Date.addDays(this.firstDate, x * 7);
                r.end = DayPilot.Date.addDays(r.start, this.$2a());
                r.events = [];
                r.lines = [];
                r.index = x;
                r.minHeight = this.cellHeight;
                r.calendar = this;
                r.belongsHere = function(ev) {
                    if (ev.end.getTime() === ev.start.getTime() && ev.start.getTime() === this.start.getTime()) {
                        return true;
                    };
                    return !(ev.end.getTime() <= this.start.getTime() || ev.start.getTime() >= this.end.getTime());
                };
                r.getPartStart = function(ep) {
                    return DayPilot.Date.max(this.start, ep.start());
                };
                r.getPartEnd = function(ep) {
                    return DayPilot.Date.min(this.end, ep.end());
                };
                r.getStartColumn = function(ep) {
                    var $0u = this.getPartStart(ep);
                    return DayPilot.Date.daysDiff(this.start, $0u);
                };
                r.getWidth = function(ep) {
                    return DayPilot.Date.daysSpan(this.getPartStart(ep), this.getPartEnd(ep)) + 1;
                };
                r.putIntoLine = function(ep, $q, $r, $p) {
                    var $0v = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $u = this.lines[i];
                        if ($u.isFree($q, $r)) {
                            $u.addEvent(ep, $q, $r, $p, i);
                            return i;
                        }
                    };
                    var $u = [];
                    $u.isFree = function($q, $r) {
                        var $0w = true;
                        for (var i = 0; i < this.length; i++) {
                            var ep = this[i];
                            if (!($q + $r - 1 < ep.part.colStart || $q > ep.part.colStart + ep.part.colWidth - 1)) {
                                $0w = false;
                            }
                        };
                        return $0w;
                    };
                    $u.addEvent = function(ep, $q, $r, $p, $0x) {
                        ep.part.colStart = $q;
                        ep.part.colWidth = $r;
                        ep.part.row = $p;
                        ep.part.line = $0x;
                        ep.part.startsHere = $0v.start.getTime() <= ep.start().getTime();
                        ep.part.endsHere = $0v.end.getTime() >= ep.end().getTime();
                        this.push(ep);
                    };
                    $u.addEvent(ep, $q, $r, $p, this.lines.length);
                    this.lines.push($u);
                    return this.lines.length - 1;
                };
                r.getStart = function() {
                    var $0b = 0;
                    for (var i = 0; i < $c.rows.length && i < this.index; i++) {
                        $0b += $c.rows[i].getHeight();
                    }
                };
                r.getHeight = function() {
                    return Math.max(this.lines.length * $N.lineHeight() + $c.cellHeaderHeight + $c.cellMarginBottom, this.calendar.cellHeight);
                };
                this.rows.push(r);
            };
            this.$2G = DayPilot.Date.addDays(this.firstDate, $0r * 7);
        };
        this.$2H = function() {
            switch (this.heightSpec) {
                case "Auto":
                    var $J = $N.headerHeight();
                    for (var i = 0; i < this.rows.length; i++) {
                        $J += this.rows[i].getHeight();
                    };
                    return $J;
                case "Fixed":
                    return this.height;
            }
        };
        this.$2I = function($0b, end) {
            var $0y = (end.y * 7 + end.x) - ($0b.y * 7 + $0b.x);
            return $0y + 1;
        };
        this.$2J = {};
        this.$2J.scope = null;
        this.$2J.notify = function() {
            if ($c.$2J.scope) {
                $c.$2J.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$2K = function() {
            var $0z = this.nav.top;
            this.nav.top.dp = this;
            $0z.setAttribute("unselectable", "on");
            $0z.style.MozUserSelect = 'none';
            $0z.style.KhtmlUserSelect = 'none';
            $0z.style.WebkitUserSelect = 'none';
            $0z.style.position = 'relative';
            if (this.width) {
                $0z.style.width = this.width;
            };
            $0z.onselectstart = function(e) {
                return false;
            };
            if (this.cssOnly) {
                $0z.className = this.$25("_main");
            } else {
                $0z.style.border = "1px solid " + this.borderColor;
            };
            if (this.hideUntilInit) {
                $0z.style.visibility = 'hidden';
            };
            if (!this.visible) {
                $0z.style.display = "none";
            };
            $0z.onmousemove = this.$2L;
            $0z.ontouchstart = $S.onMainTouchStart;
            $0z.ontouchmove = $S.onMainTouchMove;
            $0z.ontouchend = $S.onMainTouchEnd;
            this.$1U = document.createElement("div");
            this.$1U.style.display = 'none';
            this.nav.top.appendChild(this.$1U);
            var $0A = document.createElement("div");
            $0A.style.position = "relative";
            $0A.style.height = $N.headerHeight() + "px";
            $0A.oncontextmenu = function() {
                return false;
            };
            this.nav.top.appendChild($0A);
            this.nav.header = $0A;
            var $0B = document.createElement("div");
            $0B.style.zoom = "1";
            var $0C = document.createElement("div");
            $0C.style.position = "relative";
            $0B.appendChild($0C);
            this.nav.top.appendChild($0B);
            this.nav.scrollable = $0B;
            this.nav.events = $0C;
        };
        this.$2L = function(ev) {
            $c.coords = DayPilot.mo3($c.nav.events, ev);
            var $07 = $c.coords;
            if (!$07) {
                return;
            };
            var $s = $c.$2z($07.x, $07.y);
            if (!$s) {
                return;
            };
            if (DayPilotMonth.resizingEvent) {
                $c.$2k();
                var $06 = DayPilotMonth.resizingEvent;
                var $0D = $06.start;
                var $B, $0b;
                if ($06.direction === 'w-resize') {
                    $0b = $s;
                    var $0E = $06.event.end().d;
                    if (DayPilot.Date.getDate($0E).getTime() === $0E.getTime()) {
                        $0E = DayPilot.Date.addDays($0E, -1);
                    };
                    var end = $c.$2M($0E);
                    $B = $c.$2I($s, end);
                } else {
                    $0b = $c.$2M($06.event.start().d);
                    $B = $c.$2I($0b, $s);
                };
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2g($0b.x, $0b.y, 0, $B);
            } else if (DayPilotMonth.movingEvent) {
                $c.debug.message("mousemove/moving start coords: " + DayPilotMonth.movingEvent.coords.x + " " + DayPilotMonth.movingEvent.coords.y);
                $c.debug.message("mousemove/current coords: " + $07.x + " " + $07.y);
                if ($07.x === DayPilotMonth.movingEvent.coords.x && $07.y === DayPilotMonth.movingEvent.coords.y) {
                    return;
                };
                var $0f = $c.$2E($s);
                $c.$2k();
                var event = DayPilotMonth.movingEvent.event;
                var $C = DayPilotMonth.movingEvent.offset;
                var $B = $c.cellMode ? 1 : DayPilot.Date.daysSpan(event.start().d, event.end().d) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                $c.$2g($s.x, $s.y, $0f, $B, $C, event);
            } else if (DayPilotMonth.timeRangeSelecting) {
                DayPilotMonth.cancelCellClick = true;
                $c.$2k();
                var $0b = DayPilotMonth.timeRangeSelecting;
                var $0h = $0b.y * 7 + $0b.x;
                var $0i = $s.y * 7 + $s.x;
                var $B = Math.abs($0i - $0h) + 1;
                if ($B < 1) {
                    $B = 1;
                };
                var $0j = $0h < $0i ? $0b : $s;
                DayPilotMonth.timeRangeSelecting.from = {
                    x: $0j.x,
                    y: $0j.y
                };
                DayPilotMonth.timeRangeSelecting.width = $B;
                DayPilotMonth.timeRangeSelecting.moved = true;
                $c.$2g($0j.x, $0j.y, 0, $B, 0, null);
            }
        };
        this.$2E = function($s) {
            var y = $s.relativeY;
            var $p = $c.rows[$s.y];
            var top = $c.cellHeaderHeight;
            var lh = $N.lineHeight();
            var $0F = $p.lines.length;
            for (var i = 0; i < $p.lines.length; i++) {
                var $u = $p.lines[i];
                if ($u.isFree($s.x, 1)) {
                    $0F = i;
                    break;
                }
            };
            var $0G = Math.floor((y - top + lh / 2) / lh);
            var $0G = Math.min($0F, $0G);
            var $0G = Math.max(0, $0G);
            return $0G;
        };
        this.message = function($0H, $0I, $0J, $0K) {
            if ($0H === null) {
                return;
            };
            var $0I = $0I || this.messageHideAfter || 2000;
            var $0J = $0J || "#ffffff";
            var $0K = $0K || "#000000";
            var $0L = 0.8;
            var top = $N.headerHeight();
            var $R = 1;
            var $0M = 0;
            var $t;
            if (!this.nav.message) {
                $t = document.createElement("div");
                $t.setAttribute("unselectable", "on");
                $t.style.position = "absolute";
                $t.style.right = "0px";
                $t.style.left = "0px";
                $t.style.top = top + "px";
                $t.style.opacity = $0L;
                $t.style.filter = "alpha(opacity=" + ($0L * 100) + ")";
                $t.style.display = 'none';
                $t.onmousemove = function() {
                    if ($t.messageTimeout && !$t.status) {
                        clearTimeout($t.messageTimeout);
                    }
                };
                $t.onmouseout = function() {
                    if ($c.nav.message.style.display !== 'none') {
                        $t.messageTimeout = setTimeout($c.$2N, 500);
                    }
                };
                if (!this.cssOnly) {
                    $t.style.textAlign = "left";
                };
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $T.style.padding = "5px";
                } else {
                    $T.className = this.$25("_message");
                };
                $t.appendChild($T);
                var close = document.createElement("div");
                close.setAttribute("unselectable", "on");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($c.nav.scroll) + 5) + "px";
                    close.style.color = $0J;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$25("_message_close");
                };
                close.onclick = function() {
                    $c.nav.message.style.display = 'none';
                };
                $t.appendChild(close);
                this.nav.top.appendChild($t);
                this.nav.message = $t;
            } else {
                $t = $c.nav.message;
            };
            var $0N = function() {
                $c.nav.message.style.opacity = $0L;
                var $T = $c.nav.message.firstChild;
                if (!$c.cssOnly) {
                    $T.style.backgroundColor = $0K;
                    $T.style.color = $0J;
                };
                $T.innerHTML = $0H;
                var end = function() {
                    $t.messageTimeout = setTimeout($c.$2N, $0I);
                };
                DayPilot.fade($c.nav.message, 0.2, end);
            };
            clearTimeout($t.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($c.nav.message, -0.2, $0N);
            } else {
                $0N();
            }
        };
        this.message.show = function($0H) {
            $c.message($0H);
        };
        this.message.hide = function() {
            $c.$2N();
        };
        this.$2N = function() {
            var end = function() {
                $c.nav.message.style.display = 'none';
            };
            DayPilot.fade($c.nav.message, -0.2, end);
        };
        this.$2O = function(ev) {
            if ($c.heightSpec === "Parent100Pct") {
                $c.$20();
            }
        };
        this.$20 = function() {
            var $0B = this.nav.scrollable;
            if (this.heightSpec === "Parent100Pct" || this.heightSpec === 'Fixed') {
                $0B.style.top = this.headerHeight + "px";
                $0B.style.bottom = "0px";
                $0B.style.left = "0px";
                $0B.style.right = "0px";
                $0B.style.overflow = "auto";
                $0B.style.position = "absolute";
            } else {
                $0B.style.position = "relative";
            };
            if (this.heightSpec === 'Parent100Pct') {
                this.nav.top.style.height = "100%";
                var $J = this.nav.top.clientHeight;
            } else {
                this.nav.top.style.height = this.$2H() + 'px';
            };
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].style.top = this.$2h(y) + 'px';
                    this.cells[x][y].style.height = this.rows[y].getHeight() + 'px';
                }
            };
            this.$2P();
        };
        this.$2z = function(x, y) {
            var $0O = Math.floor(this.nav.top.clientWidth / this.$2a());
            var $0P = Math.min(Math.floor(x / $0O), this.$2a() - 1);
            var $p = null;
            var $0Q = 0;
            var $J = 0;
            var $0R = 0;
            for (var i = 0; i < this.rows.length; i++) {
                $J += this.rows[i].getHeight();
                if (y < $J) {
                    $0Q = y - $0R;
                    $p = i;
                    break;
                };
                $0R = $J;
            };
            if ($p === null) {
                $p = this.rows.length - 1;
            };
            var $s = {};
            $s.x = $0P;
            $s.y = $p;
            $s.relativeY = $0Q;
            return $s;
        };
        this.$2M = function($0k) {
            var $B = DayPilot.Date.daysDiff(this.firstDate, $0k);
            var $s = {
                x: 0,
                y: 0
            };
            while ($B >= 7) {
                $s.y++;
                $B -= 7;
            };
            $s.x = $B;
            return $s;
        };
        this.$2P = function() {
            var $B = DayPilot.sw(this.nav.scrollable);
            this.nav.header.style.marginRight = $B + "px";
        };
        var $0S = null;
        this.$1Z = function() {
            var $0A = this.nav.header;
            var $0C = this.nav.events;
            this.cells = [];
            for (var x = 0; x < this.$2a(); x++) {
                this.cells[x] = [];
                var $0T = this.headerProperties ? this.headerProperties[x] : null;
                var $0U = x + $N.getWeekStart();
                if ($0U > 6) {
                    $0U -= 7;
                };
                if (!$0T) {
                    var $0T = {};
                    $0T.html = $N.locale().dayNames[$0U];
                    if (!this.cssOnly) {
                        $0T.backColor = this.headerBackColor;
                    }
                };
                if (typeof $c.onBeforeHeaderRender === 'function') {
                    var $m = {};
                    $m.header = {};
                    $m.header.dayOfWeek = $0U;
                    var $0V = ['html', 'backColor', 'cssClass'];
                    DayPilot.Util.copyProps($0T, $m.header, $0V);
                    $c.onBeforeHeaderRender($m);
                    DayPilot.Util.copyProps($m.header, $0T, $0V);
                };
                var $0W = document.createElement("div");
                $0W.setAttribute("unselectable", "on");
                $0W.style.position = 'absolute';
                $0W.style.left = (this.$2j() * x) + '%';
                $0W.style.width = (this.$2j()) + '%';
                $0W.style.top = '0px';
                $0W.style.height = ($N.headerHeight()) + 'px';
                (function(x) {
                    $0W.onclick = function() {
                        $c.$2Q(x);
                    };
                })($0U);
                var $T = document.createElement("div");
                $T.setAttribute("unselectable", "on");
                $T.className = this.$25("_header_inner");
                $T.innerHTML = $0T.html;
                $0W.appendChild($T);
                if (!this.cssOnly) {
                    $T.style.position = "absolute";
                    $T.style.top = "0px";
                    $T.style.bottom = "0px";
                    $T.style.left = "0px";
                    $T.style.right = "0px";
                    $T.style.backgroundColor = $0T.backColor;
                    $T.style.fontFamily = this.headerFontFamily;
                    $T.style.fontSize = this.headerFontSize;
                    $T.style.color = this.headerFontColor;
                    $T.style.textAlign = 'center';
                    $T.style.cursor = 'default';
                    $T.className = this.$25("header");
                    if (x !== this.$2a() - 1) {
                        $T.style.borderRight = '1px solid ' + this.borderColor;
                    }
                } else {
                    $0W.className = this.$25("_header");
                    if ($0T) {
                        if ($0T.cssClass) {
                            DayPilot.Util.addClass($0W, $0T.cssClass);
                        };
                        if ($0T.backColor) {
                            $T.style.background = $0T.backColor;
                        }
                    }
                };
                $0A.appendChild($0W);
                for (var y = 0; y < this.rows.length; y++) {
                    this.$2R(x, y, $0C);
                }
            };
            if (!DayPilot.contains(this.nav.top.childNodes, $0S) && this.numberFormat) {
                var $t = document.createElement("div");
                $t.style.position = 'absolute';
                $t.style.padding = '2px';
                $t.style.top = '0px';
                $t.style.left = '0px';
                $t.style.backgroundColor = "#FF6600";
                $t.style.color = "white";
                $t.innerHTML = "\u0044\u0045\u004D\u004F";
                $0S = $t;
                this.nav.top.appendChild($t);
            }
        };
        this.$1Y = function() {
            for (var x = 0; x < this.cells.length; x++) {
                for (var y = 0; y < this.cells[x].length; y++) {
                    this.cells[x][y].onclick = null;
                }
            };
            this.nav.header.innerHTML = '';
            this.nav.events.innerHTML = '';
        };
        this.$2R = function(x, y, $0A) {
            var $p = this.rows[y];
            var d = new DayPilot.Date(DayPilot.Date.addDays(this.firstDate, y * 7 + x));
            var $0X = this.cellProperties ? this.cellProperties[y * this.$2a() + x] : null;
            var $0Y = null;
            if ($0X) {
                $0Y = $0X["headerHtml"];
            } else {
                var $0k = d.getDay();
                if ($0k === 1) {
                    $0Y = $N.locale().monthNames[d.getMonth()] + ' ' + $0k;
                } else {
                    $0Y = $0k + "";
                }
            };
            if (!$0X) {
                var $0X = {};
                $0X.business = !$c.isWeekend(d);
            };
            if (typeof $c.onBeforeCellRender === 'function') {
                var $m = {};
                $m.cell = {};
                $m.cell.areas = null;
                $m.cell.backColor = null;
                $m.cell.backImage = null;
                $m.cell.backRepeat = null;
                $m.cell.business = $c.isWeekend(d);
                $m.cell.headerHtml = $0Y;
                $m.cell.headerBackColor = null;
                $m.cell.cssClass = null;
                $m.cell.html = null;
                $m.cell.start = d;
                $m.cell.end = $m.cell.start.addDays(1);
                DayPilot.Util.copyProps($0X, $m.cell);
                $c.onBeforeCellRender($m);
                DayPilot.Util.copyProps($m.cell, $0X, ['areas', 'backColor', 'backImage', 'backRepeat', 'business', 'headerHtml', 'headerBackColor', 'cssClass', 'html']);
            };
            var $s = document.createElement("div");
            $s.setAttribute("unselectable", "on");
            $s.style.position = 'absolute';
            $s.style.cursor = 'default';
            $s.style.left = (this.$2j() * x) + '%';
            $s.style.width = (this.$2j()) + '%';
            $s.style.top = (this.$2h(y)) + 'px';
            $s.style.height = ($p.getHeight()) + 'px';
            $s.d = d;
            $s.x = x;
            $s.y = y;
            $s.props = $0X;
            var $0o = this.startDate.addMonths(-1).getMonth();
            var $0Z = this.startDate.addMonths(1).getMonth();
            var $10 = this.startDate.getMonth();
            var $T = document.createElement("div");
            $T.setAttribute("unselectable", "on");
            $s.appendChild($T);
            if (this.cssOnly) {
                $T.className = this.$25("_cell_inner");
            };
            if (!this.cssOnly) {
                $T.style.position = "absolute";
                $T.style.left = "0px";
                $T.style.right = "0px";
                $T.style.top = "0px";
                $T.style.bottom = "0px";
                if (d.getMonth() === $10) {
                    $s.className = this.$25("cell");
                } else if (d.getMonth() === $0o) {
                    $s.className = this.$25("cell") + " " + this.$25("previous");
                } else if (d.getMonth() === $0Z) {
                    $s.className = this.$25("cell") + " " + this.$25("next");
                };
                if ($0X) {
                    if ($0X["backColor"]) {
                        $T.style.background = $0X["backColor"];
                    };
                    if ($0X["cssClass"]) {
                        $T.className += " " + this.$25($0X["cssClass"]);
                    };
                    if ($0X["backImage"]) {
                        $T.style.backgroundImage = "url('" + $0X["backImage"] + "')";
                    };
                    if ($0X["backRepeat"]) {
                        $T.style.backgroundRepeat = $0X["backRepeat"];
                    }
                } else {
                    $T.style.background = this.$2S(d);
                };
                if (x !== this.$2a() - 1) {
                    $T.style.borderRight = '1px solid ' + this.innerBorderColor;
                };
                if (y === 0) {
                    $T.style.borderTop = '1px solid ' + this.borderColor;
                };
                $T.style.borderBottom = '1px solid ' + this.innerBorderColor;
            } else {
                $T.className = this.$25("_cell_inner");
                if (d.getMonth() === $10) {
                    $s.className = this.$25("_cell");
                } else if (d.getMonth() === $0o) {
                    $s.className = this.$25("_cell") + " " + this.$25("_previous");
                } else if (d.getMonth() === $0Z) {
                    $s.className = this.$25("_cell") + " " + this.$25("_next");
                } else {
                    $a();
                };
                if ($0X) {
                    if ($0X["cssClass"]) {
                        DayPilot.Util.addClass($s, $0X.cssClass);
                    };
                    if ($0X["business"]) {
                        DayPilot.Util.addClass($s, this.$25("_cell_business"));
                    };
                    if ($0X["backColor"]) {
                        $T.style.backgroundColor = $0X["backColor"];
                    };
                    if ($0X["backImage"]) {
                        $T.style.backgroundImage = "url('" + $0X["backImage"] + "')";
                    };
                    if ($0X["backRepeat"]) {
                        $T.style.backgroundRepeat = $0X["backRepeat"];
                    }
                }
            };
            $s.onmousedown = this.$2T;
            $s.onmousemove = this.$2U;
            $s.onmouseout = this.$2V;
            $s.oncontextmenu = this.$2W;
            $s.onclick = this.$2X;
            $s.ondblclick = this.$2Y;
            var $11 = document.createElement("div");
            $11.setAttribute("unselectable", "on");
            $11.style.height = this.cellHeaderHeight + "px";
            if (!this.cssOnly) {
                if ($0X && $0X["headerBackColor"]) {
                    $11.style.backgroundColor = $0X["headerBackColor"];
                } else if (this.cellHeaderBackColor) {
                    $11.style.backgroundColor = this.cellHeaderBackColor;
                };
                $11.style.paddingRight = '2px';
                $11.style.textAlign = "right";
                $11.style.fontFamily = this.cellHeaderFontFamily;
                $11.style.fontSize = this.cellHeaderFontSize;
                $11.style.color = this.cellHeaderFontColor;
                $11.className = this.$25("cellheader");
            } else {
                if ($0X && $0X["headerBackColor"]) {
                    $11.style.background = $0X["headerBackColor"];
                };
                $11.className = this.$25("_cell_header");
            };
            $11.innerHTML = $0Y;
            $T.appendChild($11);
            if ($0X && $0X["html"]) {
                var $0H = document.createElement("div");
                $0H.setAttribute("unselectable", "on");
                $0H.style.height = ($p.getHeight() - this.cellHeaderHeight) + 'px';
                $0H.style.overflow = 'hidden';
                $0H.innerHTML = $0X["html"];
                $T.appendChild($0H);
            };
            if (this.cellMode) {
                var $12 = document.createElement("div");
                $12.setAttribute("unselectable", "on");
                $12.style.height = (this.cellHeight - this.cellHeaderHeight) + "px";
                $12.style.overflow = 'auto';
                $12.style.position = 'relative';
                var $L = document.createElement('div');
                $L.setAttribute("unselectable", "on");
                $L.style.paddingTop = "1px";
                $L.style.paddingBottom = "1px";
                $12.appendChild($L);
                $T.appendChild($12);
                $s.body = $L;
                $s.scrolling = $12;
            };
            if ($s.props) {
                var $00 = $s.props.areas || [];
                for (var i = 0; i < $00.length; i++) {
                    var $01 = $00[i];
                    if ($01.v !== 'Visible') {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($s, $s.props, $01);
                    $s.appendChild(a);
                }
            };
            this.cells[x][y] = $s;
            $0A.appendChild($s);
        };
        this.$2U = function() {
            var c = this;
            if (c.props) {
                DayPilot.Areas.showAreas(c, c.props);
            }
        };
        this.$2V = function(ev) {
            var c = this;
            if (c.props) {
                DayPilot.Areas.hideAreas(c, ev);
            }
        };
        this.$2W = function() {
            var d = this.d;
            var go = function(d) {
                var $0b = new DayPilot.Date(d);
                var end = $0b.addDays(1);
                var $13 = new DayPilot.Selection($0b, end, null, $c);
                if ($c.contextMenuSelection) {
                    $c.contextMenuSelection.show($13);
                }
            };
            go(d);
            return false;
        };
        this.$2Y = function() {
            var d = this.d;
            if ($c.timeouts) {
                for (var $14 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$14]);
                };
                $c.timeouts = null;
            };
            if ($c.timeRangeDoubleClickHandling !== 'Disabled') {
                var $0b = new DayPilot.Date(d);
                var end = $0b.addDays(1);
                $c.$2Z($0b, end);
            }
        };
        this.$2X = function() {
            if (DayPilotMonth.cancelCellClick) {
                return;
            };
            var d = this.d;
            var $15 = function(d) {
                var $0b = new DayPilot.Date(d);
                var end = $0b.addDays(1);
                $c.$2D($0b, end);
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled' && $c.timeRangeDoubleClickHandling === 'Disabled') {
                $15(d);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            };
            var $16 = function(d) {
                return function() {
                    $15(d);
                };
            };
            $c.timeouts.push(window.setTimeout($16(d), $c.doubleClickTimeout));
        };
        this.$2T = function(e) {
            var $s = this;
            var x = $s.x;
            var y = $s.y;
            DayPilotMonth.cancelCellClick = false;
            if ($s.scrolling) {
                var $C = DayPilot.mo3($s.scrolling, e);
                var sw = DayPilot.sw($s.scrolling);
                var $B = $s.scrolling.offsetWidth;
                if ($C.x > $B - sw) {
                    return;
                }
            };
            if ($c.timeRangeSelectedHandling !== 'Disabled') {
                $c.$2k();
                DayPilotMonth.timeRangeSelecting = {
                    "root": $c,
                    "x": x,
                    "y": y,
                    "from": {
                        x: x,
                        y: y
                    },
                    "width": 1
                };
            }
        };
        this.$2a = function() {
            if (this.showWeekend) {
                return 7;
            } else {
                return 5;
            }
        };
        this.$2j = function() {
            if (this.showWeekend) {
                return 14.285;
            } else {
                return 20;
            }
        };
        this.$2S = function(d) {
            if (d.getUTCDay() === 6 || d.getUTCDay() === 0) {
                return this.nonBusinessBackColor;
            };
            return this.backColor;
        };
        this.$2h = function($0x) {
            var top = 0;
            for (var i = 0; i < $0x; i++) {
                top += this.rows[i].getHeight();
            };
            return top;
        };
        this.clearSelection = function() {
            this.$2k();
        };
        this.$30 = function($17, $i, $18) {
            var $19 = {};
            $19.action = $17;
            $19.parameters = $18;
            $19.data = $i;
            $19.header = this.$31();
            var $1a = "JSON" + DayPilot.JSON.stringify($19);
            __doPostBack($c.uniqueID, $1a);
        };
        this.$32 = function($17, $18, $i, $1b) {
            if (!this.$33()) {
                $c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $1b === 'undefined') {
                $1b = "CallBack";
            };
            var $19 = {};
            $19.action = $17;
            $19.type = $1b;
            $19.parameters = $18;
            $19.data = $i;
            $19.header = this.$31();
            var $1a = "JSON" + DayPilot.JSON.stringify($19);
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$34, $1a, this.$35);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $1a, this.$1R, null, this.callbackError, true);
            }
        };
        this.$33 = function() {
            if (this.backendUrl) {
                return true;
            };
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$35 = function($1c) {
            if (typeof $c.onAjaxError === 'function') {
                var $m = {};
                $m.request = $1c;
                $c.onAjaxError($m);
            } else if (typeof $c.ajaxError === 'function') {
                $c.ajaxError($1c);
            }
        };
        this.$34 = function($1d) {
            $c.$1R($1d.responseText);
        };
        this.$31 = function() {
            var h = {};
            h.v = this.v;
            h.control = "dpm";
            h.id = this.id;
            h.visibleStart = new DayPilot.Date(this.firstDate);
            h.visibleEnd = h.visibleStart.addDays(this.days);
            h.clientState = this.clientState;
            h.cssOnly = $c.cssOnly;
            h.cssClassPrefix = $c.cssClassPrefix;
            h.startDate = $c.startDate;
            h.showWeekend = this.showWeekend;
            h.headerBackColor = this.headerBackColor;
            h.backColor = this.backColor;
            h.nonBusinessBackColor = this.nonBusinessBackColor;
            h.locale = this.locale;
            h.timeFormat = this.timeFormat;
            h.weekStarts = this.weekStarts;
            h.viewType = this.viewType;
            h.weeks = this.weeks;
            h.selected = $c.multiselect.events();
            h.hashes = $c.hashes;
            return h;
        };
        this.$36 = function($1b, $17, $1e, $i) {
            if ($1b === 'PostBack') {
                $c.postBack2($17, $1e, $i);
            } else if ($1b === 'CallBack') {
                $c.$32($17, $1e, $i, "CallBack");
            } else if ($1b === 'Immediate') {
                $c.$32($17, $1e, $i, "Notify");
            } else if ($1b === 'Queue') {
                $c.queue.add(new DayPilot.Action(this, $17, $1e, $i));
            } else if ($1b === 'Notify') {
                if ($N.notifyType() === 'Notify') {
                    $c.$32($17, $1e, $i, "Notify");
                } else {
                    $c.queue.add(new DayPilot.Action($c, $17, $1e, $i));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.$37 = function($m, $g) {
            var $f = $c.$38($g);
            var $1e = {};
            $1e.args = $m;
            $1e.guid = $f;
            $c.$32("Bubble", $1e);
        };
        this.$38 = function($g) {
            var $f = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$f] = $g;
            return $f;
        };
        this.eventClickPostBack = function(e, $i) {
            this.$30("EventClick", $i, e);
        };
        this.eventClickCallBack = function(e, $i) {
            this.$32('EventClick', e, $i);
        };
        this.$2t = function($t, e) {
            DayPilotMonth.movingEvent = null;
            DayPilotMonth.resizingEvent = null;
            var e = e || window.event;
            var $1f = e.ctrlKey;
            e.cancelBubble = true;
            if (e.stopPropagation) {
                e.stopPropagation();
            };
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.eventDoubleClickHandling === 'Disabled') {
                $c.$2B($t, $1f);
                return;
            };
            if (!$c.timeouts) {
                $c.timeouts = [];
            } else {
                for (var $14 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$14]);
                };
                $c.timeouts = [];
            };
            var $1g = function($t, $1f) {
                return function() {
                    $c.$2B($t, $1f);
                };
            };
            $c.timeouts.push(window.setTimeout($1g($t, $1f), $c.doubleClickTimeout));
        };
        this.$2B = function($t, $1f) {
            var e = $t.event;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventClick === 'function') {
                    $c.onEventClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$39($t, e, $1f);
                        break;
                    case 'ContextMenu':
                        var $1h = e.client.contextMenu();
                        if ($1h) {
                            $1h.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventClicked === 'function') {
                    $c.onEventClicked($m);
                }
            } else {
                switch ($c.eventClickHandling) {
                    case 'PostBack':
                        $c.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventClick(e);
                        break;
                    case 'Select':
                        $c.$39($t, e, $1f);
                        break;
                    case 'ContextMenu':
                        var $1h = e.client.contextMenu();
                        if ($1h) {
                            $1h.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$2v = function(e) {
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDelete === 'function') {
                    $c.onEventDelete($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $c.events.remove(e);
                        break;
                };
                if (typeof $c.onEventDeleted === 'function') {
                    $c.onEventDeleted($m);
                }
            } else {
                switch ($c.eventDeleteHandling) {
                    case 'PostBack':
                        $c.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $i) {
            this.$30('EventDelete', e, $i);
        };
        this.eventDeleteCallBack = function(e, $i) {
            this.$32('EventDelete', e, $i);
        };
        this.eventDoubleClickPostBack = function(e, $i) {
            this.$30('EventDoubleClick', $i, e);
        };
        this.eventDoubleClickCallBack = function(e, $i) {
            this.$32('EventDoubleClick', e, $i);
        };
        this.$2u = function($t, ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($c.timeouts) {
                for (var $14 in $c.timeouts) {
                    window.clearTimeout($c.timeouts[$14]);
                };
                $c.timeouts = null;
            };
            var ev = ev || window.event;
            var e = $t.event;
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventDoubleClick === 'function') {
                    $c.onEventDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $c.$39($t, e, ev.ctrlKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventDoubleClicked === 'function') {
                    $c.onEventDoubleClicked($m);
                }
            } else {
                switch ($c.eventDoubleClickHandling) {
                    case 'PostBack':
                        $c.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventDoubleClick(e);
                        break;
                    case 'Select':
                        $c.$39($t, e, ev.ctrlKey);
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$39 = function($t, e, $1f) {
            $c.$3a($t, e, $1f);
        };
        this.eventSelectPostBack = function(e, $1i, $i) {
            var $1e = {};
            $1e.e = e;
            $1e.change = $1i;
            this.$30('EventSelect', $i, $1e);
        };
        this.eventSelectCallBack = function(e, $1i, $i) {
            var $1e = {};
            $1e.e = e;
            $1e.change = $1i;
            this.$32('EventSelect', $1e, $i);
        };
        this.$3a = function($t, e, $1f) {
            if ($c.$24()) {
                var m = $c.multiselect;
                m.previous = m.events();
                var $m = {};
                $m.e = e;
                $m.selected = m.isSelected(e);
                $m.ctrl = $1f;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventSelect === 'function') {
                    $c.onEventSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1i);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1i);
                        break;
                    case 'Update':
                        m.$3b($t, $1f);
                        break;
                };
                if (typeof $c.onEventSelected === 'function') {
                    $m.change = m.isSelected(e) ? "selected" : "deselected";
                    $m.selected = m.isSelected(e);
                    $c.onEventSelected($m);
                }
            } else {
                var m = $c.multiselect;
                m.previous = m.events();
                m.$3b($t, $1f);
                var $1i = m.isSelected(e) ? "selected" : "deselected";
                switch ($c.eventSelectHandling) {
                    case 'PostBack':
                        $c.eventSelectPostBack(e, $1i);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $c.eventSelectCallBack(e, $1i);
                        break;
                    case 'JavaScript':
                        $c.onEventSelect(e, $1i);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $i) {
            this.$30("EventRightClick", $i, e);
        };
        this.eventRightClickCallBack = function(e, $i) {
            this.$32('EventRightClick', e, $i);
        };
        this.$2y = function(e) {
            this.event = e;
            if (!e.client.rightClickEnabled()) {
                return false;
            };
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventRightClick === 'function') {
                    $c.onEventRightClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $1h = e.client.contextMenu();
                        if ($1h) {
                            $1h.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $c.onEventRightClicked === 'function') {
                    $c.onEventRightClicked($m);
                }
            } else {
                switch ($c.eventRightClickHandling) {
                    case 'PostBack':
                        $c.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $c.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $c.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $1h = e.client.contextMenu();
                        if ($1h) {
                            $1h.show(e);
                        } else {
                            if ($c.contextMenu) {
                                $c.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($c.bubble) {
                            $c.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventMenuClickPostBack = function(e, $1j, $i) {
            var $1e = {};
            $1e.e = e;
            $1e.command = $1j;
            this.$30('EventMenuClick', $i, $1e);
        };
        this.eventMenuClickCallBack = function(e, $1j, $i) {
            var $1e = {};
            $1e.e = e;
            $1e.command = $1j;
            this.$32('EventMenuClick', $1e, $i);
        };
        this.$3c = function($1j, e, $1k) {
            switch ($1k) {
                case 'PostBack':
                    $c.eventMenuClickPostBack(e, $1j);
                    break;
                case 'CallBack':
                    $c.eventMenuClickCallBack(e, $1j);
                    break;
            }
        };
        this.eventMovePostBack = function(e, $1l, $1m, $i, $0c) {
            if (!$1l) throw 'newStart is null';
            if (!$1m) throw 'newEnd is null';
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            $1e.position = $0c;
            this.$30('EventMove', $i, $1e);
        };
        this.eventMoveCallBack = function(e, $1l, $1m, $i, $0c) {
            if (!$1l) throw 'newStart is null';
            if (!$1m) throw 'newEnd is null';
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            $1e.position = $0c;
            this.$32('EventMove', $1e, $i);
        };
        this.$2C = function(e, x, y, $C, ev, $0c) {
            var $1n = DayPilot.Date.getTime(e.start().d);
            var $0E = DayPilot.Date.getDate(e.end().d);
            if ($0E.getTime() !== e.end().d.getTime()) {
                $0E = DayPilot.Date.addDays($0E, 1);
            };
            var $1o = DayPilot.Date.diff(e.end().d, $0E);
            var $1p = this.$2l(x, y);
            $1p = DayPilot.Date.addDays($1p, -$C);
            var $B = DayPilot.Date.daysSpan(e.start().d, e.end().d) + 1;
            var $1q = DayPilot.Date.addDays($1p, $B);
            var $1l = new DayPilot.Date(DayPilot.Date.addTime($1p, $1n));
            var $1m = new DayPilot.Date(DayPilot.Date.addTime($1q, $1o));
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1l;
                $m.newEnd = $1m;
                $m.position = $0c;
                $m.ctrl = false;
                if (ev) {
                    $m.ctrl = ev.ctrlKey;
                };
                $m.shift = false;
                if (ev) {
                    $m.shift = ev.shiftKey;
                };
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventMove === 'function') {
                    $c.onEventMove($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1l, $1m, null, $0c);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1l, $1m, null, $0c);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1l, $1m, null, $0c);
                        break;
                    case 'Update':
                        e.start($1l);
                        e.end($1m);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventMoved === 'function') {
                    $c.onEventMoved($m);
                }
            } else {
                switch ($c.eventMoveHandling) {
                    case 'PostBack':
                        $c.eventMovePostBack(e, $1l, $1m, null, $0c);
                        break;
                    case 'CallBack':
                        $c.eventMoveCallBack(e, $1l, $1m, null, $0c);
                        break;
                    case 'JavaScript':
                        $c.onEventMove(e, $1l, $1m, ev.ctrlKey, ev.shiftKey, $0c);
                        break;
                    case 'Notify':
                        $c.eventMoveNotify(e, $1l, $1m, null, $0c);
                        break;
                }
            }
        };
        this.eventMoveNotify = function(e, $1l, $1m, $i, $u) {
            var $1r = new DayPilot.Event(e.copy(), this);
            e.start($1l);
            e.end($1m);
            e.commit();
            $c.update();
            this.$3d("Notify", $1r, $1l, $1m, $i, $u);
        };
        this.$3d = function($1b, e, $1l, $1m, $i, $u) {
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            $1e.position = $u;
            this.$36($1b, "EventMove", $1e, $i);
        };
        this.eventResizePostBack = function(e, $1l, $1m, $i) {
            if (!$1l) throw 'newStart is null';
            if (!$1m) throw 'newEnd is null';
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            this.$30('EventResize', $i, $1e);
        };
        this.eventResizeCallBack = function(e, $1l, $1m, $i) {
            if (!$1l) throw 'newStart is null';
            if (!$1m) throw 'newEnd is null';
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            this.$32('EventResize', $1e, $i);
        };
        this.$3e = function(e, $0b, $B) {
            var $1n = DayPilot.Date.getTime(e.start().d);
            var $0E = DayPilot.Date.getDate(e.end().d);
            if (!DayPilot.Date.equals($0E, e.end().d)) {
                $0E = DayPilot.Date.addDays($0E, 1);
            };
            var $1o = DayPilot.Date.diff(e.end().d, $0E);
            var $1p = this.$2l($0b.x, $0b.y);
            var $1q = DayPilot.Date.addDays($1p, $B);
            var $1l = new DayPilot.Date(DayPilot.Date.addTime($1p, $1n));
            var $1m = new DayPilot.Date(DayPilot.Date.addTime($1q, $1o));
            if ($c.$24()) {
                var $m = {};
                $m.e = e;
                $m.newStart = $1l;
                $m.newEnd = $1m;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onEventResize === 'function') {
                    $c.onEventResize($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1l, $1m);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1l, $1m);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1l, $1m);
                        break;
                    case 'Update':
                        e.start($1l);
                        e.end($1m);
                        $c.events.update(e);
                        break;
                };
                if (typeof $c.onEventResized === 'function') {
                    $c.onEventResized($m);
                }
            } else {
                switch ($c.eventResizeHandling) {
                    case 'PostBack':
                        $c.eventResizePostBack(e, $1l, $1m);
                        break;
                    case 'CallBack':
                        $c.eventResizeCallBack(e, $1l, $1m);
                        break;
                    case 'JavaScript':
                        $c.onEventResize(e, $1l, $1m);
                        break;
                    case 'Notify':
                        $c.eventResizeNotify(e, $1l, $1m);
                        break;
                }
            }
        };
        this.eventResizeNotify = function(e, $1l, $1m, $i) {
            var $1r = new DayPilot.Event(e.copy(), this);
            e.start($1l);
            e.end($1m);
            e.commit();
            $c.update();
            this.$3f("Notify", $1r, $1l, $1m, $i);
        };
        this.$3f = function($1b, e, $1l, $1m, $i) {
            var $1e = {};
            $1e.e = e;
            $1e.newStart = $1l;
            $1e.newEnd = $1m;
            this.$36($1b, "EventResize", $1e, $i);
        };
        this.timeRangeSelectedPostBack = function($0b, end, $i) {
            var $0g = {};
            $0g.start = $0b;
            $0g.end = end;
            this.$30('TimeRangeSelected', $i, $0g);
        };
        this.timeRangeSelectedCallBack = function($0b, end, $i) {
            var $0g = {};
            $0g.start = $0b;
            $0g.end = end;
            this.$32('TimeRangeSelected', $0g, $i);
        };
        this.$2D = function($0b, end) {
            if ($c.$24()) {
                var $m = {};
                $m.start = $0b;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeSelect === 'function') {
                    $c.onTimeRangeSelect($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($0b, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($0b, end);
                        $c.clearSelection();
                        break;
                };
                if (typeof $c.onTimeRangeSelected === 'function') {
                    $c.onTimeRangeSelected($m);
                }
            } else {
                switch ($c.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $c.timeRangeSelectedPostBack($0b, end);
                        $c.clearSelection();
                        break;
                    case 'CallBack':
                        $c.timeRangeSelectedCallBack($0b, end);
                        $c.clearSelection();
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeSelected($0b, end);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $1j, $i) {
            var $1e = {};
            $1e.selection = e;
            $1e.command = $1j;
            this.$30("TimeRangeMenuClick", $i, $1e);
        };
        this.timeRangeMenuClickCallBack = function(e, $1j, $i) {
            var $1e = {};
            $1e.selection = e;
            $1e.command = $1j;
            this.$32("TimeRangeMenuClick", $1e, $i);
        };
        this.$3g = function($1j, e, $1k) {
            switch ($1k) {
                case 'PostBack':
                    $c.timeRangeMenuClickPostBack(e, $1j);
                    break;
                case 'CallBack':
                    $c.timeRangeMenuClickCallBack(e, $1j);
                    break;
            }
        };
        this.headerClickPostBack = function(c, $i) {
            this.$30('HeaderClick', $i, c);
        };
        this.headerClickCallBack = function(c, $i) {
            this.$32('HeaderClick', c, $i);
        };
        this.$2Q = function(x) {
            var $i = this.data;
            var c = {
                $11: x
            };
            if ($c.$24()) {
                var $m = {};
                $m.header = {};
                $m.header.dayOfWeek = x;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onHeaderClick === 'function') {
                    $c.onHeaderClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                };
                if (typeof $c.onHeaderClicked === 'function') {
                    $c.onHeaderClicked($m);
                }
            } else {
                switch ($c.headerClickHandling) {
                    case 'PostBack':
                        $c.headerClickPostBack(c);
                        break;
                    case 'CallBack':
                        $c.headerClickCallBack(c);
                        break;
                    case 'JavaScript':
                        $c.onHeaderClick(c);
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($0b, end, $i) {
            var $0g = {};
            $0g.start = $0b;
            $0g.end = end;
            this.$30('TimeRangeDoubleClick', $i, $0g);
        };
        this.timeRangeDoubleClickCallBack = function($0b, end, $i) {
            var $0g = {};
            $0g.start = $0b;
            $0g.end = end;
            this.$32('TimeRangeDoubleClick', $0g, $i);
        };
        this.$2Z = function($0b, end) {
            if ($c.$24()) {
                var $m = {};
                $m.start = $0b;
                $m.end = end;
                $m.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $c.onTimeRangeDoubleClick === 'function') {
                    $c.onTimeRangeDoubleClick($m);
                    if ($m.preventDefault.value) {
                        return;
                    }
                };
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($0b, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($0b, end);
                        break;
                };
                if (typeof $c.onTimeRangeDoubleClicked === 'function') {
                    $c.onTimeRangeDoubleClicked($m);
                }
            } else {
                switch ($c.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $c.timeRangeDoubleClickPostBack($0b, end);
                        break;
                    case 'CallBack':
                        $c.timeRangeDoubleClickCallBack($0b, end);
                        break;
                    case 'JavaScript':
                        $c.onTimeRangeDoubleClick($0b, end);
                        break;
                }
            }
        };
        this.commandCallBack = function($1j, $i) {
            this.$3h();
            var $1e = {};
            $1e.command = $1j;
            this.$32('Command', $1e, $i);
        };
        this.$3i = function(e) {
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if ($t.event === e || $t.event.data === e.data) {
                    return $t;
                }
            };
            return null;
        };
        this.$2w = function(e) {
            var $d = {};
            $d.list = [];
            $d.each = function(m) {
                if (!m) {
                    return;
                };
                for (var i = 0; i < this.list.length; i++) {
                    m(this.list[i]);
                }
            };
            for (var i = 0; i < this.elements.events.length; i++) {
                var $t = this.elements.events[i];
                if ($t.event.data === e.data) {
                    $d.list.push($t);
                }
            };
            return $d;
        };
        this.$3j = function($1s) {
            var $t = document.createElement("div");
            $t.style.position = "absolute";
            $t.style.top = "-2000px";
            $t.style.left = "-2000px";
            $t.className = this.$25($1s);
            document.body.appendChild($t);
            var $J = $t.offsetHeight;
            var $B = $t.offsetWidth;
            document.body.removeChild($t);
            var $d = {};
            $d.height = $J;
            $d.width = $B;
            return $d;
        };
        this.$3k = {};
        var $N = this.$3k;
        $N.lineHeight = function() {
            return $N.eventHeight() + $c.lineSpace;
        };
        $N.rounded = function() {
            return $c.eventCorners === "Rounded";
        };
        $N.loadFromServer = function() {
            if ($c.backendUrl) {
                return (typeof $c.events.list === 'undefined') || (!$c.events.list);
            } else {
                return false;
            }
        };
        $N.locale = function() {
            return DayPilot.Locale.find($c.locale);
        };
        $N.getWeekStart = function() {
            if ($c.showWeekend) {
                return $c.weekStarts;
            } else {
                return 1;
            }
        };
        $N.notifyType = function() {
            var $1b;
            if ($c.notifyCommit === 'Immediate') {
                $1b = "Notify";
            } else if ($c.notifyCommit === 'Queue') {
                $1b = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $c.notifyCommit;
            };
            return $1b;
        };
        $N.eventHeight = function() {
            if ($c.$1Q.eventHeight) {
                return $c.$1Q.eventHeight;
            };
            var $J = $c.$3j("_event_height").height;
            if (!$J) {
                $J = $c.eventHeight;
            };
            $c.$1Q.eventHeight = $J;
            return $J;
        };
        $N.headerHeight = function() {
            if ($c.$1Q.headerHeight) {
                return $c.$1Q.headerHeight;
            };
            var $J = $c.$3j("_header_height").height;
            if (!$J) {
                $J = $c.headerHeight;
            };
            $c.$1Q.headerHeight = $J;
            return $J;
        };
        this.multiselect = {};
        this.multiselect.initList = [];
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$3l = function() {
            var m = $c.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $c.multiselect;
            var $1t = [];
            $1t.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $1t.push(m.list[i]);
            };
            return $1t;
        };
        this.multiselect.$3m = function() {};
        this.multiselect.$3b = function($t, $1u) {
            var m = $c.multiselect;
            if (m.isSelected($t.event)) {
                if ($c.allowMultiSelect) {
                    if ($1u) {
                        m.remove($t.event, true);
                    } else {
                        var $0t = m.list.length;
                        m.clear(true);
                        if ($0t > 1) {
                            m.add($t.event, true);
                        }
                    }
                } else {
                    m.clear(true);
                }
            } else {
                if ($c.allowMultiSelect) {
                    if ($1u) {
                        m.add($t.event, true);
                    } else {
                        m.clear(true);
                        m.add($t.event, true);
                    }
                } else {
                    m.clear(true);
                    m.add($t.event, true);
                }
            };
            m.redraw();
            m.$3m();
        };
        this.multiselect.$2s = function(ev) {
            var m = $c.multiselect;
            return m.$3n(ev, m.initList);
        };
        this.multiselect.$3o = function() {
            var m = $c.multiselect;
            var $02 = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $02.push(event.value());
            };
            alert($02.join("\n"));
        };
        this.multiselect.add = function(ev, $1v) {
            var m = $c.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($1v) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $1v) {
            var m = $c.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            }
        };
        this.multiselect.clear = function($1v) {
            var m = $c.multiselect;
            m.list = [];
            if ($1v) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $c.multiselect;
            for (var i = 0; i < $c.elements.events.length; i++) {
                var $t = $c.elements.events[i];
                if (m.isSelected($t.event)) {
                    m.$3p($t);
                } else {
                    m.$3q($t);
                }
            }
        };
        this.multiselect.$3p = function($t) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$25("_selected") : $c.$25("selected");
            var $t = m.$3r($t);
            DayPilot.Util.addClass($t, cn);
            m.divs.push($t);
        };
        this.multiselect.$3r = function($t) {
            if ($c.cssOnly) {
                return $t;
            };
            return $t.firstChild;
        };
        this.multiselect.$3s = function() {
            var m = $c.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $t = m.divs[i];
                m.$3q($t, true);
            };
            m.divs = [];
        };
        this.multiselect.$3q = function($t, $1w) {
            var m = $c.multiselect;
            var cn = $c.cssOnly ? $c.$25("_selected") : $c.$25("selected");
            var c = m.$3r($t);
            if (c && c.className && c.className.indexOf(cn) !== -1) {
                c.className = c.className.replace(cn, "");
            };
            if ($1w) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $t);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            return $c.multiselect.$3n(ev, $c.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            return DayPilot.indexOf($c.multiselect.list, ev);
        };
        this.multiselect.$3n = function(e, $02) {
            if (!$02) {
                return false;
            };
            for (var i = 0; i < $02.length; i++) {
                var ei = $02[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.value === 'function') {
                    if (ei.value() !== null && e.value() !== null && ei.value() === e.value()) {
                        return true;
                    };
                    if (ei.value() === null && e.value() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start()) {
                        return true;
                    }
                } else {
                    if (ei.value !== null && e.value() !== null && ei.value === e.value()) {
                        return true;
                    };
                    if (ei.value === null && e.value() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.events.find = function(id) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1x = $c.events.list.length;
            for (var i = 0; i < $1x; i++) {
                if ($c.events.list[i].id === id) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.findRecurrent = function($1y, $1z) {
            if (!$c.events.list || typeof $c.events.list.length === 'undefined') {
                return null;
            };
            var $1x = $c.events.list.length;
            for (var i = 0; i < $1x; i++) {
                if ($c.events.list[i].recurrentMasterId === $1y && $c.events.list[i].start.getTime() === $1z.getTime()) {
                    return new DayPilot.Event($c.events.list[i], $c);
                }
            };
            return null;
        };
        this.events.update = function(e, $i) {
            var $1e = {};
            $1e.oldEvent = new DayPilot.Event(e.copy(), $c);
            $1e.newEvent = new DayPilot.Event(e.temp(), $c);
            var $17 = new DayPilot.Action($c, "EventUpdate", $1e, $i);
            e.commit();
            if ($c.$1P) {
                $c.update();
            };
            $c.$2J.notify();
            return $17;
        };
        this.events.remove = function(e, $i) {
            var $1e = {};
            $1e.e = new DayPilot.Event(e.data, $c);
            var $17 = new DayPilot.Action($c, "EventRemove", $1e, $i);
            var $0x = DayPilot.indexOf($c.events.list, e.data);
            $c.events.list.splice($0x, 1);
            if ($c.$1P) {
                $c.update();
            };
            $c.$2J.notify();
            return $17;
        };
        this.events.add = function(e, $i) {
            e.calendar = $c;
            if (!$c.events.list) {
                $c.events.list = [];
            };
            $c.events.list.push(e.data);
            var $1e = {};
            $1e.e = e;
            var $17 = new DayPilot.Action($c, "EventAdd", $1e, $i);
            if ($c.$1P) {
                $c.update();
            };
            $c.$2J.notify();
            return $17;
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($17) {
            if (!$17) {
                return;
            };
            if ($17.isAction) {
                $c.queue.list.push($17);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($i) {
            var $1e = {};
            $1e.actions = $c.queue.list;
            $c.$32('Notify', $1e, $i, "Notify");
            $c.queue.list = [];
        };
        this.queue.clear = function() {
            $c.queue.list = [];
        };
        this.queue.pop = function() {
            return $c.queue.list.pop();
        };
        this.$23 = function($1A) {
            if ($1A) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
                return;
            };
            this.$3h();
            var $1B = this.autoRefreshInterval;
            if (!$1B || $1B < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $c.$3t();
            }, this.autoRefreshInterval * 1000);
        };
        this.$3h = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$3t = function() {
            if (!DayPilotMonth.eventResizing && !DayPilotMonth.eventMoving && !DayPilotMonth.timeRangeSelecting) {
                var $1C = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $m = {};
                    $m.i = this.autoRefreshCount;
                    $m.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $c.onAutoRefresh($m);
                    if ($m.preventDefault.value) {
                        $1C = true;
                    }
                };
                if (!$1C && this.$33()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.autoRefreshCount++;
            };
            if (this.autoRefreshCount < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $c.$3t();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$3u = function($m) {
            if (!this.cells) {
                return;
            };
            var $m = $m || {};
            var $1D = !$m.eventsOnly;
            $c.$1V();
            $c.$1W();
            $c.$1X();
            if ($1D) {
                $c.$1Y();
                $c.$1Z();
            };
            $c.$20();
            $c.$21();
            $c.$22();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.update = function() {
            this.$3u();
        };
        this.dispose = function() {
            var c = $c;
            if (!c.nav.top) {
                return;
            };
            c.$3h();
            c.$1V();
            c.nav.top.removeAttribute("style");
            c.nav.top.removeAttribute("class");
            c.nav.top.innerHTML = '';
            c.nav.top.dp = null;
            c.nav.top = null;
            DayPilotMonth.unregister(c);
        };
        this.$3v = function() {
            if (!DayPilotMonth.globalHandlers) {
                DayPilotMonth.globalHandlers = true;
                DayPilot.re(document, 'mouseup', DayPilotMonth.gMouseUp);
            };
            DayPilot.re(window, 'resize', this.$2O);
        };
        this.$21 = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.show = function() {
            $c.visible = true;
            $c.nav.top.style.display = '';
        };
        this.hide = function() {
            $c.visible = false;
            $c.nav.top.style.display = 'none';
        };
        this.$3w = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Month: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$3x = function() {
            this.$3w();
            this.$1W();
            this.$2K();
            this.$1Z();
            this.$3v();
            this.$23();
            this.$32('Init');
            DayPilotMonth.register(this);
        };
        this.init = function() {
            this.$3w();
            if (this.nav.top.dp) {
                return;
            };
            var $1E = $N.loadFromServer();
            if ($1E) {
                this.$3x();
                this.$1P = true;
                return;
            };
            this.$1W();
            this.$1X();
            this.$2K();
            this.$1Z();
            this.$21();
            this.$22();
            this.$20();
            this.$3v();
            if (this.messageHTML) {
                this.message(this.messageHTML);
            };
            this.$1T(null, false);
            this.$23();
            DayPilotMonth.register(this);
            this.$1P = true;
            this.$3y();
        };
        this.$3z = null;
        this.$3A = function($b) {
            var $1F = {
                "events": {
                    "preInit": function() {
                        var $1t = this.data;
                        if (!$1t) {
                            return;
                        };
                        if (DayPilot.isArray($1t.list)) {
                            $c.events.list = $1t.list;
                        } else {
                            $c.events.list = $1t;
                        }
                    }
                }
            };
            this.$3z = $1F;
            for (var name in $b) {
                if ($1F[name]) {
                    var $1G = $1F[name];
                    $1G.data = $b[name];
                    if ($1G.preInit) {
                        $1G.preInit();
                    }
                } else {
                    $c[name] = $b[name];
                }
            }
        };
        this.$3y = function() {
            var $1F = this.$3z;
            for (var name in $1F) {
                var $1G = $1F[name];
                if ($1G.postInit) {
                    $1G.postInit();
                }
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $c.$1P;
        };
        this.internal.invokeEvent = this.$36;
        this.internal.eventMenuClick = this.$3c;
        this.internal.timeRangeMenuClick = this.$3g;
        this.internal.bubbleCallBack = this.$37;
        this.internal.findEventDiv = this.$3i;
        this.Init = this.init;
        this.$3A($b);
    };
    DayPilotMonth.register = function($c) {
        if (!DayPilotMonth.registered) {
            DayPilotMonth.registered = [];
        };
        for (var i = 0; i < DayPilotMonth.registered.length; i++) {
            if (DayPilotMonth.registered[i] === $c) {
                return;
            }
        };
        DayPilotMonth.registered.push($c);
    };
    DayPilotMonth.unregister = function($c) {
        var a = DayPilotMonth.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $c);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mouseup', DayPilotMonth.gMouseUp);
            DayPilotMonth.globalHandlers = false;
        }
    };
    DayPilotMonth.gMouseUp = function(ev) {
        if (DayPilotMonth.movingEvent) {
            var $0a = DayPilotMonth.movingEvent;
            DayPilotMonth.movingEvent = null;
            if (!$0a.event || !$0a.event.calendar || !$0a.event.calendar.shadow || !$0a.event.calendar.shadow.start) {
                return;
            };
            var $c = $0a.event.calendar;
            var e = $0a.event;
            var $0b = $c.shadow.start;
            var $0c = $c.shadow.position;
            var $C = $0a.offset;
            $c.$2k();
            var ev = ev || window.event;
            $c.$2C(e, $0b.x, $0b.y, $C, ev, $0c);
            ev.cancelBubble = true;
            if (ev.stopPropagation) {
                ev.stopPropagation();
            };
            return false;
        } else if (DayPilotMonth.resizingEvent) {
            var $0a = DayPilotMonth.resizingEvent;
            DayPilotMonth.resizingEvent = null;
            if (!$0a.event || !$0a.event.calendar || !$0a.event.calendar.shadow || !$0a.event.calendar.shadow.start) {
                return;
            };
            var $c = $0a.event.calendar;
            var e = $0a.event;
            var $0b = $c.shadow.start;
            var $B = $c.shadow.width;
            $c.$2k();
            $c.$3e(e, $0b, $B);
            ev.cancelBubble = true;
            return false;
        } else if (DayPilotMonth.timeRangeSelecting) {
            if (DayPilotMonth.timeRangeSelecting.moved) {
                var $0d = DayPilotMonth.timeRangeSelecting;
                var $c = $0d.root;
                var $0b = new DayPilot.Date($c.$2l($0d.from.x, $0d.from.y));
                var end = $0b.addDays($0d.width);
                $c.$2D($0b, end);
            };
            DayPilotMonth.timeRangeSelecting = null;
        }
    };
    DayPilot.MonthVisible.Month = DayPilotMonth.Month;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotMonth = function($b) {
                var $1H = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $1I = new DayPilot.Month(this.id, $b);
                    $1I.init();
                    this.daypilot = $1I;
                    if (!$1H) {
                        $1H = $1I;
                    }
                });
                if (this.length === 1) {
                    return $1H;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $1J = DayPilot.am();
        if (!$1J) {
            return;
        };
        $1J.directive("daypilotMonth", function() {
            return {
                "restrict": "E",
                "template": "<div></div>",
                "replace": true,
                "link": function($1K, element, $1L) {
                    var $c = new DayPilot.Month(element[0]);
                    $c.$2J.scope = $1K;
                    $c.init();
                    var $1M = $1L["id"];
                    if ($1M) {
                        $1K[$1M] = $c;
                    };
                    var $1N = $1K["$watch"];
                    $1N.call($1K, $1L["daypilotConfig"], function($1O) {
                        for (var name in $1O) {
                            $c[name] = $1O[name];
                        };
                        $c.update();
                    });
                    $1N.call($1K, $1L["daypilotEvents"], function($1O) {
                        $c.events.list = $1O;
                        $c.$3u({
                            "eventsOnly": true
                        });
                    }, true);
                }
            };
        });
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotNavigator === 'undefined') {
    var DayPilotNavigator = DayPilot.NavigatorVisible = {};
};
(function() {
    if (typeof DayPilot.Navigator !== 'undefined') {
        return;
    };
    DayPilotNavigator = {};
    DayPilot.Navigator = function(id, $a) {
        this.v = '1418';
        var $b = this;
        this.id = id;
        this.api = 2;
        this.isNavigator = true;
        this.weekStarts = 'Auto';
        this.selectMode = 'day';
        this.titleHeight = 20;
        this.dayHeaderHeight = 20;
        this.cellWidth = 20;
        this.cellHeight = 20;
        this.cssOnly = true;
        this.cssClassPrefix = "navigator_default";
        this.selectionStart = new DayPilot.Date().getDatePart();
        this.selectionEnd = null;
        this.selectionDay = null;
        this.showMonths = 1;
        this.skipMonths = 1;
        this.command = "navigate";
        this.year = new DayPilot.Date().getYear();
        this.month = new DayPilot.Date().getMonth() + 1;
        this.showWeekNumbers = false;
        this.weekNumberAlgorithm = 'Auto';
        this.rowsPerMonth = 'Six';
        this.orientation = "Vertical";
        this.locale = "en-us";
        this.visible = true;
        this.timeRangeSelectedHandling = "Bind";
        this.visibleRangeChangedHandling = "Enabled";
        this.$09 = function() {
            this.root.dp = this;
            if (this.cssOnly) {
                this.root.className = this.$0a('_main');
            } else {
                this.root.className = this.$0a('main');
            };
            if (this.orientation === "Horizontal") {
                this.root.style.width = this.showMonths * (this.cellWidth * 7 + this.$0b()) + 'px';
                this.root.style.height = (this.cellHeight * 6 + this.titleHeight + this.dayHeaderHeight) + 'px';
            } else {
                this.root.style.width = (this.cellWidth * 7 + this.$0b()) + 'px';
            };
            this.root.style.position = "relative";
            if (!this.visible) {
                this.root.style.display = "none";
            };
            var $c = document.createElement("input");
            $c.type = 'hidden';
            $c.name = $b.id + "_state";
            $c.id = $c.name;
            this.root.appendChild($c);
            this.state = $c;
            if (!this.startDate) {
                this.startDate = new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year, this.month));
            } else {
                this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth();
            };
            this.calendars = [];
            this.selected = [];
            this.months = [];
        };
        this.$0c = function() {
            return $b.api === 2;
        };
        this.$0d = function() {
            this.root.innerHTML = '';
        };
        this.$0a = function($d) {
            var $e = this.theme || this.cssClassPrefix;
            if ($e) {
                return $e + $d;
            } else {
                return "";
            }
        };
        this.$0e = function($f, name) {
            var $g = this.cssOnly ? this.$0a("_" + name) : this.$0a(name);
            DayPilot.Util.addClass($f, $g);
        };
        this.$0f = function($f, name) {
            var $g = this.cssOnly ? this.$0a("_" + name) : this.$0a(name);
            DayPilot.Util.removeClass($f, $g);
        };
        this.$0g = function(j, $h) {
            var $i = {};
            $i.cells = [];
            $i.days = [];
            $i.weeks = [];
            var $j = this.startDate.addMonths(j);
            var $k = $h.before;
            var $l = $h.after;
            var $m = $j.firstDayOfMonth();
            var $n = $m.firstDayOfWeek($o.weekStarts());
            var $p = $m.addMonths(1);
            var $q = DayPilot.Date.daysDiff($n.d, $p.d);
            var $r = (this.rowsPerMonth === "Auto") ? Math.ceil($q / 7) : 6;
            $i.rowCount = $r;
            var $s = (new DayPilot.Date()).getDatePart();
            var $t = this.cellWidth * 7 + this.$0b();
            var $u = this.cellHeight * $r + this.titleHeight + this.dayHeaderHeight;
            $i.height = $u;
            var $v = document.createElement("div");
            $v.style.width = ($t) + 'px';
            $v.style.height = ($u) + 'px';
            if (this.orientation === "Horizontal") {
                $v.style.position = "absolute";
                $v.style.left = ($t * j) + "px";
                $v.style.top = "0px";
            } else {
                $v.style.position = 'relative';
            };
            if (this.cssOnly) {
                $v.className = this.$0a('_month');
            } else {
                $v.className = this.$0a('month');
            };
            $v.style.cursor = 'default';
            $v.style.MozUserSelect = 'none';
            $v.style.KhtmlUserSelect = 'none';
            $v.style.WebkitUserSelect = 'none';
            $v.month = $i;
            this.root.appendChild($v);
            var $w = this.titleHeight + this.dayHeaderHeight;
            var tl = document.createElement("div");
            tl.style.position = 'absolute';
            tl.style.left = '0px';
            tl.style.top = '0px';
            tl.style.width = this.cellWidth + 'px';
            tl.style.height = this.titleHeight + 'px';
            tl.style.lineHeight = this.titleHeight + 'px';
            tl.style.textAlign = 'left';
            tl.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tl.className = this.$0a('_titleleft');
            } else {
                tl.className = this.$0a('titleleft');
            };
            if ($h.left) {
                tl.style.cursor = 'pointer';
                tl.innerHTML = "<span style='margin-left:2px;'>&lt;</span>";
                tl.onclick = this.$0h;
            };
            $v.appendChild(tl);
            this.tl = tl;
            var ti = document.createElement("div");
            ti.style.position = 'absolute';
            ti.style.left = this.cellWidth + 'px';
            ti.style.top = '0px';
            ti.style.width = (this.cellWidth * 5 + this.$0b()) + 'px';
            ti.style.height = this.titleHeight + 'px';
            ti.style.lineHeight = this.titleHeight + 'px';
            ti.style.textAlign = 'center';
            ti.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                ti.className = this.$0a('_title');
            } else {
                ti.className = this.$0a('title');
            };
            ti.innerHTML = $o.locale().monthNames[$j.getMonth()] + ' ' + $j.getYear();
            $v.appendChild(ti);
            this.ti = ti;
            var tr = document.createElement("div");
            tr.style.position = 'absolute';
            tr.style.left = (this.cellWidth * 6 + this.$0b()) + 'px';
            tr.style.top = '0px';
            tr.style.width = this.cellWidth + 'px';
            tr.style.height = this.titleHeight + 'px';
            tr.style.lineHeight = this.titleHeight + 'px';
            tr.style.textAlign = 'right';
            tr.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                tr.className = this.$0a('_titleright');
            } else {
                tr.className = this.$0a('titleright');
            };
            if ($h.right) {
                tr.style.cursor = 'pointer';
                tr.innerHTML = "<span style='margin-right:2px;'>&gt;</span>";
                tr.onclick = this.$0i;
            };
            $v.appendChild(tr);
            this.tr = tr;
            var $x = this.$0b();
            if (this.showWeekNumbers) {
                for (var y = 0; y < $r; y++) {
                    var $y = $n.addDays(y * 7);
                    var $z = null;
                    switch (this.weekNumberAlgorithm) {
                        case "Auto":
                            $z = ($o.weekStarts() === 0) ? $y.weekNumber() : $y.weekNumberISO();
                            break;
                        case "US":
                            $z = $y.weekNumber();
                            break;
                        case "ISO8601":
                            $z = $y.weekNumberISO();
                            break;
                        default:
                            throw "Unknown weekNumberAlgorithm value.";
                    };
                    var dh = document.createElement("div");
                    dh.style.position = 'absolute';
                    dh.style.left = (0) + 'px';
                    dh.style.top = (y * this.cellHeight + $w) + 'px';
                    dh.style.width = this.cellWidth + 'px';
                    dh.style.height = this.cellHeight + 'px';
                    dh.style.lineHeight = this.cellHeight + 'px';
                    dh.style.textAlign = 'right';
                    dh.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        dh.className = this.$0a('_weeknumber');
                    } else {
                        dh.className = this.$0a('weeknumber');
                    };
                    dh.innerHTML = "<span style='margin-right: 2px'>" + $z + "</span>";
                    $v.appendChild(dh);
                    $i.weeks.push(dh);
                }
            };
            for (var x = 0; x < 7; x++) {
                $i.cells[x] = [];
                var dh = document.createElement("div");
                dh.style.position = 'absolute';
                dh.style.left = (x * this.cellWidth + $x) + 'px';
                dh.style.top = this.titleHeight + 'px';
                dh.style.width = this.cellWidth + 'px';
                dh.style.height = this.dayHeaderHeight + 'px';
                dh.style.lineHeight = this.dayHeaderHeight + 'px';
                dh.style.textAlign = 'right';
                dh.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    dh.className = this.$0a('_dayheader');
                } else {
                    dh.className = this.$0a('dayheader');
                };
                dh.innerHTML = "<span style='margin-right: 2px'>" + this.$0j(x) + "</span>";
                $v.appendChild(dh);
                $i.days.push(dh);
                for (var y = 0; y < $r; y++) {
                    var $y = $n.addDays(y * 7 + x);
                    var $A = this.$0k($y) && this.selectMode !== 'none';
                    var $B = $y.getMonth() === $j.getMonth();
                    var $C = $y.getTime() < $j.getTime();
                    var $D = $y.getTime() > $j.getTime();
                    var $E;
                    var dc = document.createElement("div");
                    dc.day = $y;
                    dc.x = x;
                    dc.y = y;
                    dc.isCurrentMonth = $B;
                    if (this.cssOnly) {
                        dc.className = this.$0a(($B ? '_day' : '_dayother'));
                    } else {
                        dc.className = this.$0a(($B ? 'day' : 'dayother'));
                    };
                    if ($y.getTime() === $s.getTime() && $B) {
                        this.$0e(dc, 'today');
                    };
                    if ($y.dayOfWeek() === 0 || $y.dayOfWeek() === 6) {
                        this.$0e(dc, 'weekend');
                    };
                    dc.style.position = 'absolute';
                    dc.style.left = (x * this.cellWidth + $x) + 'px';
                    dc.style.top = (y * this.cellHeight + $w) + 'px';
                    dc.style.width = this.cellWidth + 'px';
                    dc.style.height = this.cellHeight + 'px';
                    dc.style.lineHeight = this.cellHeight + 'px';
                    dc.style.textAlign = 'right';
                    var $F = document.createElement("div");
                    $F.style.position = 'absolute';
                    if (this.cssOnly) {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0a('_todaybox') : this.$0a('_daybox');
                    } else {
                        $F.className = ($y.getTime() === $s.getTime() && $B) ? this.$0a('todaybox') : this.$0a('daybox');
                    };
                    $F.style.left = '0px';
                    $F.style.top = '0px';
                    $F.style.width = (this.cellWidth - 2) + 'px';
                    $F.style.height = (this.cellHeight - 2) + 'px';
                    dc.appendChild($F);
                    var $G = null;
                    if (this.cells && this.cells[$y.toStringSortable()]) {
                        $G = this.cells[$y.toStringSortable()];
                        if ($G.css) {
                            this.$0e(dc, $G.css);
                        }
                    };
                    var $H = null;
                    if ($B || ($k && $C) || ($l && $D)) {
                        $H = document.createElement("span");
                        $H.innerHTML = $y.getDay();
                        dc.style.cursor = 'pointer';
                        dc.isClickable = true;
                        if ($A) {
                            this.$0e(dc, 'select');
                        };
                        if ($G && $G.html) {
                            $H.innerHTML = $G.html;
                        };
                        $H.style.marginRight = '2px';
                        dc.appendChild($H);
                    };
                    dc.setAttribute("unselectable", "on");
                    dc.onclick = this.$0l;
                    dc.onmousedown = this.$0m;
                    dc.onmousemove = this.$0n;
                    if ($A) {
                        this.selected.push(dc);
                    };
                    $v.appendChild(dc);
                    $i.cells[x][y] = dc;
                }
            };
            var $I = document.createElement("div");
            $I.style.position = 'absolute';
            $I.style.left = '0px';
            $I.style.top = ($w - 2) + 'px';
            $I.style.width = (this.cellWidth * 7 + this.$0b()) + 'px';
            $I.style.height = '1px';
            $I.style.fontSize = '1px';
            $I.style.lineHeight = '1px';
            if (this.cssOnly) {
                $I.className = this.$0a("_line");
            } else {
                $I.className = this.$0a("line");
            };
            $v.appendChild($I);
            this.months.push($i);
        };
        this.$0b = function() {
            if (this.showWeekNumbers) {
                return this.cellWidth;
            };
            return 0;
        };
        this.$0o = function() {
            if (!this.items) {
                return;
            };
            for (var j = 0; j < this.showMonths; j++) {
                for (var x = 0; x < 7; x++) {
                    for (var y = 0; y < 6; y++) {
                        var $G = this.months[j].cells[x][y];
                        if (!$G) {
                            continue;
                        };
                        if (this.items[$G.day.toStringSortable()] === 1) {
                            this.$0e($G, 'busy');
                        } else {
                            this.$0f($G, 'busy');
                        }
                    }
                }
            }
        };
        this.$0p = function() {
            var s = {};
            s.startDate = $b.startDate;
            s.selectionStart = $b.selectionStart;
            s.selectionEnd = $b.selectionEnd.addDays(1);
            $b.state.value = DayPilot.JSON.stringify(s);
        };
        this.$0q = function() {
            switch (this.selectMode) {
                case 'day':
                    this.selectionEnd = this.selectionStart;
                    break;
                case 'week':
                    this.selectionStart = this.selectionStart.firstDayOfWeek($o.weekStarts());
                    this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case 'month':
                    this.selectionStart = this.selectionStart.firstDayOfMonth();
                    this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case 'none':
                    this.selectionEnd = this.selectionStart;
                    break;
                default:
                    throw "Unkown selectMode value.";
            }
        };
        this.select = function($J) {
            var $K = true;
            var $L = this.selectionStart;
            var $M = this.selectionEnd;
            this.selectionStart = new DayPilot.Date($J).getDatePart();
            this.selectionDay = this.selectionStart;
            var $N = false;
            if ($K) {
                var $O = this.startDate;
                if (this.selectionStart.getTime() < this.visibleStart().getTime() || this.selectionStart.getTime() > this.visibleEnd().getTime()) {
                    $O = this.selectionStart.firstDayOfMonth();
                };
                if ($O.toStringSortable() !== this.startDate.toStringSortable()) {
                    $N = true;
                };
                this.startDate = $O;
            };
            this.$0q();
            this.$0d();
            this.$09();
            this.$0r();
            this.$0o();
            this.$0p();
            if (!$L.equals(this.selectionStart) || !$M.equals(this.selectionEnd)) {
                this.$0s();
            };
            if ($N) {
                this.$0t();
            }
        };
        this.update = function() {
            this.$0d();
            this.$09();
            this.$0r();
            this.$0u();
            this.$0o();
            this.$0p();
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            }
        };
        this.$0v = function($P, $Q, $R) {
            var $S = {};
            $S.action = $P;
            $S.parameters = $R;
            $S.data = $Q;
            $S.header = this.$0w();
            var $T = "JSON" + DayPilot.JSON.stringify($S);
            var $U = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$0x, $T, this.$0y);
            } else {
                WebForm_DoCallback(this.uniqueID, $T, this.$0z, $U, this.callbackError, true);
            }
        };
        this.$0y = function($V) {
            if (typeof $b.onAjaxError === 'function') {
                var $W = {};
                $W.request = $V;
                $b.onAjaxError($W);
            } else if (typeof $b.ajaxError === 'function') {
                $b.ajaxError($V);
            }
        };
        this.$0x = function($X) {
            $b.$0z($X.responseText);
        };
        this.$0A = function($P, $Q, $R) {
            var $S = {};
            $S.action = $P;
            $S.parameters = $R;
            $S.data = $Q;
            $S.header = this.$0w();
            var $T = "JSON" + DayPilot.JSON.stringify($S);
            __doPostBack($b.uniqueID, $T);
        };
        this.$0w = function() {
            var h = {};
            h.v = this.v;
            h.startDate = this.startDate;
            h.selectionStart = this.selectionStart;
            return h;
        };
        this.$0B = function($P, $Q) {
            if ($P === 'refresh') {
                this.$0t();
            }
        };
        this.$0j = function(i) {
            var x = i + $o.weekStarts();
            if (x > 6) {
                x -= 7;
            };
            return $o.locale().dayNamesShort[x];
        };
        this.$0k = function($J) {
            if (this.selectionStart === null || this.selectionEnd === null) {
                return false;
            };
            if (this.selectionStart.getTime() <= $J.getTime() && $J.getTime() <= this.selectionEnd.getTime()) {
                return true;
            };
            return false;
        };
        this.$0m = function(ev) {};
        this.$0n = function(ev) {};
        this.$0l = function(ev) {
            var $i = this.parentNode.month;
            var x = this.x;
            var y = this.y;
            var $y = $i.cells[x][y].day;
            if (!$i.cells[x][y].isClickable) {
                return;
            };
            $b.clearSelection();
            $b.selectionDay = $y;
            var $y = $b.selectionDay;
            switch ($b.selectMode) {
                case 'none':
                    $b.selectionStart = $y;
                    $b.selectionEnd = $y;
                    break;
                case 'day':
                    var s = $i.cells[x][y];
                    $b.$0e(s, 'select');
                    $b.selected.push(s);
                    $b.selectionStart = s.day;
                    $b.selectionEnd = s.day;
                    break;
                case 'week':
                    for (var j = 0; j < 7; j++) {
                        $b.$0e($i.cells[j][y], 'select');
                        $b.selected.push($i.cells[j][y]);
                    };
                    $b.selectionStart = $i.cells[0][y].day;
                    $b.selectionEnd = $i.cells[6][y].day;
                    break;
                case 'month':
                    var $Y = null;
                    var end = null;
                    for (var y = 0; y < 6; y++) {
                        for (var x = 0; x < 7; x++) {
                            var s = $i.cells[x][y];
                            if (!s) {
                                continue;
                            };
                            if (s.day.getYear() === $y.getYear() && s.day.getMonth() === $y.getMonth()) {
                                $b.$0e(s, 'select');
                                $b.selected.push(s);
                                if ($Y === null) {
                                    $Y = s.day;
                                };
                                end = s.day;
                            }
                        }
                    };
                    $b.selectionStart = $Y;
                    $b.selectionEnd = end;
                    break;
                default:
                    throw 'unknown selectMode';
            };
            $b.$0p();
            $b.$0s();
        };
        this.$0s = function() {
            var $Y = $b.selectionStart;
            var end = $b.selectionEnd.addDays(1);
            var $q = DayPilot.Date.daysDiff($Y.d, end.d);
            var $y = $b.selectionDay;
            if ($b.$0c()) {
                var $W = {};
                $W.start = $Y;
                $W.end = end;
                $W.day = $y;
                $W.days = $q;
                $W.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onTimeRangeSelect === 'function') {
                    $b.onTimeRangeSelect($W);
                    if ($W.preventDefault.value) {
                        return;
                    }
                };
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        //var $Z = DayPilot.Util.evalVariable($b.bound);
                    	var $Z = eval($b.bound);
                        if ($Z) {
                            var $00 = {};
                            $00.start = $Y;
                            $00.end = end;
                            $00.days = $q;
                            $00.day = $y;
                            $Z.commandCallBack($b.command, $00);
                        };
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($Y, end, $y);
                        break;
                };
                if (typeof $b.onTimeRangeSelected === 'function') {
                    $b.onTimeRangeSelected($W);
                }
            } else {
                switch ($b.timeRangeSelectedHandling) {
                    case 'Bind':
                        var $Z = DayPilot.Util.evalVariable($b.bound);
                        if ($Z) {
                            var $00 = {};
                            $00.start = $Y;
                            $00.end = end;
                            $00.days = $q;
                            $00.day = $y;
                            $Z.commandCallBack($b.command, $00);
                        };
                        break;
                    case 'JavaScript':
                        $b.onTimeRangeSelected($Y, end, $y);
                        break;
                    case 'None':
                        break;
                    case 'PostBack':
                        $b.timeRangeSelectedPostBack($Y, end, $y);
                        break;
                }
            }
        };
        this.timeRangeSelectedPostBack = function($Y, end, $Q, $y) {
            var $01 = {};
            $01.start = $Y;
            $01.end = end;
            $01.day = $y;
            this.$0A('TimeRangeSelected', $Q, $01);
        };
        this.$0i = function(ev) {
            $b.$0C($b.skipMonths);
        };
        this.$0h = function(ev) {
            $b.$0C(-$b.skipMonths);
        };
        this.$0C = function(i) {
            this.startDate = this.startDate.addMonths(i);
            this.$0d();
            this.$09();
            this.$0r();
            this.$0p();
            this.$0t();
            this.$0o();
        };
        this.visibleStart = function() {
            return $b.startDate.firstDayOfMonth().firstDayOfWeek($o.weekStarts());
        };
        this.visibleEnd = function() {
            return $b.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek($o.weekStarts()).addDays(42);
        };
        this.$0t = function() {
            var $Y = this.visibleStart();
            var end = this.visibleEnd();
            if ($b.$0c()) {
                var $W = {};
                $W.start = $Y;
                $W.end = end;
                $W.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $b.onVisibleRangeChange === 'function') {
                    $b.onVisibleRangeChange($W);
                    if ($W.preventDefault.value) {
                        return;
                    }
                };
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                        break;
                };
                if (typeof $b.onVisibleRangeChanged === 'function') {
                    $b.onVisibleRangeChanged($W);
                }
            } else {
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged($Y, end);
                        break;
                    case "Disabled":
                        break;
                }
            }
        };
        this.visibleRangeChangedCallBack = function($Q) {
            var $R = {};
            this.$0v("Visible", $Q, $R);
        };
        this.visibleRangeChangedPostBack = function($Q) {
            var $R = {};
            this.$0A("Visible", $Q, $R);
        };
        this.$0z = function($02, $U) {
            var $02 = DayPilot.Util.parseJSON($02);
            $b.items = $02.Items;
            $b.cells = $02.Cells;
            $b.$0o();
        };
        this.$0r = function() {
            for (var j = 0; j < this.showMonths; j++) {
                var $h = this.$0D(j);
                this.$0g(j, $h);
            };
            this.root.style.height = this.$0E() + "px";
        };
        this.$0E = function() {
            if (this.orientation === "Horizontal") {
                var $03 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $i = this.months[i];
                    if ($i.height > $03) {
                        $03 = $i.height;
                    }
                };
                return $03;
            } else {
                var $04 = 0;
                for (var i = 0; i < this.months.length; i++) {
                    var $i = this.months[i];
                    $04 += $i.height;
                };
                return $04;
            }
        };
        this.$0D = function(j) {
            if (this.internal.showLinks) {
                return this.internal.showLinks;
            };
            var $h = {};
            $h.left = (j === 0);
            $h.right = (j === 0);
            $h.before = j === 0;
            $h.after = j === this.showMonths - 1;
            if (this.orientation === "Horizontal") {
                $h.right = (j === this.showMonths - 1);
            };
            return $h;
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $b.$0F;
        };
        this.$0G = {};
        var $o = this.$0G;
        $o.locale = function() {
            return DayPilot.Locale.find($b.locale);
        };
        $o.weekStarts = function() {
            if ($b.weekStarts === 'Auto') {
                var $05 = $o.locale();
                if ($05) {
                    return $05.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $b.weekStarts;
            }
        };
        this.clearSelection = function() {
            for (var j = 0; j < this.selected.length; j++) {
                this.$0f(this.selected[j], 'select');
            };
            this.selected = [];
        };
        this.$0H = function() {
            if (this.backendUrl) {
                return (typeof $b.items === 'undefined') || (!$b.items);
            } else {
                return false;
            }
        };
        this.events = {};
        this.$0u = function() {
            if (!DayPilot.isArray(this.events.list)) {
                return;
            };
            this.items = {};
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var $q = this.$0I(e);
                for (var name in $q) {
                    this.items[name] = 1;
                }
            }
        };
        this.$0I = function(e) {
            var $Y = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            var $q = {};
            var d = $Y.getDatePart();
            while (d.getTime() < end.getTime()) {
                $q[d.toStringSortable()] = 1;
                d = d.addDays(1);
            };
            return $q;
        };
        this.show = function() {
            $b.visible = true;
            $b.root.style.display = '';
        };
        this.hide = function() {
            $b.visible = false;
            $b.root.style.display = 'none';
        };
        this.init = function() {
            this.root = document.getElementById(id);
            if (!this.root) {
                throw "DayPilot.Navigator.init(): The placeholder element not found: '" + id + "'.";
            };
            if (this.root.dp) {
                return;
            };
            this.$0q();
            this.$09();
            this.$0r();
            this.$0u();
            this.$0o();
            this.$0J();
            var $06 = this.$0H();
            if ($06) {
                this.$0t();
            };
            this.$0F = true;
        };
        this.dispose = function() {
            var c = $b;
            if (!c.root) {
                return;
            };
            c.root.removeAttribute("style");
            c.root.removeAttribute("class");
            c.root.dp = null;
            c.root.innerHTML = null;
            c.root = null;
        };
        this.$0J = function() {
            var $07 = document.getElementById(id);
            $07.dispose = this.dispose;
        };
        this.Init = this.init;
    };
    DayPilot.NavigatorVisible.Navigator = DayPilotNavigator.Navigator;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotNavigator = function($a) {
                var $n = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $08 = new DayPilot.Navigator(this.id);
                    this.daypilot = $08;
                    for (var name in $a) {
                        $08[name] = $a[name];
                    };
                    $08.Init();
                    if (!$n) {
                        $n = $08;
                    }
                });
                if (this.length === 1) {
                    return $n;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();


if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
if (typeof DayPilotScheduler === 'undefined') {
    var DayPilotScheduler = DayPilot.SchedulerVisible = {};
};
(function() {
    if (typeof DayPilot.Scheduler !== 'undefined') {
        return;
    };
    var $a = (function() {
        var $b = navigator.userAgent;
        return (($b.indexOf('Mozilla/5.0') > -1 && $b.indexOf('Android ') > -1 && $b.indexOf('AppleWebKit') > -1) && !($b.indexOf('Chrome') > -1));
    })();
    var DayPilotScheduler = {};
    var $c = function() {};
    DayPilot.Scheduler = function(id, $d) {
        this.v = '1418';
        var $e = this;
        this.id = id;
        this.isScheduler = true;
        this.hideUntilInit = true;
        this.api = 2;
        this.allowDefaultContextMenu = false;
        this.allowEventOverlap = true;
        this.allowMultiSelect = true;
        this.autoRefreshCommand = 'refresh';
        this.autoRefreshEnabled = false;
        this.autoRefreshInterval = 60;
        this.autoRefreshMaxCount = 20;
        this.autoScroll = "Drag";
        this.blockOnCallBack = false;
        this.borderColor = "#000000";
        this.businessBeginsHour = 9;
        this.businessEndsHour = 18;
        this.cellBackColor = "#FFFFD5";
        this.cellBackColorNonBusiness = "#FFF4BC";
        this.cellBorderColor = "#EAD098";
        this.cellDuration = 60;
        this.cellGroupBy = 'Day';
        this.cellSelectColor = "#316AC5";
        this.cellWidth = 40;
        this.cellWidthSpec = "Fixed";
        this.groupConcurrentEvents = false;
        this.groupConcurrentEventsLimit = 1;
        this.$7e = true;
        this.cellSweeping = true;
        this.cellSweepingCacheSize = 1000;
        this.crosshairColor = 'Gray';
        this.crosshairOpacity = 20;
        this.crosshairType = 'Header';
        this.doubleClickTimeout = 300;
        this.dragOutAllowed = false;
        this.durationBarColor = 'blue';
        this.durationBarHeight = 3;
        this.durationBarVisible = true;
        this.durationBarMode = "Duration";
        this.$7f = false;
        this.days = 1;
        this.drawBlankCells = true;
        this.dynamicEventRendering = 'Progressive';
        this.dynamicEventRenderingMargin = 50;
        this.dynamicEventRenderingMarginX = null;
        this.dynamicEventRenderingMarginY = null;
        this.dynamicEventRenderingCacheSweeping = false;
        this.dynamicEventRenderingCacheSize = 200;
        this.dynamicLoading = false;
        this.eventBorderColor = "#000000";
        this.eventBorderVisible = true;
        this.eventBackColor = "#FFFFFF";
        this.eventEndSpec = "DateTime";
        this.eventFontFamily = "Tahoma, Arial";
        this.eventFontSize = '8pt';
        this.eventFontColor = '#000000';
        this.eventHeight = 25;
        this.eventMoveMargin = 5;
        this.eventMoveToPosition = false;
        this.eventResizeMargin = 5;
        this.eventStackingLineHeight = 100;
        this.$7g = false;
        this.headerFontColor = "#000000";
        this.headerFontFamily = "Tahoma, Arial";
        this.headerFontSize = '8pt';
        this.headerHeight = 20;
        this.heightSpec = 'Auto';
        this.hourFontFamily = "Tahoma, Arial";
        this.hourFontSize = '10pt';
        this.hourNameBackColor = "#ECE9D8";
        this.hourNameBorderColor = "#ACA899";
        this.layout = 'Auto';
        this.linkCreateHandling = "Disabled";
        this.linkBottomMargin = 10;
        this.locale = "en-us";
        this.loadingLabelText = "Loading...";
        this.loadingLabelVisible = true;
        this.loadingLabelBackColor = "orange";
        this.loadingLabelFontColor = "#ffffff";
        this.loadingLabelFontFamily = "Tahoma";
        this.loadingLabelFontSize = "10pt";
        this.messageHideAfter = 5000;
        this.moveBy = 'Full';
        this.notifyCommit = 'Immediate';
        this.numberFormat = "0.00";
        this.progressiveRowRendering = true;
        this.progressiveRowRenderingPreload = 25;
        this.timeHeaders = [{
            "groupBy": "Default"
        }, {
            "groupBy": "Cell"
        }];
        this.treePreventParentUsage = false;
        this.treeAutoExpand = true;
        this.rowHeaderHideIconEnabled = false;
        this.rowHeaderWidth = 80;
        this.rowHeaderScrolling = false;
        this.rowHeaderSplitterWidth = 3;
        this.rowHeaderWidthAutoFit = true;
        this.rowHeaderCols = null;
        this.rowMarginBottom = 0;
        this.rowMarginTop = 0;
        this.rowMinHeight = 0;
        this.scale = "CellDuration";
        this.scrollDelayDynamic = 500;
        this.scrollDelayEvents = 200;
        this.scrollDelayCells = 20;
        this.scrollDelayFloats = 0;
        this.scrollX = 0;
        this.scrollY = 0;
        this.shadow = "Fill";
        this.showBaseTimeHeader = true;
        this.showNonBusiness = true;
        this.showToolTip = true;
        this.snapToGrid = true;
        this.startDate = new DayPilot.Date().getDatePart();
        this.syncResourceTree = false;
        this.timeBreakColor = '#000000';
        this.treeEnabled = false;
        this.treeIndent = 20;
        this.treeImageMarginLeft = 5;
        this.treeImageMarginTop = 5;
        this.timeFormat = "Auto";
        this.useEventBoxes = 'Always';
        this.viewType = 'Resources';
        this.visible = true;
        this.weekStarts = 'Auto';
        this.width = null;
        this.floatingEvents = true;
        this.floatingTimeHeaders = true;
        this.eventCorners = 'Regular';;
        this.separators = [];
        this.cornerHtml = '';
        this.$7h = -1;
        this.$7i = -1;
        this.eventClickHandling = 'Enabled';
        this.eventDeleteHandling = "Disabled";
        this.eventHoverHandling = 'Bubble';
        this.eventDoubleClickHandling = 'Disabled';
        this.eventEditHandling = 'Update';
        this.eventMoveHandling = 'Update';
        this.eventResizeHandling = 'Update';
        this.eventRightClickHandling = 'ContextMenu';
        this.eventSelectHandling = 'Update';
        this.rowClickHandling = 'Enabled';
        this.rowDoubleClickHandling = "Disabled";
        this.rowCreateHandling = "Disabled";
        this.rowEditHandling = 'Update';
        this.rowSelectHandling = 'Update';
        this.rowMoveHandling = "Disabled";
        this.timeRangeDoubleClickHandling = 'Disabled';
        this.timeRangeSelectedHandling = 'Enabled';
        this.eventMovingStartEndEnabled = false;
        this.eventMovingStartEndFormat = "MMMM d, yyyy";
        this.timeRangeSelectingStartEndEnabled = false;
        this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy";
        this.eventResizingStartEndEnabled = false;
        this.eventResizingStartEndFormat = "MMMM d, yyyy";
        this.cssOnly = true;
        this.cssClassPrefix = "scheduler_default";
        this.backendUrl = null;
        if ($e.api === 1) {
            this.onEventMove = function() {};
            this.onEventResize = function() {};
            this.onResourceExpand = function() {};
            this.onResourceCollapse = function() {};
        };
        this.onBeforeTimeHeaderRender = null;
        this.onEventMove = null;
        this.onEventMoved = null;
        this.onEventMoving = null;
        this.onEventResize = null;
        this.onEventResized = null;
        this.onEventResizing = null;
        this.onEventMouseOver = null;
        this.onEventMouseOut = null;
        this.onTimeRangeSelect = null;
        this.onTimeRangeSelected = null;
        this.onTimeRangeSelecting = null;
        this.onRowHeaderResized = null;
        this.onBeforeCellRender = null;
        this.onCellMouseOver = null;
        this.onCellMouseOut = null;
        this.autoRefreshCount = 0;
        this.$7j = 0;
        this.rowlist = [];
        this.itline = [];
        this.timeline = null;
        this.events = {};
        this.cells = {};
        this.elements = {};
        this.elements.events = [];
        this.elements.bars = [];
        this.elements.text = [];
        this.elements.cells = [];
        this.elements.linesVertical = [];
        this.elements.separators = [];
        this.elements.range = [];
        this.elements.breaks = [];
        this.elements.links = [];
        this.elements.linkpoints = [];
        this.$7k = {};
        this.$7k.cells = [];
        this.$7k.linesVertical = {};
        this.$7k.linesHorizontal = {};
        this.$7k.timeHeaderGroups = [];
        this.$7k.pixels = [];
        this.$7k.breaks = [];
        this.$7k.events = [];
        this.clientState = {};
        this.q = new DayPilot.Queue();
        this.members = {};
        this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"];
        this.members.ignoreFilter = function(name) {
            if (name.indexOf("div") === 0) {
                return true;
            };
            return false;
        };
        this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader"];
        this.members.noCssOnly = ["borderColor", "cellBackColor", "cellBackColorNonBusiness", "cellBorderColor", "cellSelectColor", "durationBarColor", "eventBackColor", "eventBorderColor", "eventBorderVisible", "eventCorners", "eventFontColor", "eventFontFamily", "eventFontSize", "headerFontColor", "headerFontFamily", "headerFontSize", "hourFontFamily", "hourFontSize", "hourNameBackColor", "hourNameBorderColor", "loadingLabelBackColor", "loadingLabelFontColor", "loadingLabelFontFamily", "loadingLabelFontSize", "shadow", "timeBreakColor"];
        this.nav = {};
        this.$7l = function($f, $g) {
            var $f = DayPilot.Util.parseJSON($f);
            if (typeof $e.onCallBackResult === "function") {
                var $h = {};
                $h.result = $f;
                $h.preventDefault = function() {
                    $h.preventDefault.value = true;
                };
                $e.onCallBackResult($h);
                if ($h.preventDefault.value) {
                    $e.$7m();
                    $e.$7n();
                    $e.$7o();
                    if ($f.Message) {
                        if ($e.message) {
                            $e.message($f.Message);
                        }
                    };
                    $e.$7p($f.CallBackData, true);
                    $e.$7q();
                    $e.$7r();
                    return;
                }
            };
            if ($f.BubbleGuid) {
                var $i = $f.BubbleGuid;
                var $j = this.bubbles[$i];
                delete this.bubbles[$i];
                $e.$7n();
                if (typeof $f.Result.BubbleHTML !== 'undefined') {
                    $j.updateView($f.Result.BubbleHTML, $j);
                };
                $e.$7q();
                return;
            };
            if ($f.CallBackRedirect) {
                document.location.href = $f.CallBackRedirect;
                return;
            };
            if (typeof DayPilot.Bubble !== "undefined") {
                DayPilot.Bubble.hideActive();
            };
            if (typeof $f.ClientState !== 'undefined') {
                if ($f.ClientState === null) {
                    $e.clientState = {};
                } else {
                    $e.clientState = $f.ClientState;
                }
            };
            if ($f.UpdateType === "None") {
                $e.$7n();
                $e.$7q();
                if ($f.Message) {
                    $e.message($f.Message);
                };
                $e.$7p($f.CallBackData, true);
                return;
            };
            if ($f.VsUpdate) {
                var $k = document.createElement("input");
                $k.type = 'hidden';
                $k.name = $e.id + "_vsupdate";
                $k.id = $k.name;
                $k.value = $f.VsUpdate;
                $e.$7s.innerHTML = '';
                $e.$7s.appendChild($k);
            };
            if (typeof $f.TagFields !== 'undefined') {
                $e.tagFields = $f.TagFields;
            };
            if (typeof $f.SortDirections !== 'undefined') {
                $e.sortDirections = $f.SortDirections;
            };
            $e.$7k.drawArea = null;
            if ($f.UpdateType === "Full") {
                $e.resources = $f.Resources;
                $e.colors = $f.Colors;
                $e.palette = $f.Palette;
                $e.dirtyColors = $f.DirtyColors;
                $e.cellProperties = $f.CellProperties;
                $e.cellConfig = $f.CellConfig;
                $e.separators = $f.Separators;
                $e.timeline = $f.Timeline;
                $e.timeHeader = $f.TimeHeader;
                $e.timeHeaders = $f.TimeHeaders;
                if (typeof $f.Links !== "undefined") {
                    $e.links.list = $f.Links;
                };
                if (typeof $f.RowHeaderColumns !== 'undefined') $e.rowHeaderColumns = $f.RowHeaderColumns;
                $e.startDate = $f.StartDate ? new DayPilot.Date($f.StartDate) : $e.startDate;
                $e.days = $f.Days ? $f.Days : $e.days;
                $e.cellDuration = $f.CellDuration ? $f.CellDuration : $e.cellDuration;
                $e.cellGroupBy = $f.CellGroupBy ? $f.CellGroupBy : $e.cellGroupBy;
                $e.cellWidth = $f.CellWidth ? $f.CellWidth : $e.cellWidth;
                $e.viewType = $f.ViewType ? $f.ViewType : $e.viewType;
                $e.hourNameBackColor = $f.HourNameBackColor ? $f.HourNameBackColor : $e.hourNameBackColor;
                $e.showNonBusiness = $f.ShowNonBusiness ? $f.ShowNonBusiness : $e.showNonBusiness;
                $e.businessBeginsHour = $f.BusinessBeginsHour ? $f.BusinessBeginsHour : $e.businessBeginsHour;
                $e.businessEndsHour = $f.BusinessEndsHour ? $f.BusinessEndsHour : $e.businessEndsHour;
                if (typeof $f.DynamicLoading !== 'undefined') $e.dynamicLoading = $f.DynamicLoading;
                if (typeof $f.TreeEnabled !== 'undefined') $e.treeEnabled = $f.TreeEnabled;
                $e.backColor = $f.BackColor ? $f.BackColor : $e.backColor;
                $e.nonBusinessBackColor = $f.NonBusinessBackColor ? $f.NonBusinessBackColor : $e.nonBusinessBackColor;
                $e.locale = $f.Locale ? $f.Locale : $e.locale;
                if (typeof $f.TimeZone !== 'undefined') $e.timeZone = $f.TimeZone;
                $e.timeFormat = $f.TimeFormat ? $f.TimeFormat : $e.timeFormat;
                $e.rowHeaderCols = $f.RowHeaderCols ? $f.RowHeaderCols : $e.rowHeaderCols;
                if (typeof $f.DurationBarMode !== "undefined") $e.durationBarMode = $f.DurationBarMode;
                $e.cornerBackColor = $f.CornerBackColor ? $f.CornerBackColor : $e.cornerBackColor;
                if (typeof $f.CornerHTML !== 'undefined') {
                    $e.cornerHtml = $f.CornerHTML;
                };
                $e.hashes = $f.Hashes;
                $e.$7t();
                $e.$7u();
                $e.$7v();
                $e.$7w();
            };
            if ($f.Action !== "Scroll") {
                $e.$7x($f.Events);
            };
            if ($f.UpdateType === 'Full') {
                $e.$7y();
                $e.$7z();
            };
            $e.$7A();
            $e.$7B();
            $e.$7k.drawArea = null;
            if ($f.Action !== "Scroll") {
                $e.$7C();
                $e.$7D();
                if ($e.heightSpec === 'Auto' || $e.heightSpec === 'Max') {
                    $e.$7E();
                };
                $e.$7F();
                $e.$7G();
                $e.$7H();
                $e.multiselect.clear(true);
                $e.multiselect.initList = $f.SelectedEvents;
                $e.$7I();
                $e.$7J();
                $e.$7K();
            } else {
                $e.multiselect.clear(true);
                $e.multiselect.initList = $f.SelectedEvents;
                $e.$7L($f.Events);
            };
            if ($e.timeRangeSelectedHandling !== "HoldForever") {
                $e.$7M();
            };
            if ($f.UpdateType === "Full") {
                $e.setScroll($f.ScrollX, $f.ScrollY);
                $e.$7N();
            };
            $e.$7O();
            $e.$7m();
            $e.$7n();
            if ($f.UpdateType === 'Full' && navigator.appVersion.indexOf("MSIE 7.") !== -1) {
                window.setTimeout(function() {
                    $e.$7y();
                    $e.$7E();
                }, 0);
            };
            $e.$7o();
            if ($f.Message) {
                if ($e.message) {
                    $e.message($f.Message);
                }
            };
            $e.$7p($f.CallBackData, true);
            $e.$7q();
            $e.$7r();
        };
        this.$7m = function() {
            if ($e.todo) {
                if ($e.todo.del) {
                    var $l = $e.todo.del;
                    $l.parentNode.removeChild($l);
                    $e.todo.del = null;
                }
            }
        };
        this.$7p = function($m, $n) {
            var $o = function($m, $p) {
                return function() {
                    if ($e.$7P()) {
                        if (typeof $e.onAfterRender === 'function') {
                            var $h = {};
                            $h.isCallBack = $p;
                            $h.data = $m;
                            $e.onAfterRender($h);
                        }
                    } else {
                        if ($e.afterRender) {
                            $e.afterRender($m, $p);
                        }
                    }
                };
            };
            window.setTimeout($o($m, $n), 0);
        };
        this.scrollTo = function($q, $r, $s) {
            if (!$q) {
                return;
            };
            var $t;
            if ($q.isDayPilotDate) {
                $t = this.getPixels($q).left;
            } else if (typeof $q === "string") {
                $t = this.getPixels(new DayPilot.Date($q)).left;
            } else if (typeof $q === "number") {
                $t = $q;
            } else {
                throw "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";
            };
            var $u = this.$7Q.clientWidth;
            var $v = this.nav.scroll.clientWidth;
            $s = $s || "left";
            switch ($s.toLowerCase()) {
                case "left":
                    break;
                case "middle":
                    $t -= $v / 2;
                    break;
                case "right":
                    $t -= $v;
                    break;
            };
            if ($t < 0) {
                $t = 0;
            };
            if ($t > $u - $v) {
                $t = $u - $v;
            };
            if (!$r) {
                this.setScrollX($t);
            } else {
                this.$7R($t);
            }
        };
        this.$7R = function($t) {
            var $w = {};
            $w.steps = [];
            $w.index = 0;
            $w.delay = 10;
            $w.next = function() {
                var $x = $w.steps[$w.index];
                $w.index += 1;
                return $x;
            };
            $w.finished = function() {
                $e.$7S();
            };
            var $y = $e.getScrollX();
            var $z = 100;
            var $A = $t - $y;
            for (var i = 0; i < $z; i++) {
                var x = i / $z;
                var $B = ((x - .5) * 2) / (Math.pow(((x - 0.5) * 2), 2) + 1) + .5;
                $w.steps.push($y + $A * $B);
            };
            $w.steps.push($t);
            scrollStep($w);

            function scrollStep($w) {
                var $x = $w.next();
                if (typeof $x === "undefined") {
                    $w.finished && $w.finished();
                    return;
                };
                $e.setScrollX($x);
                window.clearTimeout($e.refreshTimeout);
                setTimeout(function() {
                    scrollStep($w);
                }, $w.delay);
            };
        };
        this.scrollToResource = function(id) {
            DayPilot.complete(function() {
                var $C = $e.$7T(id);
                if (!$C) {
                    return;
                };
                setTimeout(function() {
                    var scrollY = $C.top;
                    $e.nav.scroll.scrollTop = scrollY;
                }, 100);
            });
        };
        this.$7U = function() {
            if (!this.cssOnly) {
                return;
            };
            if (!this.floatingTimeHeaders) {
                return;
            };
            if (!this.timeHeader) {
                return;
            };
            var $D = this.$7V();
            if (!$D) {
                return;
            };
            this.$7W();
            var $E = $D.pixels.left;
            var end = $D.pixels.right;
            var $F = [];
            for (var y = 0; y < this.timeHeader.length; y++) {
                for (var x = 0; x < this.timeHeader[y].length; x++) {
                    var h = this.timeHeader[y][x];
                    var $G = h.left;
                    var $H = h.left + h.width;
                    var $I = null;
                    if ($G < $E && $E < $H) {
                        $I = {};
                        $I.x = x;
                        $I.y = y;
                        $I.marginLeft = $E - $G;
                        $I.marginRight = 0;
                        $I.div = this.$7k.timeHeader[x + "_" + y];
                        $F.push($I);
                    };
                    if ($G < end && end < $H) {
                        if (!$I) {
                            $I = {};
                            $I.x = x;
                            $I.y = y;
                            $I.marginLeft = 0;
                            $I.div = this.$7k.timeHeader[x + "_" + y];
                            $F.push($I);
                        };
                        $I.marginRight = $H - end;
                        break;
                    }
                }
            };
            for (var i = 0; i < $F.length; i++) {
                var $I = $F[i];
                this.$7X($I.div, $I.marginLeft, $I.marginRight);
            }
        };
        this.$7O = function() {
            this.$7U();
            this.$7Y();
        };
        this.$7Z = {};
        var $J = this.$7Z;
        $J.events = function($K) {
            var $L = [];
            var $K = $K || "All";
            var $D = $e.$7V();
            if (!$D) {
                return DayPilot.list($L);
            };
            var $E = $D.pixels.left;
            var end = $D.pixels.right;
            for (var i = 0; i < $e.elements.events.length; i++) {
                var e = $e.elements.events[i];
                var $m = e.event;
                var $G = $m.part.left;
                var $H = $m.part.left + $m.part.width;
                switch ($K) {
                    case "Left":
                        if ($G < $E && $E < $H) {
                            $L.push(e);
                        };
                        break;
                    case "All":
                        if (DayPilot.Util.overlaps($G, $H, $E, end)) {
                            $L.push(e);
                        };
                        break;
                }
            };
            return DayPilot.list($L).addProps({
                "area": $D
            });
        };
        this.$7Y = function() {
            if (!this.cssOnly) {
                return;
            };
            if (!this.floatingEvents) {
                return;
            };
            var $M = $J.events("Left");
            this.$80();
            $M.each(function($N) {
                var $G = $M.area.pixels.left;
                var $m = $N.event;
                var $E = $m.part.left;
                var $O = $G - $E;
                $e.$81($N, $O, 0);
            });
        };
        this.elements.sections = [];
        this.elements.hsections = [];
        this.$7X = function($P, $O, $Q) {
            var $R = document.createElement("div");
            $R.setAttribute("unselectable", "on");
            $R.className = this.$82("_timeheader_float");
            $R.style.position = "absolute";
            $R.style.left = $O + "px";
            $R.style.right = $Q + "px";
            $R.style.top = "0px";
            $R.style.bottom = "0px";
            $R.style.overflow = "hidden";
            var $S = document.createElement("div");
            $S.className = this.$82("_timeheader_float_inner");
            $S.setAttribute("unselectable", "on");
            $S.innerHTML = $P.cell.th.innerHTML;
            $R.appendChild($S);
            $P.section = $R;
            $P.insertBefore($R, $P.firstChild.nextSibling);
            $P.firstChild.innerHTML = '';
            this.elements.hsections.push($P);
        };
        this.$7W = function() {
            for (var i = 0; i < this.elements.hsections.length; i++) {
                var e = this.elements.hsections[i];
                var $m = e.cell;
                if ($m && e.firstChild) {
                    e.firstChild.innerHTML = $m.th.innerHTML;
                };
                DayPilot.de(e.section);
                e.section = null;
            };
            this.elements.hsections = [];
        };
        this.$81 = function($P, $O, $Q) {
            var $R = document.createElement("div");
            $R.setAttribute("unselectable", "on");
            $R.className = this.$82("_event_float");
            $R.style.position = "absolute";
            $R.style.left = $O + "px";
            $R.style.right = $Q + "px";
            $R.style.top = "0px";
            $R.style.bottom = "0px";
            $R.style.overflow = "hidden";
            var $S = document.createElement("div");
            $S.className = this.$82("_event_float_inner");
            $S.setAttribute("unselectable", "on");
            $S.innerHTML = $P.event.client.html();
            $R.appendChild($S);
            $P.section = $R;
            $P.insertBefore($R, $P.firstChild.nextSibling);
            $P.firstChild.innerHTML = '';
            this.elements.sections.push($P);
        };
        this.$80 = function() {
            for (var i = 0; i < this.elements.sections.length; i++) {
                var e = this.elements.sections[i];
                var $m = e.event;
                if ($m) {
                    e.firstChild.innerHTML = $m.client.html();
                };
                DayPilot.de(e.section);
                e.section = null;
            };
            this.elements.sections = [];
        };
        this.setScrollX = function(scrollX) {
            this.setScroll(scrollX, $e.scrollY);
        };
        this.setScrollY = function(scrollY) {
            this.setScroll($e.scrollX, scrollY);
        };
        this.setScroll = function(scrollX, scrollY) {
            var scroll = $e.nav.scroll;
            var $T = $e.$7j;
            var $U = $e.$83() * $e.cellWidth;
            if (scroll.clientWidth + scrollX > $U) {
                scrollX = $U - scroll.clientWidth;
            };
            if (scroll.clientHeight + scrollY > $T) {
                scrollY = $T - scroll.clientHeight;
            };
            $e.divTimeScroll.scrollLeft = scrollX;
            $e.divResScroll.scrollTop = scrollY;
            scroll.scrollLeft = scrollX;
            scroll.scrollTop = scrollY;
        };
        this.message = function($V, $W, $X, $Y) {
            if ($V === null) {
                return;
            };
            var $W = $W || this.messageHideAfter || 2000;
            var $X = $X || "#ffffff";
            var $Y = $Y || "#000000";
            var $Z = 0.8;
            var top = this.$84() + 1;
            var $G = this.$85() + $00.splitterWidth();
            var $H = DayPilot.sw($e.nav.scroll) + 1;
            var $01 = DayPilot.sh($e.nav.scroll) + 1;
            var $P;
            if (!this.nav.message) {
                $P = document.createElement("div");
                $P.style.position = "absolute";
                $P.style.left = $G + "px";
                $P.style.right = $H + "px";
                $P.style.display = 'none';
                $P.onmousemove = function() {
                    if ($P.messageTimeout && !$P.status) {
                        clearTimeout($P.messageTimeout);
                    }
                };
                $P.onmouseout = function() {
                    if ($e.nav.message.style.display !== 'none') {
                        $P.messageTimeout = setTimeout($e.$86, 500);
                    }
                };
                var $S = document.createElement("div");
                $S.onclick = function() {
                    $e.nav.message.style.display = 'none';
                };
                if (!this.cssOnly) {
                    $S.style.padding = "5px";
                    $S.style.opacity = $Z;
                    $S.style.filter = "alpha(opacity=" + ($Z * 100) + ")";
                } else {
                    $S.className = this.$82("_message");
                };
                $P.appendChild($S);
                var close = document.createElement("div");
                close.style.position = "absolute";
                if (!this.cssOnly) {
                    close.style.top = "5px";
                    close.style.right = (DayPilot.sw($e.nav.scroll) + 5) + "px";
                    close.style.color = $X;
                    close.style.lineHeight = "100%";
                    close.style.cursor = "pointer";
                    close.style.fontWeight = "bold";
                    close.innerHTML = "X";
                } else {
                    close.className = this.$82("_message_close");
                };
                close.onclick = function() {
                    $e.nav.message.style.display = 'none';
                };
                $P.appendChild(close);
                this.nav.top.appendChild($P);
                this.nav.message = $P;
            } else {
                $P = $e.nav.message;
            };
            var $02 = function() {
                var $S = $e.nav.message.firstChild;
                if (!$e.cssOnly) {
                    $S.style.backgroundColor = $Y;
                    $S.style.color = $X;
                };
                $S.innerHTML = $V;
                var $H = DayPilot.sw($e.nav.scroll) + 1;
                $e.nav.message.style.right = $H + "px";
                var $s = $e.messageBarPosition || "Top";
                if ($s === "Bottom") {
                    $e.nav.message.style.bottom = $01 + "px";
                    $e.nav.message.style.top = "";
                } else if ($s === "Top") {
                    $e.nav.message.style.bottom = "";
                    $e.nav.message.style.top = top + "px";
                };
                var end = function() {
                    $P.messageTimeout = setTimeout($e.$86, $W);
                };
                DayPilot.fade($e.nav.message, 0.2, end);
            };
            clearTimeout($P.messageTimeout);
            if (this.nav.message.style.display !== 'none') {
                DayPilot.fade($e.nav.message, -0.2, $02);
            } else {
                $02();
            }
        };
        this.$86 = function() {
            if (!$e.nav.message) {
                return;
            };
            var end = function() {
                $e.nav.message.style.display = 'none';
            };
            DayPilot.fade($e.nav.message, -0.2, end);
        };
        this.message.show = function($V) {
            $e.message($V);
        };
        this.message.hide = function() {
            $e.$86();
        };
        this.$87 = null;
        this.$7E = function() {
            if (this.nav.scroll) {
                var $03 = 1;
                if (this.$87 !== null) {
                    this.nav.top.style.border = this.$87;
                    this.$87 = null;
                };
                if (this.heightSpec === 'Parent100Pct') {
                    this.nav.top.style.height = "100%";
                    this.$87 = this.nav.top.style.border;
                    this.nav.top.style.border = "0 none";
                    this.height = parseInt(this.nav.top.clientHeight, 10) - (this.$84()) - $03;
                };
                this.nav.scroll.style.height = '30px';
                var $04 = this.$88();
                var $05 = $04 + this.$84() + $03;
                if ($04 >= 0) {
                    this.nav.scroll.style.height = ($04) + 'px';
                    this.$89.style.height = ($04) + 'px';
                };
                if (this.nav.divider) {
                    if (!$05 || isNaN($05) || $05 < 0) {
                        $05 = 0;
                    };
                    this.nav.divider.style.height = ($05) + "px";
                };
                if (this.heightSpec !== "Parent100Pct") {
                    this.nav.top.style.height = ($05) + "px";
                };
                $e.nav.resScrollSpace.style.height = ($04 + 20) + "px";
                for (var i = 0; i < this.elements.separators.length; i++) {
                    this.elements.separators[i].style.height = this.$7j + 'px';
                };
                for (var i = 0; i < this.elements.linesVertical.length; i++) {
                    this.elements.linesVertical[i].style.height = this.$7j + 'px';
                }
            }
        };
        this.$7u = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            this.$8a = (this.viewType !== 'Days') ? this.startDate.addDays(this.days) : this.startDate.addDays(1);
            this.$7k.pixels = [];
            this.itline = [];
            var $06 = this.cellWidthSpec === "Auto";
            var $07 = function() {
                if (!$06) {
                    return;
                };
                var $08 = 0;
                if ($e.timeHeader) {
                    if ($e.timeline) {
                        $08 = $e.timeline.length;
                    } else {
                        var $C = $e.timeHeader[$e.timeHeader.length - 1];
                        $08 = $C.length;
                    }
                } else {
                    if ($e.scale === "Manual") {
                        $08 = $e.timeline.length;
                    } else {
                        $e.$8b();
                        $08 = $e.itline.length;
                        $e.itline = [];
                    }
                };
                var $v = $e.$8c();
                if ($08 > 0 && $v > 0) {
                    $e.cellWidth = $v / $08;
                };
                $e.debug.message("updated cellWidth: " + $e.cellWidth);
            };
            $07();
            if (this.$8d() && this.timeline) {
                if (this.timeline) {
                    $e.debug.message("timeline received from server");
                    this.itline = [];
                    var $09 = null;
                    var $G = 0;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0a = this.timeline[i];
                        var $I = {};
                        $I.start = new DayPilot.Date($0a.start);
                        $I.end = $0a.end ? new DayPilot.Date($0a.end) : $I.start.addMinutes(this.cellDuration);
                        if (!$0a.width) {
                            var $H = Math.floor($G + this.cellWidth);
                            var $v = $H - Math.floor($G);
                            $I.left = Math.floor($G);
                            $I.width = $v;
                            $G += this.cellWidth;
                        } else {
                            $I.left = $0a.left || $G;
                            $I.width = $0a.width || this.cellWidth;
                            $G += $I.width;
                        };
                        $I.breakBefore = $09 && $09.ticks !== $I.start.ticks;
                        $09 = $I.end;
                        this.itline.push($I);
                    }
                };
                if ($06) {
                    this.$8e();
                }
            } else {
                this.timeHeader = [];
                if (this.scale === "Manual") {
                    this.itline = [];
                    var $G = 0;
                    var $09 = null;
                    for (var i = 0; i < this.timeline.length; i++) {
                        var $0a = this.timeline[i];
                        var $I = {};
                        $I.start = new DayPilot.Date($0a.start);
                        $I.end = $0a.end ? new DayPilot.Date($0a.end) : $I.start.addMinutes(this.cellDuration);
                        var w = $0a.width || this.cellWidth;
                        var $H = Math.floor($G + w);
                        var $v = $H - Math.floor($G);
                        $I.left = Math.floor($G);
                        $I.width = $v;
                        $G += w;
                        $I.breakBefore = $09 && $09.ticks !== $I.start.ticks;
                        $09 = $I.end;
                        this.itline.push($I);
                    }
                } else {
                    this.$8b();
                };
                this.$8f();
            }
        };
        this.$8b = function() {
            var $E = this.startDate;
            var end = this.$8g($E);
            var $0b = false;
            var $0c = this.timeHeaders;
            var $G = 0;
            while (end.ticks <= this.$8a.ticks && end.ticks > $E.ticks) {
                if (this.$8h($E, end)) {
                    var $H = Math.floor($G + this.cellWidth);
                    var $v = $H - Math.floor($G);
                    var $0d = {};
                    $0d.start = $E;
                    $0d.end = end;
                    $0d.left = Math.floor($G);
                    $0d.width = $v;
                    $0d.breakBefore = $0b;
                    this.itline.push($0d);
                    $G += this.cellWidth;
                    $0b = false;
                } else {
                    $0b = true;
                };
                $E = end;
                end = this.$8g($E);
            }
        };
        this.$8e = function() {
            $e.debug.message("updateHeaderGroupDimensions");
            if (!this.timeHeader) {
                return;
            };
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $C = this.timeHeader[y];
                for (var x = 0; x < $C.length; x++) {
                    var h = $C[x];
                    h.left = this.getPixels(new DayPilot.Date(h.start)).left;
                    var $H = this.getPixels(new DayPilot.Date(h.end)).left;
                    var $v = $H - h.left;
                    h.width = $v;
                }
            }
        };
        this.$8f = function() {
            var $0c = this.timeHeaders;
            if (!$0c) {
                $0c = [{
                    "groupBy": this.cellGroupBy
                }, {
                    "groupBy": "Cell"
                }];
            };
            for (var i = 0; i < $0c.length; i++) {
                var $0e = $0c[i].groupBy;
                var $0f = $0c[i].format;
                if ($0e === "Default") {
                    $0e = this.cellGroupBy;
                };
                var $E = this.startDate;
                var $0g = [];
                var $E = this.startDate;
                while ($E.ticks < this.$8a.ticks) {
                    var h = {};
                    h.start = $E;
                    h.end = this.$8i(h.start, $0e);
                    if (h.start.ticks === h.end.ticks) {
                        break;
                    };
                    h.left = this.getPixels(h.start).left;
                    var $H = this.getPixels(h.end).left;
                    var $v = $H - h.left;
                    h.width = $v;
                    h.colspan = Math.ceil($v / (1.0 * this.cellWidth));
                    if ($0f) {
                        h.innerHTML = h.start.toString($0f, $00.locale());
                    } else {
                        h.innerHTML = this.$8j(h, $0e);
                    };
                    if ($v > 0) {
                        if (typeof this.onBeforeTimeHeaderRender === 'function') {
                            var $I = {};
                            $I.start = h.start;
                            $I.end = h.end;
                            $I.html = h.innerHTML;
                            $I.toolTip = h.innerHTML;
                            $I.backColor = null;
                            if (!this.cssOnly) {
                                $I.backColor = this.hourNameBackColor;
                            };
                            $I.level = this.timeHeader.length;
                            var $h = {};
                            $h.header = $I;
                            this.onBeforeTimeHeaderRender($h);
                            h.innerHTML = $I.html;
                            h.backColor = $I.backColor;
                            h.toolTip = $I.toolTip;
                        };
                        $0g.push(h);
                    };
                    $E = h.end;
                };
                this.timeHeader.push($0g);
            }
        };
        this.$8h = function($E, end) {
            if (typeof this.onIncludeTimeCell === 'function') {
                var $I = {};
                $I.start = $E;
                $I.end = end;
                $I.visible = true;
                var $h = {};
                $h.cell = $I;
                this.onIncludeTimeCell($h);
                return $I.visible;
            };
            if (this.showNonBusiness) {
                return true;
            };
            return this.isBusiness({
                "start": $E,
                "end": end
            });
        };
        this.getPixels = function($q) {
            var $0h = $q.ticks;
            var $0i = this.$7k.pixels[$0h];
            if ($0i) {
                return $0i;
            };
            var $0j = null;
            var $0k = 221876841600000;
            if (this.itline.length === 0 || $0h < this.itline[0].start.ticks) {
                var $f = {};
                $f.cut = false;
                $f.left = 0;
                $f.boxLeft = $f.left;
                $f.boxRight = $f.left;
                $f.i = null;
                return $f;
            };
            for (var i = 0; i < this.itline.length; i++) {
                var $0l = false;
                var $I = this.itline[i];
                var $0m = $I.start.ticks;
                var $0n = $I.end.ticks;
                if ($0m < $0h && $0h < $0n) {
                    var $0o = $0h - $0m;
                    var $f = {};
                    $f.cut = false;
                    $f.left = $I.left + this.$8k($I, $0o);
                    $f.boxLeft = $I.left;
                    $f.boxRight = $I.left + $I.width;
                    $f.i = i;
                    break;
                } else if ($0m === $0h) {
                    var $f = {};
                    $f.cut = false;
                    $f.left = $I.left;
                    $f.boxLeft = $f.left;
                    $f.boxRight = $f.left + $I.width;
                    $f.i = i;
                    break;
                } else if ($0n === $0h) {
                    var $f = {};
                    $f.cut = false;
                    $f.left = $I.left + $I.width;
                    $f.boxLeft = $f.left;
                    $f.boxRight = $f.left;
                    $f.i = i + 1;
                    break;
                } else if ($0h < $0m && $0h > $0k) {
                    var $f = {};
                    $f.cut = true;
                    $f.left = $I.left;
                    $f.boxLeft = $f.left;
                    $f.boxRight = $f.left;
                    $f.i = i;
                    break;
                };
                $0k = $0n;
            };
            if (!$f) {
                var $0p = this.itline[this.itline.length - 1];
                var $f = {};
                $f.cut = true;
                $f.left = $0p.left + $0p.width;
                $f.boxLeft = $f.left;
                $f.boxRight = $f.left;
                $f.i = null;
            };
            this.$7k.pixels[$0h] = $f;
            return $f;
        };
        this.getDate = function($G, $0q, $0r) {
            var $s = this.$8l($G, $0r);
            if (!$s) {
                return null;
            };
            var x = $s.x;
            var $0s = this.itline[x];
            if (!$0s) {
                return null;
            };
            var $E = ($0r && !$0q) ? $0s.end : $0s.start;
            if (!$0q) {
                return $E;
            } else {
                return $E.addTime(this.$8m($s.cell, $s.offset));
            }
        };
        this.$8l = function($t, $0r) {
            if (this.itline.length === 0) {
                return null;
            };
            var $y = 0;
            var $0j = 0;
            for (var i = 0; i < this.itline.length; i++) {
                var $I = this.itline[i];
                var $v = $I.width || this.cellWidth;
                $y += $v;
                if (($t < $y) || ($0r && $t === $y)) {
                    var $f = {};
                    $f.x = i;
                    $f.offset = $t - $0j;
                    $f.cell = $I;
                    return $f;
                };
                $0j = $y;
            };
            var $I = this.itline[this.itline.length - 1];
            var $f = {};
            $f.x = this.itline.length - 1;
            $f.offset = $I.width || this.cellWidth;
            $f.cell = $I;
            return $f;
        };
        this.$8n = function($0t) {
            var $y = new DayPilot.Date($0t);
            for (var i = 0; i < this.itline.length; i++) {
                var $I = this.itline[i];
                if ($I.start.ticks <= $y.ticks && $y.ticks < $I.end.ticks) {
                    var $f = {};
                    $f.hidden = false;
                    $f.current = $I;
                    return $f;
                };
                if ($y.ticks < $I.start.ticks) {
                    var $f = {};
                    $f.hidden = true;
                    $f.previous = i > 0 ? this.itline[i - 1] : null;
                    $f.current = null;
                    $f.next = this.itline[i];
                    return $f;
                }
            };
            var $f = {};
            $f.past = true;
            $f.previous = this.itline[this.itline.length - 1];
            return $f;
        };
        this.$8k = function($I, $0h) {
            var $v = $I.width || this.cellWidth;
            var $0u = $I.end.ticks - $I.start.ticks;
            return Math.floor(($v * $0h) / ($0u));
        };
        this.$8m = function($I, $t) {
            var $0u = $I.end.ticks - $I.start.ticks;
            var $v = $I.width || this.cellWidth;
            return Math.floor($t / $v * $0u);
        };
        this.$8o = function(ev) {
            if ($0v.start) {
                return;
            };
            $0w = {};
            $e.$8p(this, ev);
        };
        this.eventClickPostBack = function(e, $m) {
            this.$8q('EventClick', e, $m);
        };
        this.eventClickCallBack = function(e, $m) {
            this.$8r('EventClick', e, $m);
        };
        this.$8p = function($P, ev) {
            var e = $P.event;
            var ev = ev || window.event;
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if (!e.client.doubleClickEnabled()) {
                $e.$8s($P, ev);
                return;
            };
            if (!$e.timeouts.click) {
                $e.timeouts.click = [];
            };
            var $0x = function($P, ev) {
                return function() {
                    $e.$8s($P, ev);
                };
            };
            $e.timeouts.click.push(window.setTimeout($0x($P, ev), $e.doubleClickTimeout));
        };
        this.$8s = function($P, ev) {
            if (typeof ev === "boolean") {
                throw "Invalid _eventClickSingle parameters";
            };
            var e = $P.event;
            var $0y = ev.ctrlKey;
            var $0z = ev.metaKey;
            if (!e.client.clickEnabled()) {
                return;
            };
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.div = $P;
                $h.originalEvent = ev;
                $h.ctrl = $0y;
                $h.meta = $0z;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventClick === 'function') {
                    $e.onEventClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventClickHandling) {
                    case 'PostBack':
                        $e.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventClickCallBack(e);
                        break;
                    case 'Edit':
                        $e.$8t($P);
                        break;
                    case 'Select':
                        $e.$8u($P, e, $0y, $0z);
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $e.onEventClicked === 'function') {
                    $e.onEventClicked($h);
                }
            } else {
                switch ($e.eventClickHandling) {
                    case 'PostBack':
                        $e.eventClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onEventClick(e);
                        break;
                    case 'Edit':
                        $e.$8t($P);
                        break;
                    case 'Select':
                        $e.$8u($P, e, $0y, $0z);
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(e);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                }
            }
        };
        this.$8v = function(e) {
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventDelete === 'function') {
                    $e.onEventDelete($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventDeleteHandling) {
                    case 'PostBack':
                        $e.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventDeleteCallBack(e);
                        break;
                    case 'Update':
                        $e.events.remove(e);
                        break;
                };
                if (typeof $e.onEventDeleted === 'function') {
                    $e.onEventDeleted($h);
                }
            } else {
                switch ($e.eventDeleteHandling) {
                    case 'PostBack':
                        $e.eventDeletePostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventDeleteCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onEventDelete(e);
                        break;
                }
            }
        };
        this.eventDeletePostBack = function(e, $m) {
            this.$8q('EventDelete', e, $m);
        };
        this.eventDeleteCallBack = function(e, $m) {
            this.$8r('EventDelete', e, $m);
        };
        this.setHScrollPosition = function($t) {
            this.nav.scroll.scrollLeft = $t;
        };
        this.getScrollX = function() {
            return this.nav.scroll.scrollLeft;
        };
        this.getHScrollPosition = this.getScrollX;
        this.getScrollY = function() {
            return this.nav.scroll.scrollTop;
        };
        this.$8u = function($P, e, $0y, $0z) {
            $e.$8w($P, e, $0y, $0z);
        };
        this.eventSelectPostBack = function(e, $0B, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.change = $0B;
            this.$8q('EventSelect', $0C, $m);
        };
        this.eventSelectCallBack = function(e, $0B, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.change = $0B;
            this.$8r('EventSelect', $0C, $m);
        };
        this.$8w = function($P, e, $0y, $0z) {
            if ($e.$7P()) {
                var m = $e.multiselect;
                m.previous = m.events();
                var $h = {};
                $h.e = e;
                $h.selected = m.isSelected(e);
                $h.ctrl = $0y;
                $h.meta = $0z;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventSelect === 'function') {
                    $e.onEventSelect($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventSelectHandling) {
                    case 'PostBack':
                        $e.eventSelectPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $e.eventSelectCallBack(e, $0B);
                        break;
                    case 'Update':
                        m.$8x($P, $0y, $0z);
                        break;
                };
                if (typeof $e.onEventSelected === 'function') {
                    $h.change = m.isSelected(e) ? "selected" : "deselected";
                    $h.selected = m.isSelected(e);
                    $e.onEventSelected($h);
                }
            } else {
                var m = $e.multiselect;
                m.previous = m.events();
                m.$8x($P, $0y, $0z);
                var $0B = m.isSelected(e) ? "selected" : "deselected";
                switch ($e.eventSelectHandling) {
                    case 'PostBack':
                        $e.eventSelectPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        if (typeof WebForm_InitCallback !== 'undefined') {
                            window.__theFormPostData = "";
                            window.__theFormPostCollection = [];
                            WebForm_InitCallback();
                        };
                        $e.eventSelectCallBack(e, $0B);
                        break;
                    case 'JavaScript':
                        $e.onEventSelect(e, $0B);
                        break;
                }
            }
        };
        this.eventRightClickPostBack = function(e, $m) {
            this.$8q('EventRightClick', e, $m);
        };
        this.eventRightClickCallBack = function(e, $m) {
            this.$8r('EventRightClick', e, $m);
        };
        this.$8y = function(ev) {
            var e = this.event;
            ev = ev || window.event;
            ev.cancelBubble = true;
            if (!this.event.client.rightClickEnabled()) {
                return false;
            };
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.div = this;
                $h.originalEvent = ev;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventRightClick === 'function') {
                    $e.onEventRightClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventRightClickHandling) {
                    case 'PostBack':
                        $e.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventRightClickCallBack(e);
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                };
                if (typeof $e.onEventRightClicked === 'function') {
                    $e.onEventRightClicked($h);
                }
            } else {
                switch ($e.eventRightClickHandling) {
                    case 'PostBack':
                        $e.eventRightClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventRightClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onEventRightClick(e);
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(this.event);
                            }
                        };
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                }
            };
            return false;
        };
        this.eventDoubleClickPostBack = function(e, $m) {
            this.$8q('EventDoubleClick', e, $m);
        };
        this.eventDoubleClickCallBack = function(e, $m) {
            this.$8r('EventDoubleClick', e, $m);
        };
        this.$8z = function(ev) {
            if (typeof(DayPilotBubble) !== 'undefined') {
                DayPilotBubble.hideActive();
            };
            if ($e.timeouts.click) {
                for (var $0D in $e.timeouts.click) {
                    window.clearTimeout($e.timeouts.click[$0D]);
                };
                $e.timeouts.click = null;
            };
            var ev = ev || window.event;
            var e = this.event;
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.originalEvent = ev;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventDoubleClick === 'function') {
                    $e.onEventDoubleClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventDoubleClickHandling) {
                    case 'PostBack':
                        $e.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventDoubleClickCallBack(e);
                        break;
                    case 'Edit':
                        $e.$8t(this);
                        break;
                    case 'Select':
                        $e.$8u($P, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(e);
                            }
                        };
                        break;
                };
                if (typeof $e.onEventDoubleClicked === 'function') {
                    $e.onEventDoubleClicked($h);
                }
            } else {
                switch ($e.eventDoubleClickHandling) {
                    case 'PostBack':
                        $e.eventDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.eventDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onEventDoubleClick(e);
                        break;
                    case 'Edit':
                        $e.$8t(this);
                        break;
                    case 'Select':
                        $e.$8u($P, e, ev.ctrlKey, ev.metaKey);
                        break;
                    case 'Bubble':
                        if ($e.bubble) {
                            $e.bubble.showEvent(e);
                        };
                        break;
                    case 'ContextMenu':
                        var $0A = e.client.contextMenu();
                        if ($0A) {
                            $0A.show(e);
                        } else {
                            if ($e.contextMenu) {
                                $e.contextMenu.show(e);
                            }
                        };
                        break;
                }
            }
        };
        this.eventResizePostBack = function(e, $0E, $0F, $m) {
            this.$8A("PostBack", e, $0E, $0F, $m);
        };
        this.eventResizeCallBack = function(e, $0E, $0F, $m) {
            this.$8A("CallBack", e, $0E, $0F, $m);
        };
        this.$8A = function($K, e, $0E, $0F, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.newStart = $0E;
            $0C.newEnd = $0F;
            this.$8B($K, "EventResize", $0C, $m);
        };
        this.$8C = function(e, $0E, $0F) {
            if (this.eventResizeHandling === 'Disabled') {
                return;
            };
            $0F = $e.$8D($0F);
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.newStart = $0E;
                $h.newEnd = $0F;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventResize === 'function') {
                    $e.onEventResize($h);
                    if ($h.preventDefault.value) {
                        return;
                    };
                    $0E = $h.newStart;
                    $0F = $h.newEnd;
                };
                switch ($e.eventResizeHandling) {
                    case 'PostBack':
                        $e.eventResizePostBack(e, $0E, $0F);
                        break;
                    case 'CallBack':
                        $e.eventResizeCallBack(e, $0E, $0F);
                        break;
                    case 'Notify':
                        $e.eventResizeNotify(e, $0E, $0F);
                        break;
                    case 'Update':
                        e.start($0E);
                        e.end($0F);
                        $e.events.update(e);
                        break;
                };
                if (typeof $e.onEventResized === 'function') {
                    $e.onEventResized($h);
                }
            } else {
                switch ($e.eventResizeHandling) {
                    case 'PostBack':
                        $e.eventResizePostBack(e, $0E, $0F);
                        break;
                    case 'CallBack':
                        $e.eventResizeCallBack(e, $0E, $0F);
                        break;
                    case 'JavaScript':
                        $e.onEventResize(e, $0E, $0F);
                        break;
                    case 'Notify':
                        $e.eventResizeNotify(e, $0E, $0F);
                        break;
                    case 'Update':
                        e.start($0E);
                        e.end($0F);
                        $e.events.update(e);
                        break;
                }
            }
        };
        this.eventMovePostBack = function(e, $0E, $0F, $0G, $m, $0g) {
            this.$8E("PostBack", e, $0E, $0F, $0G, $m, $0g);
        };
        this.eventMoveCallBack = function(e, $0E, $0F, $0G, $m, $0g) {
            this.$8E("CallBack", e, $0E, $0F, $0G, $m, $0g);
        };
        this.$8E = function($K, e, $0E, $0F, $0G, $m, $0g) {
            var $0C = {};
            $0C.e = e;
            $0C.newStart = $0E;
            $0C.newEnd = $0F;
            $0C.newResource = $0G;
            $0C.position = $0g;
            this.$8B($K, "EventMove", $0C, $m);
        };
        this.$8B = function($K, $0H, $0C, $m) {
            if ($K === 'PostBack') {
                $e.$8q($0H, $0C, $m);
            } else if ($K === 'CallBack') {
                $e.$8r($0H, $0C, $m, "CallBack");
            } else if ($K === 'Immediate') {
                $e.$8r($0H, $0C, $m, "Notify");
            } else if ($K === 'Queue') {
                $e.queue.add(new DayPilot.Action(this, $0H, $0C, $m));
            } else if ($K === 'Notify') {
                if ($00.notifyType() === 'Notify') {
                    $e.$8r($0H, $0C, $m, "Notify");
                } else {
                    $e.queue.add(new DayPilot.Action($e, $0H, $0C, $m));
                }
            } else {
                throw "Invalid event invocation type";
            }
        };
        this.eventMoveNotify = function(e, $0E, $0F, $0G, $m, $0g) {
            var $0I = new DayPilot.Event(e.copy(), this);
            var $0J = $e.events.$8F(e.data);
            e.start($0E);
            e.end($0F);
            e.resource($0G);
            e.commit();
            $0J = $0J.concat($e.events.$8G(e.data));
            $e.$8H($0J);
            $e.$8I();
            $e.$8J($0J);
            this.$8E("Notify", $0I, $0E, $0F, $0G, $m, $0g);
        };
        this.eventResizeNotify = function(e, $0E, $0F, $m) {
            var $0I = new DayPilot.Event(e.copy(), this);
            var $0J = $e.events.$8F(e.data);
            e.start($0E);
            e.end($0F);
            e.commit();
            $0J = $0J.concat($e.events.$8G(e.data));
            $e.$8H($0J);
            $e.$8I();
            $e.$8J($0J);
            this.$8A("Notify", $0I, $0E, $0F, $m);
        };
        this.multiselect = {};
        this.multiselect.initList = [];
        this.multiselect.list = [];
        this.multiselect.divs = [];
        this.multiselect.previous = [];
        this.multiselect.$8K = function() {
            var m = $e.multiselect;
            return DayPilot.JSON.stringify(m.events());
        };
        this.multiselect.events = function() {
            var m = $e.multiselect;
            var $M = [];
            $M.ignoreToJSON = true;
            for (var i = 0; i < m.list.length; i++) {
                $M.push(m.list[i]);
            };
            return $M;
        };
        this.multiselect.$8L = function() {};
        this.multiselect.$8x = function($P, $0K, $0L) {
            var m = $e.multiselect;
            if (m.isSelected($P.event)) {
                if ($e.allowMultiSelect) {
                    if ($0K || $0L) {
                        m.remove($P.event, true);
                    } else {
                        var $08 = m.list.length;
                        m.clear();
                        if ($08 > 1) {
                            m.add($P.event, true);
                        }
                    }
                } else {
                    m.clear();
                }
            } else {
                if ($e.allowMultiSelect) {
                    if ($0K || $0L) {
                        m.add($P.event, true);
                    } else {
                        m.clear();
                        m.add($P.event, true);
                    }
                } else {
                    m.clear();
                    m.add($P.event, true);
                }
            };
            m.$8M($P);
            m.$8L();
        };
        this.multiselect.$8N = function(ev) {
            var m = $e.multiselect;
            return m.$8O(ev, m.initList);
        };
        this.multiselect.$8P = function() {
            var m = $e.multiselect;
            var $L = [];
            for (var i = 0; i < m.list.length; i++) {
                var event = m.list[i];
                $L.push(event.value());
            };
            alert($L.join("\n"));
        };
        this.multiselect.add = function(ev, $0M) {
            var m = $e.multiselect;
            if (m.indexOf(ev) === -1) {
                m.list.push(ev);
            };
            if ($0M) {
                return;
            };
            m.redraw();
        };
        this.multiselect.remove = function(ev, $0M) {
            var m = $e.multiselect;
            var i = m.indexOf(ev);
            if (i !== -1) {
                m.list.splice(i, 1);
            };
            if ($0M) {
                return;
            };
            m.redraw();
        };
        this.multiselect.clear = function($0M) {
            var m = $e.multiselect;
            m.list = [];
            if ($0M) {
                return;
            };
            m.redraw();
        };
        this.multiselect.redraw = function() {
            var m = $e.multiselect;
            for (var i = 0; i < $e.elements.events.length; i++) {
                var $P = $e.elements.events[i];
                if (!$P.event) {
                    continue;
                };
                if (!$P.event.isEvent) {
                    continue;
                };
                if (m.isSelected($P.event)) {
                    m.$8Q($P);
                } else {
                    m.$8R($P);
                }
            }
        };
        this.multiselect.$8S = function(ev) {
            var m = $e.multiselect;
            var $P = null;
            for (var i = 0; i < $e.elements.events.length; i++) {
                if (m.isSelected($e.elements.events[i].event)) {
                    $P = $e.elements.events[i];
                    break;
                }
            };
            m.$8M($P);
        };
        this.multiselect.$8M = function($P) {
            if (!$P) {
                return;
            };
            var m = $e.multiselect;
            if (m.isSelected($P.event)) {
                m.$8Q($P);
            } else {
                m.$8R($P);
            }
        };
        this.multiselect.$8Q = function($P) {
            var m = $e.multiselect;
            var cn = $e.cssOnly ? $e.$82("_selected") : $e.$82("selected");
            var $P = m.$8T($P);
            DayPilot.Util.addClass($P, cn);
            m.divs.push($P);
        };
        this.multiselect.$8T = function($P) {
            return $P;
        };
        this.multiselect.$8U = function() {
            var m = $e.multiselect;
            for (var i = 0; i < m.divs.length; i++) {
                var $P = m.divs[i];
                m.$8R($P, true);
            };
            m.divs = [];
        };
        this.multiselect.$8R = function($P, $0N) {
            var m = $e.multiselect;
            var cn = $e.cssOnly ? $e.$82("_selected") : $e.$82("selected");
            DayPilot.Util.removeClass($P, cn);
            if ($0N) {
                return;
            };
            var i = DayPilot.indexOf(m.divs, $P);
            if (i !== -1) {
                m.divs.splice(i, 1);
            }
        };
        this.multiselect.isSelected = function(ev) {
            if (!ev) {
                return false;
            };
            if (!ev.isEvent) {
                return false;
            };
            return $e.multiselect.$8O(ev, $e.multiselect.list);
        };
        this.multiselect.indexOf = function(ev) {
            var $m = ev.data;
            for (var i = 0; i < $e.multiselect.list.length; i++) {
                var $N = $e.multiselect.list[i];
                if ($N.data === $m) {
                    return i;
                }
            };
            return -1;
        };
        this.multiselect.$8O = function(e, $L) {
            if (!$L) {
                return false;
            };
            for (var i = 0; i < $L.length; i++) {
                var ei = $L[i];
                if (e === ei) {
                    return true;
                };
                if (typeof ei.id === 'function') {
                    if (ei.id() !== null && e.id() !== null && ei.id() === e.id()) {
                        return true;
                    };
                    if (ei.id() === null && e.id() === null && ei.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === ei.start().toStringSortable()) {
                        return true;
                    }
                } else {
                    if (ei.id !== null && e.id() !== null && ei.id === e.id()) {
                        return true;
                    };
                    if (ei.id === null && e.id() === null && ei.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === ei.start) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.$8M = function($h) {
            var $h = $h || {};
            var $0O = !$h.eventsOnly;
            if ($0O) {
                if (!this.$8d()) {
                    $e.timeHeader = null;
                    $e.cellProperties = {};
                };
                $e.$7t();
                $e.$7u();
                if (!$h || !$h.dontLoadResources) {
                    $e.$7v();
                }
            };
            this.$7x();
            if ($0O) {
                $e.$8V();
                $e.$7y();
                $e.$7z();
            };
            $e.$7A();
            $e.$7C();
            $e.$8W();
            $e.$7D();
            $0P.hideLinkpoints();
            this.$7G();
            this.$7H();
            this.$7F();
            this.$7r();
            this.$7w();
            this.$7I();
            this.$7J();
            $e.$7E();
            if ($h.immediateEvents || $h.eventsOnly) {
                $e.$7K();
            } else {
                setTimeout(function() {
                    $e.$7K();
                }, 100);
            };
            if (DayPilot.isArray($e.multiselect.list) && $e.multiselect.list.length > 0) {
                this.multiselect.redraw();
            };
            if (this.visible) {
                this.show();
            } else {
                this.hide();
            };
            this.$7O();
            this.$7S();
        };
        this.update = function() {
            this.$8M({
                "immediateEvents": true
            });
        };
        this.$8J = function($0J, $0Q, $0R) {
            $0J = DayPilot.ua($0J);
            for (var i = 0; i < $0J.length; i++) {
                var ri = $0J[i];
                $e.$8X(ri);
            };
            if (this.$8Y) {
                this.$7A();
                this.$7C();
                this.$7F();
                this.$7H();
                for (var i = 0; i < $0J.length; i++) {
                    var ri = $0J[i];
                    this.$8Z(ri);
                };
                for (var i = 0; i < $0J.length; i++) {
                    var ri = $0J[i];
                    this.$90(ri);
                };
                this.$7I();
                this.$7J();
                this.$91();
            } else {
                var $0S = true;
                if ($0S) {
                    var $0T = function(i) {
                        if (i >= $0J.length) {
                            return;
                        };
                        var ri = $0J[i];
                        if (!$0Q) {
                            $e.$8Z(ri);
                        };
                        $e.$90(ri);
                        if (i + 1 < $0J.length) {
                            setTimeout(function() {
                                $0T(i + 1);
                            }, 10);
                        } else {
                            $e.$7Y();
                            $0P.load();
                            $e.multiselect.redraw();
                            if ($0R) {
                                $0R();
                            }
                        }
                    };
                    $0T(0);
                } else {
                    for (var i = 0; i < $0J.length; i++) {
                        var ri = $0J[i];
                        if (!$0Q) {
                            this.$8Z(ri);
                        };
                        this.$90(ri);
                    }
                }
            };
            $e.$7Y();
            $0P.load();
            $e.multiselect.redraw();
            if ($0R) {
                $0R();
            };
            this.$7r();
        };
        this.$8D = function($q) {
            if ($e.eventEndSpec === "DateTime") {
                return $q;
            };
            if ($q.getDatePart().ticks === $q.ticks) {
                return $q.addDays(-1);
            };
            return $q.getDatePart();
        };
        this.$92 = function($q) {
            if ($e.eventEndSpec === "DateTime") {
                return $q;
            };
            return $q.getDatePart().addDays(1);
        };
        this.$93 = function($q) {
            if ($e.eventEndSpec === "DateTime") {
                return $q;
            };
            return $q.getDatePart();
        };
        this.$94 = function(e, $0E, $0F, $0G, external, ev, $0g) {
            if ($e.eventMoveHandling === 'Disabled') {
                return;
            };
            $0F = $e.$8D($0F);
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.newStart = $0E;
                $h.newEnd = $0F;
                $h.newResource = $0G;
                $h.external = external;
                $h.ctrl = false;
                $h.meta = false;
                $h.shift = false;
                if (ev) {
                    $h.shift = ev.shiftKey;
                    $h.ctrl = ev.ctrlKey;
                    $h.meta = ev.metaKey;
                };
                $h.position = $0g;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventMove === 'function') {
                    $e.onEventMove($h);
                    if ($h.preventDefault.value) {
                        return;
                    };
                    $0E = $h.newStart;
                    $0F = $h.newEnd;
                };
                switch ($e.eventMoveHandling) {
                    case 'PostBack':
                        $e.eventMovePostBack(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'CallBack':
                        $e.eventMoveCallBack(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'Notify':
                        $e.eventMoveNotify(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'Update':
                        e.start($0E);
                        e.end($0F);
                        e.resource($0G);
                        if (external) {
                            e.commit();
                            $e.events.add(e);
                        } else {
                            $e.events.update(e);
                        };
                        $e.$7m();
                        break;
                };
                if (typeof $e.onEventMoved === 'function') {
                    $e.onEventMoved($h);
                }
            } else {
                switch ($e.eventMoveHandling) {
                    case 'PostBack':
                        $e.eventMovePostBack(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'CallBack':
                        $e.eventMoveCallBack(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'JavaScript':
                        $e.onEventMove(e, $0E, $0F, $0G, external, ev ? ev.ctrlKey : false, ev ? ev.shiftKey : false, $0g);
                        break;
                    case 'Notify':
                        $e.eventMoveNotify(e, $0E, $0F, $0G, null, $0g);
                        break;
                    case 'Update':
                        e.start($0E);
                        e.end($0F);
                        e.resource($0G);
                        $e.events.update(e);
                        break;
                }
            }
        };
        this.$95 = function($h, $j) {
            var $i = $e.$96($j);
            var $0C = {};
            $0C.args = $h;
            $0C.guid = $i;
            $e.$8r("Bubble", $0C);
        };
        this.$96 = function($j) {
            var $i = DayPilot.guid();
            if (!this.bubbles) {
                this.bubbles = [];
            };
            this.bubbles[$i] = $j;
            return $i;
        };
        this.eventMenuClickPostBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.command = $0U;
            this.$8q('EventMenuClick', $0C, $m);
        };
        this.eventMenuClickCallBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.command = $0U;
            this.$8r('EventMenuClick', $0C, $m);
        };
        this.$97 = function($0U, e, $0V) {
            switch ($0V) {
                case 'PostBack':
                    $e.eventMenuClickPostBack(e, $0U);
                    break;
                case 'CallBack':
                    $e.eventMenuClickCallBack(e, $0U);
                    break;
            }
        };
        this.timeRangeSelectedPostBack = function($E, end, $0W, $m) {
            var $0X = {};
            $0X.start = $E;
            $0X.end = end;
            $0X.resource = $0W;
            this.$8q('TimeRangeSelected', $0X, $m);
        };
        this.timeRangeSelectedCallBack = function($E, end, $0W, $m) {
            var $0X = {};
            $0X.start = $E;
            $0X.end = end;
            $0X.resource = $0W;
            this.$8r('TimeRangeSelected', $0X, $m);
        };
        this.$98 = function($E, end, $0W) {
            if ($e.timeRangeSelectedHandling === 'Disabled') {
                return;
            };
            var $0Y = end;
            end = $e.$8D(end);
            if ($e.$7P()) {
                var $h = {};
                $h.start = $E;
                $h.end = end;
                $h.resource = $0W;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onTimeRangeSelect === 'function') {
                    $e.onTimeRangeSelect($h);
                    if ($h.preventDefault.value) {
                        return;
                    };
                    $E = $h.start;
                    end = $h.end;
                };
                (function updateRange() {
                    var $0X = DayPilotScheduler.rangeHold;
                    var $0s, $I;
                    if ($E.getTime() < $e.itline[0].start.getTime()) {
                        $0X.start.x = 0;
                    } else {
                        $0s = $e.$8n($E);
                        $I = $0s.current || $0s.previous;
                        $0X.start.x = DayPilot.indexOf($e.itline, $I);
                    };
                    $0s = $e.$8n($0Y.addMilliseconds(-1));
                    if ($0s.past) {
                        $0X.end.x = $e.itline.length - 1;
                    } else {
                        $I = $0s.current || $0s.next;
                        $0X.end.x = DayPilot.indexOf($e.itline, $I);
                    };
                    $e.$99($0X);
                })();
                switch ($e.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $e.timeRangeSelectedPostBack($E, end, $0W);
                        break;
                    case 'CallBack':
                        $e.timeRangeSelectedCallBack($E, end, $0W);
                        break;
                };
                if (typeof $e.onTimeRangeSelected === 'function') {
                    $e.onTimeRangeSelected($h);
                }
            } else {
                switch ($e.timeRangeSelectedHandling) {
                    case 'PostBack':
                        $e.timeRangeSelectedPostBack($E, end, $0W);
                        break;
                    case 'CallBack':
                        $e.timeRangeSelectedCallBack($E, end, $0W);
                        break;
                    case 'JavaScript':
                        $e.onTimeRangeSelected($E, end, $0W);
                        break;
                    case 'Hold':
                        break;
                }
            }
        };
        this.timeRangeDoubleClickPostBack = function($E, end, $0W, $m) {
            var $0X = {};
            $0X.start = $E;
            $0X.end = end;
            $0X.resource = $0W;
            this.$8q('TimeRangeDoubleClick', $0X, $m);
        };
        this.timeRangeDoubleClickCallBack = function($E, end, $0W, $m) {
            var $0X = {};
            $0X.start = $E;
            $0X.end = end;
            $0X.resource = $0W;
            this.$8r('TimeRangeDoubleClick', $0X, $m);
        };
        this.$9a = function($E, end, $0W) {
            end = $e.$8D(end);
            if ($e.$7P()) {
                var $h = {};
                $h.start = $E;
                $h.end = end;
                $h.resource = $0W;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onTimeRangeDoubleClick === 'function') {
                    $e.onTimeRangeDoubleClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $e.timeRangeDoubleClickPostBack($E, end, $0W);
                        break;
                    case 'CallBack':
                        $e.timeRangeDoubleClickCallBack($E, end, $0W);
                        break;
                };
                if (typeof $e.onTimeRangeDoubleClicked === 'function') {
                    $e.onTimeRangeDoubleClicked($h);
                }
            } else {
                switch ($e.timeRangeDoubleClickHandling) {
                    case 'PostBack':
                        $e.timeRangeDoubleClickPostBack($E, end, $0W);
                        break;
                    case 'CallBack':
                        $e.timeRangeDoubleClickCallBack($E, end, $0W);
                        break;
                    case 'JavaScript':
                        $e.onTimeRangeDoubleClick($E, end, $0W);
                        break;
                }
            }
        };
        this.timeRangeMenuClickPostBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.selection = e;
            $0C.command = $0U;
            this.$8q("TimeRangeMenuClick", $0C, $m);
        };
        this.timeRangeMenuClickCallBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.selection = e;
            $0C.command = $0U;
            this.$8r("TimeRangeMenuClick", $0C, $m);
        };
        this.$9b = function($0U, e, $0V) {
            switch ($0V) {
                case 'PostBack':
                    $e.timeRangeMenuClickPostBack(e, $0U);
                    break;
                case 'CallBack':
                    $e.timeRangeMenuClickCallBack(e, $0U);
                    break;
            }
        };
        this.linkMenuClickPostBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.link = e;
            $0C.command = $0U;
            this.$8q("LinkMenuClick", $0C, $m);
        };
        this.linkMenuClickCallBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.link = e;
            $0C.command = $0U;
            this.$8r("LinkMenuClick", $0C, $m);
        };
        this.$9c = function($0U, e, $0V) {
            switch ($0V) {
                case 'PostBack':
                    $e.linkMenuClickPostBack(e, $0U);
                    break;
                case 'CallBack':
                    $e.linkMenuClickCallBack(e, $0U);
                    break;
            }
        };
        this.rowMenuClickPostBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.resource = e;
            $0C.command = $0U;
            this.$8q("RowMenuClick", $0C, $m);
        };
        this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack;
        this.rowMenuClickCallBack = function(e, $0U, $m) {
            var $0C = {};
            $0C.resource = e;
            $0C.command = $0U;
            this.$8r("RowMenuClick", $0C, $m);
        };
        this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack;
        this.$9d = function($0U, e, $0V) {
            switch ($0V) {
                case 'PostBack':
                    $e.rowMenuClickPostBack(e, $0U);
                    break;
                case 'CallBack':
                    $e.rowMenuClickCallBack(e, $0U);
                    break;
            }
        };
        this.$9e = function($C, $0Z) {
            var r = $10.$9f($C);
            var c = r.cells[0];
            var $11 = c.textDiv;
            $11.innerHTML = $0Z;
            $C.Text = $0Z;
            $C.html = $0Z;
        };
        this.$9g = function($C, $0Z) {
            if (!$0Z) {
                return;
            };
            var $h = {};
            $h.text = $0Z;
            $h.preventDefault = function() {
                this.preventDefault.value = true;
            };
            if (typeof $e.onRowCreate === "function") {
                $e.onRowCreate($h);
                if ($h.preventDefault.value) {
                    return;
                }
            };
            switch ($e.rowCreateHandling) {
                case "CallBack":
                    $e.rowCreateCallBack($h.text);
                    break;
                case "PostBack":
                    $e.rowCreatePostBack($h.text);
                    break;
            };
            if (typeof $e.onRowCreated === "function") {
                $e.onRowCreated($h);
            }
        };
        this.$9h = function($C, $0Z) {
            if ($C.isNewRow) {
                $e.$9g($C, $0Z);
                return;
            };
            var $12 = DayPilot.indexOf($e.rowlist, $C);
            var e = $e.$9i($C, $12);
            if ($e.$7P()) {
                var $h = {};
                $h.resource = e;
                $h.newText = $0Z;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onRowEdit === 'function') {
                    $e.onRowEdit($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.rowEditHandling) {
                    case 'PostBack':
                        $e.rowEditPostBack(e, $0Z);
                        break;
                    case 'CallBack':
                        $e.rowEditCallBack(e, $0Z);
                        break;
                    case 'Update':
                        $e.$9e($C, $0Z);
                        break;
                };
                if (typeof $e.onRowEdited === 'function') {
                    $e.onRowEdited($h);
                }
            } else {
                switch ($e.rowEditHandling) {
                    case 'PostBack':
                        $e.rowEditPostBack(e, $0Z);
                        break;
                    case 'CallBack':
                        $e.rowEditCallBack(e, $0Z);
                        break;
                    case 'JavaScript':
                        $e.onrowEdit(e, $0Z);
                        break;
                }
            }
        };
        this.rowCreatePostBack = function($0Z, $m) {
            var $0C = {};
            $0C.text = $0Z;
            this.$8q("RowCreate", $0C, $m);
        };
        this.rowCreateCallBack = function($0Z, $m) {
            var $0C = {};
            $0C.text = $0Z;
            this.$8r("RowCreate", $0C, $m);
        };
        this.rowEditPostBack = function(e, $0Z, $m) {
            var $0C = {};
            $0C.resource = e;
            $0C.newText = $0Z;
            this.$8q("RowEdit", $0C, $m);
        };
        this.rowEditCallBack = function(e, $0Z, $m) {
            var $0C = {};
            $0C.resource = e;
            $0C.newText = $0Z;
            this.$8r("RowEdit", $0C, $m);
        };
        this.rowMovePostBack = function($13, $14, $s, $m) {
            var $0C = {};
            $0C.source = $13;
            $0C.target = $14;
            $0C.position = $s;
            this.$8q("RowMove", $0C, $m);
        };
        this.rowMoveCallBack = function($13, $14, $s, $m) {
            var $0C = {};
            $0C.source = $13;
            $0C.target = $14;
            $0C.position = $s;
            this.$8r("RowMove", $0C, $m);
        };
        this.rowMoveNotify = function($13, $14, $s, $m) {
            var $0C = {};
            $0C.source = $13;
            $0C.target = $14;
            $0C.position = $s;
            this.$8r("RowMove", $0C, $m, "Notify");
        };
        this.rowClickPostBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8q("RowClick", $0C, $m);
        };
        this.resourceHeaderClickPostBack = this.rowClickPostBack;
        this.rowClickCallBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8r("RowClick", $0C, $m);
        };
        this.resourceHeaderClickCallBack = this.rowClickCallBack;
        this.$9j = function(e, $0K, $15, $0L) {
            if ($e.rowDoubleClickHandling === "Disabled") {
                $e.$9k(e, $0K, $15, $0L);
                return;
            };
            if (!$e.timeouts.resClick) {
                $e.timeouts.resClick = [];
            };
            var $16 = function(e, $0K, $15, $0L) {
                return function() {
                    $e.$9k(e, $0K, $15, $0L);
                };
            };
            $e.timeouts.resClick.push(window.setTimeout($16(e, $0K, $15, $0L), $e.doubleClickTimeout));
        };
        this.$9k = function(e, $0K, $15, $0L) {
            var $17 = $e.resourceHeaderClickHandling || $e.rowClickHandling;
            if ($e.$7P()) {
                var $h = {};
                $h.resource = e;
                $h.row = e;
                $h.ctrl = $0K;
                $h.shift = $15;
                $h.meta = $0L;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onRowClick === 'function') {
                    $e.onRowClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                if (typeof $e.onResourceHeaderClick === 'function') {
                    $e.onResourceHeaderClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($17) {
                    case 'PostBack':
                        $e.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.rowClickCallBack(e);
                        break;
                    case 'Select':
                        $e.$9l(e.$.row, $0K, $15, $0L);
                        break;
                    case 'Edit':
                        $e.$9m.edit(e.$.row);
                        break;
                };
                if (typeof $e.onRowClicked === 'function') {
                    $e.onRowClicked($h);
                };
                if (typeof $e.onResourceHeaderClicked === 'function') {
                    $e.onResourceHeaderClicked($h);
                }
            } else {
                switch ($17) {
                    case 'PostBack':
                        $e.rowClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.rowClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onRowClick(e);
                        break;
                    case 'Select':
                        $e.$9l(e.$.row, $0K, $15);
                        break;
                    case 'Edit':
                        $e.$9m.edit(e.$.row);
                        break;
                }
            }
        };
        this.timeHeaderClickPostBack = function(e, $m) {
            var $0C = {};
            $0C.header = e;
            this.$8q("TimeHeaderClick", $0C, $m);
        };
        this.timeHeaderClickCallBack = function(e, $m) {
            var $0C = {};
            $0C.header = e;
            this.$8r("TimeHeaderClick", $0C, $m);
        };
        this.$9n = function(e) {
            if ($e.$7P()) {
                var $h = {};
                $h.header = e;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onTimeHeaderClick === 'function') {
                    $e.onTimeHeaderClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $e.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.timeHeaderClickCallBack(e);
                        break;
                };
                if (typeof $e.onTimeHeaderClicked === 'function') {
                    $e.onTimeHeaderClicked($h);
                }
            } else {
                switch (this.timeHeaderClickHandling) {
                    case 'PostBack':
                        $e.timeHeaderClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.timeHeaderClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onTimeHeaderClick(e);
                        break;
                }
            }
        };
        this.resourceCollapsePostBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8q("ResourceCollapse", $0C, $m);
        };
        this.resourceCollapseCallBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8r("ResourceCollapse", $0C, $m);
        };
        this.$9o = function(e) {
            if ($e.$7P()) {
                var $h = {};
                $h.resource = e;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onResourceCollapse === 'function') {
                    $e.onResourceCollapse($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $e.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $e.resourceCollapseCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceCollapseHandling) {
                    case 'PostBack':
                        $e.resourceCollapsePostBack(e);
                        break;
                    case 'CallBack':
                        $e.resourceCollapseCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onResourceCollapse(e);
                        break;
                }
            }
        };
        this.resourceExpandPostBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8q("ResourceExpand", $0C, $m);
        };
        this.resourceExpandCallBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8r("ResourceExpand", $0C, $m);
        };
        this.$9p = function(e) {
            if ($e.$7P()) {
                var $h = {};
                $h.resource = e;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onResourceExpand === 'function') {
                    $e.onResourceExpand($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $e.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $e.resourceExpandCallBack(e);
                        break;
                }
            } else {
                switch (this.resourceExpandHandling) {
                    case 'PostBack':
                        $e.resourceExpandPostBack(e);
                        break;
                    case 'CallBack':
                        $e.resourceExpandCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onResourceExpand(e);
                        break;
                }
            }
        };
        this.eventEditPostBack = function(e, $0Z, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.newText = $0Z;
            this.$8q("EventEdit", $0C, $m);
        };
        this.eventEditCallBack = function(e, $0Z, $m) {
            var $0C = {};
            $0C.e = e;
            $0C.newText = $0Z;
            this.$8r("EventEdit", $0C, $m);
        };
        this.$9q = function(e, $0Z) {
            if ($e.$7P()) {
                var $h = {};
                $h.e = e;
                $h.newText = $0Z;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onEventEdit === 'function') {
                    $e.onEventEdit($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.eventEditHandling) {
                    case 'PostBack':
                        $e.eventEditPostBack(e, $0Z);
                        break;
                    case 'CallBack':
                        $e.eventEditCallBack(e, $0Z);
                        break;
                    case 'Update':
                        e.text($0Z);
                        $e.events.update(e);
                        break;
                };
                if (typeof $e.onEventEdited === 'function') {
                    $e.onEventEdited($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                }
            } else {
                switch ($e.eventEditHandling) {
                    case 'PostBack':
                        $e.eventEditPostBack(e, $0Z);
                        break;
                    case 'CallBack':
                        $e.eventEditCallBack(e, $0Z);
                        break;
                    case 'JavaScript':
                        $e.onEventEdit(e, $0Z);
                        break;
                }
            }
        };
        this.commandCallBack = function($0U, $m) {
            this.$9r("CallBack", $0U, $m);
        };
        this.commandPostBack = function($0U, $m) {
            this.$9r("PostBack", $0U, $m);
        };
        this.$9r = function($K, $0U, $m) {
            var $0C = {};
            $0C.command = $0U;
            this.$8B($K, "Command", $0C, $m);
        };
        this.$8q = function($0H, $18, $m) {
            var $19 = {};
            $19.action = $0H;
            $19.type = "PostBack";
            $19.parameters = $18;
            $19.data = $m;
            $19.header = this.$9s();
            var $1a = "JSON" + DayPilot.JSON.stringify($19);
            __doPostBack($e.uniqueID, $1a);
        };
        this.$8r = function($0H, $18, $m, $K) {
            if (!$e.$8d()) {
                $e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                return;
            };
            if (typeof $K === 'undefined') {
                $K = "CallBack";
            };
            this.$9t();
            $e.$9u();
            var $19 = {};
            $19.action = $0H;
            $19.type = $K;
            $19.parameters = $18;
            $19.data = $m;
            $19.header = this.$9s();
            var $1b = DayPilot.JSON.stringify($19);
            var $1a;
            if (typeof Iuppiter !== 'undefined' && Iuppiter.compress) {
                $1a = "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress($1b));
            } else {
                $1a = "JSON" + $1b;
            };
            this.$9v($19);
            var $g = null;
            if (this.backendUrl) {
                DayPilot.request(this.backendUrl, this.$9w, $1a, this.$9x);
            } else if (typeof WebForm_DoCallback === 'function') {
                WebForm_DoCallback(this.uniqueID, $1a, this.$7l, $g, this.callbackError, true);
            }
        };
        this.$9v = function($19) {
            var $h = {};
            if (typeof $e.onCallBackStart === 'function') {
                $e.onCallBackStart($h);
            }
        };
        this.$7q = function() {
            var $h = {};
            if (typeof $e.onCallBackEnd === 'function') {
                setTimeout(function() {
                    $e.onCallBackEnd($h);
                }, 0);
            }
        };
        this.$8d = function() {
            if (this.backendUrl) {
                return true;
            };
            if (this.$9y()) {
                return true;
            };
            return false;
        };
        this.$9y = function() {
            if (typeof WebForm_DoCallback === 'function' && this.uniqueID) {
                return true;
            };
            return false;
        };
        this.$9x = function($1c) {
            if (typeof $e.onAjaxError === 'function') {
                var $h = {};
                $h.request = $1c;
                $e.onAjaxError($h);
            } else if (typeof $e.ajaxError === 'function') {
                $e.ajaxError($1c);
            }
        };
        this.$9w = function($1d) {
            $e.$7l($1d.responseText);
        };
        this.$9s = function() {
            var h = {};
            h.v = this.v;
            h.control = "dps";
            h.id = this.id;
            h.startDate = $e.startDate;
            h.days = $e.days;
            h.cellDuration = $e.cellDuration;
            h.cellGroupBy = $e.cellGroupBy;
            h.cellWidth = $e.cellWidth;
            h.cellWidthSpec = $e.cellWidthSpec;
            h.viewType = $e.viewType;
            h.hourNameBackColor = $e.hourNameBackColor;
            h.showNonBusiness = $e.showNonBusiness;
            h.businessBeginsHour = $e.businessBeginsHour;
            h.businessEndsHour = $e.businessEndsHour;
            h.weekStarts = $e.weekStarts;
            h.treeEnabled = $e.treeEnabled;
            h.backColor = $e.cellBackColor;
            h.nonBusinessBackColor = $e.cellBackColorNonBusiness;
            h.locale = $e.locale;
            h.timeZone = $e.timeZone;
            h.tagFields = $e.tagFields;
            h.timeHeaders = $e.timeHeaders;
            h.cssOnly = $e.cssOnly;
            h.cssClassPrefix = $e.cssClassPrefix;
            h.durationBarMode = $e.durationBarMode;
            h.showBaseTimeHeader = true;
            h.rowHeaderColumns = $e.rowHeaderColumns;
            h.rowMarginBottom = $e.rowMarginBottom;
            h.rowMarginTop = $e.rowMarginTop;
            h.rowMinHeight = $e.rowMinHeight;
            h.scale = $e.scale;
            h.clientState = $e.clientState;
            if (this.nav.scroll) {
                h.scrollX = this.nav.scroll.scrollLeft;
                h.scrollY = this.nav.scroll.scrollTop;
            };
            h.selected = $e.multiselect.events();
            h.selectedRows = $10.$9z();
            h.hashes = $e.hashes;
            var $D = $e.$9A(h.scrollX, h.scrollY);
            var $0X = $e.$9B($D);
            var $1e = $e.$9C($D);
            h.rangeStart = $0X.start;
            h.rangeEnd = $0X.end;
            h.resources = $1e;
            h.dynamicLoading = $e.dynamicLoading;
            if (this.syncResourceTree) {
                h.tree = this.$9D();
            };
            if (this.syncLinks) {
                h.links = this.$9E();
            };
            if (typeof $e.onCallBackHeader === "function") {
                var $h = {};
                $h.header = h;
                $e.onCallBackHeader($h);
            };
            return h;
        };
        this.$9E = function() {
            var $L = [];
            var $1f = function(link) {
                var $f = {};
                if (link.tags) {
                    for (var name in link.tags) {
                        $f[name] = "" + link.tags[name];
                    }
                };
                return $f;
            };
            if (!DayPilot.isArray($e.links.list)) {
                return $L;
            };
            for (var i = 0; i < $e.links.list.length; i++) {
                var link = $e.links.list[i];
                var $1b = {};
                $1b.id = link.id;
                $1b.from = link.from;
                $1b.to = link.to;
                $1b.type = link.type;
                $1b.tags = $1f(link);
                $L.push($1b);
            };
            return $L;
        };
        this.getViewPort = function() {
            var scrollX = this.nav.scroll.scrollLeft;
            var scrollY = this.nav.scroll.scrollTop;
            var $D = this.$9A(scrollX, scrollY);
            var $0X = this.$9B($D);
            var $1g = this.$9C($D);
            var $f = {};
            $f.start = $0X.start;
            $f.end = $0X.end;
            $f.resources = $1g;
            return $f;
        };
        this.$9A = function(scrollX, scrollY) {
            var $D = {};
            $D.start = {};
            $D.end = {};
            $D.start.x = Math.floor(scrollX / $e.cellWidth);
            $D.end.x = Math.floor((scrollX + $e.nav.scroll.clientWidth) / $e.cellWidth);
            $D.start.y = $e.$9F(scrollY).i;
            $D.end.y = $e.$9F(scrollY + $e.nav.scroll.clientHeight).i;
            var $1h = this.itline.length;
            if ($D.end.x >= $1h) {
                $D.end.x = $1h - 1;
            };
            return $D;
        };
        this.$9B = function($D) {
            var $f = {};
            if (this.itline.length <= 0) {
                $f.start = this.startDate;
                $f.end = this.startDate;
                return $f;
            };
            if (!this.itline[$D.start.x]) {
                throw 'Internal error: area.start.x is null.';
            };
            $f.start = this.itline[$D.start.x].start;
            $f.end = this.itline[$D.end.x].end;
            return $f;
        };
        this.$9C = function($D) {
            if (!$D) {
                var $D = this.$9A(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
            };
            var $1e = [];
            $1e.ignoreToJSON = true;
            for (var i = $D.start.y; i <= $D.end.y; i++) {
                var r = $e.rowlist[i];
                if (r && !r.hidden) {
                    $1e.push(r.id);
                }
            };
            return $1e;
        };
        this.$9D = function() {
            var $1i = [];
            $1i.ignoreToJSON = true;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                if ($C.level > 0) {
                    continue;
                };
                if ($C.isNewRow) {
                    continue;
                };
                var $1j = this.$9G(i);
                $1i.push($1j);
            };
            return $1i;
        };
        this.$9H = function($1k) {
            var $1l = [];
            $1l.ignoreToJSON = true;
            for (var i = 0; i < $1k.length; i++) {
                var $12 = $1k[i];
                var $C = $e.rowlist[$12];
                if ($C.isNewRow) {
                    continue;
                };
                $1l.push($e.$9G($12));
            };
            return $1l;
        };
        this.$9G = function(i) {
            var $C = this.rowlist[i];
            if (typeof $e.onGetNodeState === "function") {
                var $h = {};
                $h.row = $C;
                $h.preventDefault = function() {
                    $h.preventDefault.value = true;
                };
                $h.result = {};
                $e.onGetNodeState($h);
                if ($h.preventDefault.value) {
                    return $h.result;
                }
            };
            var $1j = {};
            $1j.Value = $C.id;
            $1j.BackColor = $C.backColor;
            $1j.Name = $C.name;
            $1j.InnerHTML = $C.html;
            $1j.ToolTip = $C.toolTip;
            $1j.Expanded = $C.expanded;
            $1j.Children = this.$9H($C.children);
            $1j.Loaded = $C.loaded;
            $1j.IsParent = $C.isParent;
            $1j.Columns = this.$9I($C);
            if ($C.minHeight !== $e.rowMinHeight) {
                $1j.MinHeight = $C.minHeight;
            };
            if ($C.marginBottom !== $e.rowMarginBottom) {
                $1j.MarginBottom = $C.marginBottom;
            };
            if ($C.marginTop !== $e.rowMarginTop) {
                $1j.MarginTop = $C.marginTop;
            };
            if ($C.eventHeight !== $e.eventHeight) {
                $1j.EventHeight = $C.eventHeight;
            };
            return $1j;
        };
        this.$9I = function($C) {
            if (!$C.columns || $C.columns.length === 0) {
                return null;
            };
            var $1m = [];
            $1m.ignoreToJSON = true;
            for (var i = 0; i < $C.columns.length; i++) {
                var c = {};
                c.InnerHTML = $C.columns[i].html;
                $1m.push(c);
            };
            return $1m;
        };
        this.$82 = function($1n) {
            var $1o = this.theme || this.cssClassPrefix;
            if ($1o) {
                return $1o + $1n;
            } else {
                return "";
            }
        };
        this.$9J = function() {
            this.nav.top.dispose = this.dispose;
        };
        this.dispose = function() {
            var c = $e;
            if (!c.nav.top) {
                return;
            };
            c.$9t();
            c.$7G();
            c.divBreaks = null;
            c.divCells = null;
            c.divCorner = null;
            c.divCrosshair = null;
            c.divEvents = null;
            if (c.divHeader) {
                c.divHeader.rows = null;
            };
            c.divHeader = null;
            c.divLines = null;
            c.divNorth = null;
            c.divRange = null;
            c.divResScroll = null;
            c.divSeparators = null;
            c.divSeparatorsAbove = null;
            c.divStretch = null;
            c.divTimeScroll = null;
            c.$89 = null;
            c.$7s = null;
            c.$7Q.calendar = null;
            c.$7Q = null;
            c.nav.loading = null;
            c.nav.top.onmousemove = null;
            c.nav.top.dispose = null;
            c.nav.top.ontouchstart = null;
            c.nav.top.ontouchmove = null;
            c.nav.top.ontouchend = null;
            c.nav.top.removeAttribute('style');
            c.nav.top.removeAttribute('class');
            c.nav.top.innerHTML = "";
            c.nav.top.dp = null;
            c.nav.top = null;
            c.nav.scroll.onscroll = null;
            c.nav.scroll.root = null;
            c.nav.scroll = null;
            DayPilot.ue(window, 'resize', c.$9K);
            DayPilotScheduler.unregister(c);
        };
        this.$9L = function($1p, $K) {
            var $1q = $e.$7Q;
            var $1r = $e.$9M($1p);
            var event = $1p.event;
            var $04 = event.part.height || $e.$9N.eventHeight();
            var top = (event.part && event.part.top) ? (event.part.top + $e.rowlist[event.part.dayIndex].top) : $1r.top;
            var $1s = document.createElement('div');
            $1s.setAttribute('unselectable', 'on');
            $1s.style.position = 'absolute';
            $1s.style.width = ($1r.width) + 'px';
            $1s.style.height = $04 + 'px';
            $1s.style.left = $1r.left + 'px';
            $1s.style.top = top + 'px';
            $1s.style.zIndex = 101;
            $1s.style.overflow = 'hidden';
            var $S = document.createElement("div");
            $1s.appendChild($S);
            if (this.cssOnly) {
                $1s.className = this.$82("_shadow");
                $S.className = this.$82("_shadow_inner");
            };
            if (!this.cssOnly) {
                if ($K === 'Fill') {
                    $S.style.backgroundColor = "#aaaaaa";
                    $S.style.opacity = 0.5;
                    $S.style.filter = "alpha(opacity=50)";
                    $S.style.height = "100%";
                    if ($1p && $1p.event && $1p.style) {
                        $S.style.fontSize = $1p.style.fontSize;
                        $S.style.fontFamily = $1p.style.fontFamily;
                        $S.style.color = $1p.style.color;
                        $S.innerHTML = $1p.event.client.innerHTML();
                    }
                } else {
                    $1s.style.paddingTop = "2px";
                    $S.style.border = '2px dotted #666666';
                }
            };
            $1q.appendChild($1s);
            $1s.calendar = $e;
            return $1s;
        };
        this.$9O = function($1p, $K) {
            var $1q = $e.$7Q;
            var $1r = $e.$9M($1p);
            var event = $1p.event;
            var ev = event;
            var $04 = event.part.height || $e.$9N.eventHeight();
            var top = (event.part && event.part.top) ? (event.part.top + $e.rowlist[event.part.dayIndex].top) : $1r.top;
            var $G = $1r.left;
            var $1t = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $1u = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            if (!$1t && DayPilotScheduler.moving) {
                top = $e.rowlist[ev.part.dayIndex].top;
            };
            if (!$1u && DayPilotScheduler.moving) {
                $G = event.part.left;
            };
            var $1s = document.createElement('div');
            $1s.setAttribute('unselectable', 'on');
            $1s.style.position = 'absolute';
            $1s.style.width = ($1r.width) + 'px';
            $1s.style.height = $04 + 'px';
            $1s.style.left = $G + 'px';
            $1s.style.top = top + 'px';
            $1s.style.zIndex = 101;
            $1s.style.overflow = 'hidden';
            var $S = document.createElement("div");
            $1s.appendChild($S);
            if (this.cssOnly) {
                $1s.className = this.$82("_shadow");
                $S.className = this.$82("_shadow_inner");
            };
            if (!this.cssOnly) {
                if ($K === 'Fill') {
                    $S.style.backgroundColor = "#aaaaaa";
                    $S.style.opacity = 0.5;
                    $S.style.filter = "alpha(opacity=50)";
                    $S.style.height = "100%";
                    if ($1p && $1p.event && $1p.style) {
                        $S.style.fontSize = $1p.style.fontSize;
                        $S.style.fontFamily = $1p.style.fontFamily;
                        $S.style.color = $1p.style.color;
                        $S.innerHTML = $1p.event.client.innerHTML();
                    }
                } else {
                    $1s.style.paddingTop = "2px";
                    $S.style.border = '2px dotted #666666';
                }
            };
            $1q.appendChild($1s);
            $1s.calendar = $e;
            return $1s;
        };
        this.$9F = function(y) {
            var $f = {};
            var element;
            var top = 0;
            var $1v = 0;
            var $1w = this.rowlist.length;
            for (var i = 0; i < $1w; i++) {
                var $C = this.rowlist[i];
                if ($C.hidden) {
                    continue;
                };
                $1v += $C.height;
                if (y < $1v || i === $1w - 1) {
                    top = $1v - $C.height;
                    element = $C;
                    break;
                }
            };
            $f.top = top;
            $f.bottom = $1v;
            $f.i = i;
            $f.element = element;
            return $f;
        };
        this.links = {};
        var $0P = {};
        this.$9P = $0P;
        $0P.clear = function() {
            $e.divLinksAbove.innerHTML = '';
            $e.divLinksBelow.innerHTML = '';
            $e.elements.links = [];
        };
        $0P.showLinkpoints = function() {
            var $M = $J.events();
            $M.each(function($P) {
                $0P.showLinkpoint($P);
            });
        };
        $0P.showLinkpoint = function($P) {
            var $v = 10;
            var $1x = $v / 2;
            var $G = $P.event.part.left;
            var top = $e.rowlist[$P.event.part.dayIndex].top + $P.event.part.top;
            var $04 = $P.event.part.height;
            var $H = $P.event.part.right;
            var $E = DayPilot.Util.div($e.divLinkpoints, $G - $1x, top - $1x + $04 / 2, $v, $v);
            $E.style.backgroundColor = "white";
            $E.style.border = "1px solid gray";
            $E.style.borderRadius = "5px";
            $E.style.boxSizing = "border-box";
            $E.coords = {
                x: $G,
                y: top + $04 / 2
            };
            $E.type = "Start";
            $E.event = $P.event;
            $0P.activateLinkpoint($E);
            $e.elements.linkpoints.push($E);
            var end = DayPilot.Util.div($e.divLinkpoints, $H - $1x, top - $1x + $04 / 2, $v, $v);
            end.style.backgroundColor = "white";
            end.style.border = "1px solid gray";
            end.style.borderRadius = "5px";
            end.style.boxSizing = "border-box";
            end.coords = {
                x: $H,
                y: top + $04 / 2
            };
            end.type = "Finish";
            end.event = $P.event;
            $0P.activateLinkpoint(end);
            $e.elements.linkpoints.push(end);
        };
        $0P.activateLinkpoint = function($P) {
            $P.onmousedown = function(ev) {
                var ev = ev || window.event;
                $1y.source = $P;
                $1y.calendar = $e;
                $0P.showLinkpoints();
                ev.preventDefault && ev.preventDefault();
                ev.stopPropagation && ev.stopPropagation();
                return false;
            };
            $P.onmousemove = function(ev) {
                $P.style.backgroundColor = "black";
                $0P.clearHideTimeout();
            };
            $P.onmouseout = function(ev) {
                if (!$1y.source || $1y.source.event !== $P.event) {
                    $P.style.backgroundColor = "white";
                }
            };
            $P.onmouseup = function(ev) {
                if ($1y.source) {
                    var $K = $1y.source.type + "To" + $P.type;
                    var $1z = $1y.source.event.id();
                    var to = $P.event.id();
                    var $h = {};
                    $h.from = $1z;
                    $h.to = to;
                    $h.type = $K;
                    $h.id = null;
                    $h.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    if (typeof $e.onLinkCreate === "function") {
                        $e.onLinkCreate($h);
                        if ($h.preventDefault.value) {
                            return;
                        }
                    };
                    var $1A = function() {
                        $e.links.list.push({
                            "from": $1z,
                            "to": to,
                            "type": $K
                        });
                        $0P.load();
                    };
                    switch ($e.linkCreateHandling) {
                        case "Update":
                            $1A();
                            break;
                        case "CallBack":
                            $e.$9Q($h);
                            break;
                        case "PostBack":
                            $e.$9R($h);
                            break;
                        case "Notify":
                            $1A();
                            $e.$9S($h);
                            break;
                    };
                    if (typeof $e.onLinkCreated === "function") {
                        $e.onLinkCreated($h);
                    }
                }
            };
        };
        $0P.hideLinkpoints = function() {
            $e.divLinkpoints.innerHTML = '';
            $e.elements.linkpoints = [];
        };
        $0P.hideTimeout = null;
        $0P.hideLinkpointsWithDelay = function() {
            $0P.hideTimeout = setTimeout(function() {
                $0P.hideLinkpoints();
            }, 100);
        };
        $0P.clearHideTimeout = function() {
            if ($0P.hideTimeout) {
                clearTimeout($0P.hideTimeout);
                $0P.hideTimeout = null;
            }
        };
        $0P.load = function() {
            $0P.clear();
            if (!DayPilot.isArray($e.links.list)) {
                return;
            };
            for (var i = 0; i < $e.links.list.length; i++) {
                var link = $e.links.list[i];
                $0P.drawLinkId(link.from, link.to, link);
            }
        };
        $0P.drawLinkId = function($1z, to, $1B) {
            var $E = $e.events.find($1z);
            var end = $e.events.find(to);
            $0P.drawLink($E, end, $1B);
        };
        $0P.drawLink = function($1z, to, $1B) {
            var $1C = $e.$9T($1z);
            var $1D = $e.$9T(to);
            if (!$1C) {
                return;
            };
            if (!$1D) {
                return;
            };
            var $K = $1B.type || "FinishToStart";
            var $E, end;
            var $1E = $e.rowlist[$1C.event.part.dayIndex].top;
            var $1F = $e.rowlist[$1D.event.part.dayIndex].top;
            switch ($K) {
                case "FinishToStart":
                    $E = {
                        x: $1C.event.part.right,
                        y: $1E + $1C.event.part.top
                    };
                    end = {
                        x: $1D.event.part.left,
                        y: $1F + $1D.event.part.top
                    };
                    break;
                case "StartToFinish":
                    $E = {
                        x: $1C.event.part.left,
                        y: $1E + $1C.event.part.top
                    };
                    end = {
                        x: $1D.event.part.right,
                        y: $1F + $1D.event.part.top
                    };
                    break;
                case "StartToStart":
                    $E = {
                        x: $1C.event.part.left,
                        y: $1E + $1C.event.part.top
                    };
                    end = {
                        x: $1D.event.part.left,
                        y: $1F + $1D.event.part.top
                    };
                    break;
                case "FinishToFinish":
                    $E = {
                        x: $1C.event.part.right,
                        y: $1E + $1C.event.part.top
                    };
                    end = {
                        x: $1D.event.part.right,
                        y: $1F + $1D.event.part.top
                    };
                    break;
            };
            $0P.drawLinkXy($E, end, $1B);
        };
        $0P.clearShadow = function() {
            $e.divLinkShadow.innerHTML = '';
            $e.elements.linkshadow = [];
        };
        $0P.drawShadow = function($1z, to) {
            $0P.clearShadow();
            if (DayPilot.browser.ielt9) {
                $0P.drawShadowOldStyle($1z, to);
            } else {
                var parent = $e.divLinkShadow;
                var $0g = DayPilot.line($1z.x, $1z.y, to.x, to.y, true);
                parent.appendChild($0g);
                $e.elements.linkshadow.push($0g);
            }
        };
        $0P.drawShadowOldStyle = function($1z, to) {
            var nx = Math.min($1z.x, to.x);
            var $v = 2;
            var parent = $e.divLinkShadow;
            var $1G = "black";
            var h1 = DayPilot.Util.div(parent, nx, $1z.y, $1z.x - nx, $v);
            h1.style.backgroundColor = $1G;
            $e.elements.linkshadow.push(h1);
            var v1 = DayPilot.Util.div(parent, nx, $1z.y, $v, to.y - $1z.y);
            v1.style.backgroundColor = $1G;
            $e.elements.linkshadow.push(v1);
            var h3 = DayPilot.Util.div(parent, nx, to.y, to.x - nx, $v);
            h3.style.backgroundColor = $1G;
            $e.elements.linkshadow.push(h3);
            var a = DayPilot.Util.div(parent, to.x - 6, to.y - 5, 0, 0);
            a.style.borderColor = "transparent transparent transparent " + $1G;
            a.style.borderStyle = "solid";
            a.style.borderWidth = "6px";
            $e.elements.linkshadow.push(a);
        };
        $0P.drawLinkXy = function($1z, to, $1B) {
            var $1H = $e.eventHeight / 2;
            var $v = $1B.width || 1;
            var $K = $1B.type || "FinishToStart";
            var $1G = $1B.color;
            var style = $1B.style;
            var $1I = $1B.layer || "Above";
            var $1J = $1I === "Above";
            var $1K = $1J ? $e.divLinksAbove : $e.divLinksBelow;
            var $04 = $e.eventHeight;
            var $01 = $e.linkBottomMargin;
            var $1L = function($P, $1M) {
                if ($1G) {
                    $P.style["border" + $1M + "Color"] = $1G;
                };
                if (style) {
                    $P.style["border" + $1M + "Style"] = style;
                }
            };
            var $1N = [];
            var $1O = function($P, $1P) {
                $e.elements.links.push($P);
                $1Q($P);
                $1R($P);
                $P.divs = $1N;
                if (!$1P) {
                    $1N.push($P);
                }
            };
            var $1R = function($P) {
                $P.oncontextmenu = function(ev) {
                    ev = ev || window.event;
                    if ($e.contextMenuLink) {
                        var link = new DayPilot.Link($1B, $e);
                        $e.contextMenuLink.show(link);
                    };
                    ev.cancelBubble = true;
                    ev.preventDefault ? ev.preventDefault() : null;
                }
            };
            var $1Q = function($P) {
                $P.onmouseenter = function() {
                    DayPilot.Util.addClass($P.divs, $e.$82("_link_hover"));
                };
                $P.onmouseleave = function() {
                    DayPilot.Util.removeClass($P.divs, $e.$82("_link_hover"));
                };
            };
            if ($K === "FinishToStart") {
                if ($1z.y === to.y) {
                    var $1S = $1z.x;
                    var $1T = $1z.y + $04 - $01;
                    var $1U = to.x;
                    var h1 = DayPilot.Util.div($1K, $1S, $1T, $1U - $1z.x, $v);
                    h1.style.boxSizing = "border-box";
                    h1.style.borderBottomWidth = $v + "px";
                    h1.className = $e.$82("_link_horizontal");
                    DayPilot.Util.addClass(h1, $1B.cssClass);
                    $1L(h1, "Bottom");
                    $1O(h1);
                    var a;
                    if ($1G) {
                        a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 0, 0);
                        a.style.borderWidth = "6px";
                        a.style.borderColor = "transparent transparent transparent " + $1G;
                        a.style.borderStyle = "solid";
                    } else {
                        a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 6, 6);
                        a.className = $e.$82("_link_arrow_right");
                        DayPilot.Util.addClass(a, $1B.cssClass);
                    };
                    $1O(a, true);
                } else if ($1z.x > to.x) {
                    var $1J = 5;
                    var $1V = to.y - $1J;
                    var h1 = DayPilot.Util.div($1K, $1z.x, $1z.y + $04 - $01, $1H + $v, $v);
                    h1.style.boxSizing = "border-box";
                    h1.style.borderBottomWidth = $v + "px";
                    h1.className = $e.$82("_link_horizontal");
                    DayPilot.Util.addClass(h1, $1B.cssClass);
                    $1L(h1, "Bottom");
                    $1O(h1);
                    var v1 = DayPilot.Util.div($1K, $1z.x + $1H, $1z.y + $04 - $01, $v, $1V - ($1z.y + $04 - $01));
                    v1.style.boxSizing = "border-box";
                    v1.style.borderRightWidth = $v + "px";
                    v1.className = $e.$82("_link_vertical");
                    DayPilot.Util.addClass(v1, $1B.cssClass);
                    $1L(v1, "Right");
                    $1O(v1);
                    var h2 = DayPilot.Util.div($1K, to.x - $1H, $1V, $1z.x + 2 * $1H + $v - to.x, $v);
                    h2.style.boxSizing = "border-box";
                    h2.style.borderBottomWidth = $v + "px";
                    h2.className = $e.$82("_link_horizontal");
                    DayPilot.Util.addClass(h2, $1B.cssClass);
                    $1L(h2, "Bottom");
                    $1O(h2);
                    var v2 = DayPilot.Util.div($1K, to.x - $1H, $1V, $v, to.y - $1V + $04 - $01);
                    v2.style.boxSizing = "border-box";
                    v2.style.borderRightWidth = $v + "px";
                    v2.className = $e.$82("_link_vertical");
                    DayPilot.Util.addClass(v2, $1B.cssClass);
                    $1L(v2, "Right");
                    $1O(v2);
                    var h3 = DayPilot.Util.div($1K, to.x - $1H, to.y + $04 - $01, $1H, $v);
                    h3.style.boxSizing = "border-box";
                    h3.style.borderBottomWidth = $v + "px";
                    h3.className = $e.$82("_link_horizontal");
                    DayPilot.Util.addClass(h3, $1B.cssClass);
                    $1L(h3, "Bottom");
                    $1O(h3);
                    var a;
                    if ($1G) {
                        a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 0, 0);
                        a.style.borderWidth = "6px";
                        a.style.borderColor = "transparent transparent transparent " + $1G;
                        a.style.borderStyle = "solid";
                    } else {
                        a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 6, 6);
                        a.className = $e.$82("_link_arrow_right");
                        DayPilot.Util.addClass(a, $1B.cssClass);
                    };
                    $1O(a, true);
                } else {
                    var $1S = $1z.x;
                    var $1T = $1z.y + $04 - $01;
                    var $1U = to.x + $1H;
                    var $1W = to.y;
                    var h1 = DayPilot.Util.div($1K, $1S, $1T, $1U - $1z.x, $v);
                    h1.style.boxSizing = "border-box";
                    h1.style.borderBottomWidth = $v + "px";
                    h1.className = $e.$82("_link_horizontal");
                    DayPilot.Util.addClass(h1, $1B.cssClass);
                    $1L(h1, "Bottom");
                    $1O(h1);
                    var v1 = DayPilot.Util.div($1K, $1U, $1T, $v, $1W - $1T);
                    v1.style.boxSizing = "border-box";
                    v1.style.borderRightWidth = $v + "px";
                    v1.className = $e.$82("_link_vertical");
                    DayPilot.Util.addClass(v1, $1B.cssClass);
                    $1L(v1, "Right");
                    $1O(v1);
                    var a;
                    if ($1G) {
                        a = DayPilot.Util.div($1K, $1U - 5 + Math.floor($v / 2), $1W - 5, 0, 0);
                        a.style.borderColor = $1G + " transparent transparent transparent";
                        a.style.borderStyle = "solid";
                        a.style.borderWidth = "5px";
                    } else {
                        a = DayPilot.Util.div($1K, $1U - 6 + Math.floor($v / 2), $1W - 6, 6, 6);
                        a.className = $e.$82("_link_arrow_down");
                        DayPilot.Util.addClass(a, $1B.cssClass);
                    };
                    $1O(a, true);
                }
            } else if ($K === "StartToFinish") {
                var $1J = 5;
                var $1V = to.y - $1J;
                var h1 = DayPilot.Util.div($1K, to.x, to.y + $04 - $01, $1H + $v, $v);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $v + "px";
                h1.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h1, $1B.cssClass);
                $1L(h1, "Bottom");
                $1O(h1);
                var v1 = DayPilot.Util.div($1K, to.x + $1H, to.y + $04 - $01, $v, $1V - (to.y + $04 - $01) + 0);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $v + "px";
                v1.className = $e.$82("_link_vertical");
                DayPilot.Util.addClass(v1, $1B.cssClass);
                $1L(v1, "Right");
                $1O(v1);
                var h2 = DayPilot.Util.div($1K, $1z.x - $1H, $1V, to.x + 2 * $1H + $v - $1z.x, $v);
                h2.style.boxSizing = "border-box";
                h2.style.borderBottomWidth = $v + "px";
                h2.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h2, $1B.cssClass);
                $1L(h2, "Bottom");
                $1O(h2);
                var v2 = DayPilot.Util.div($1K, $1z.x - $1H, $1V, $v, $1z.y + $04 - $01 - $1V + 0);
                v2.style.boxSizing = "border-box";
                v2.style.borderRightWidth = $v + "px";
                v2.className = $e.$82("_link_vertical");
                DayPilot.Util.addClass(v2, $1B.cssClass);
                $1L(v2, "Right");
                $1O(v2);
                var h3 = DayPilot.Util.div($1K, $1z.x - $1H, $1z.y + $04 - $01, $1H, $v);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $v + "px";
                h3.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h3, $1B.cssClass);
                $1L(h3, "Bottom");
                $1O(h3);
                var a;
                if ($1G) {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 0, 0);
                    a.style.borderColor = "transparent " + $1G + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 6, 6);
                    a.className = $e.$82("_link_arrow_left");
                    DayPilot.Util.addClass(a, $1B.cssClass);
                };
                $1O(a, true);
            } else if ($K === "StartToStart") {
                var nx = Math.min($1z.x, to.x) - $1H;
                var h1 = DayPilot.Util.div($1K, nx, $1z.y + $04 - $01, $1z.x - nx, $v);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $v + "px";
                h1.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h1, $1B.cssClass);
                $1L(h1, "Bottom");
                $1O(h1);
                var v1 = DayPilot.Util.div($1K, nx, $1z.y + $04 - $01, $v, to.y - $1z.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $v + "px";
                v1.className = $e.$82("_link_vertical");
                DayPilot.Util.addClass(v1, $1B.cssClass);
                $1L(v1, "Right");
                $1O(v1);
                var h3 = DayPilot.Util.div($1K, nx, to.y + $04 - $01, to.x - nx, $v);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $v + "px";
                h3.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h3, $1B.cssClass);
                $1L(h3, "Bottom");
                $1O(h3);
                var a;
                if ($1G) {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 0, 0);
                    a.style.borderColor = "transparent transparent transparent " + $1G;
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 6, 6);
                    a.className = $e.$82("_link_arrow_right");
                    DayPilot.Util.addClass(a, $1B.cssClass);
                };
                $1O(a, true);
            } else if ($K === "FinishToFinish") {
                var fx = Math.max(to.x, $1z.x) + $1H;
                var h1 = DayPilot.Util.div($1K, $1z.x, $1z.y + $04 - $01, fx - $1z.x, $v);
                h1.style.boxSizing = "border-box";
                h1.style.borderBottomWidth = $v + "px";
                h1.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h1, $1B.cssClass);
                $1L(h1, "Bottom");
                $1O(h1);
                var v1 = DayPilot.Util.div($1K, fx, $1z.y + $04 - $01, $v, to.y - $1z.y);
                v1.style.boxSizing = "border-box";
                v1.style.borderRightWidth = $v + "px";
                v1.className = $e.$82("_link_vertical");
                DayPilot.Util.addClass(v1, $1B.cssClass);
                $1L(v1, "Right");
                $1O(v1);
                var h3 = DayPilot.Util.div($1K, to.x, to.y + $04 - $01, fx - to.x, $v);
                h3.style.boxSizing = "border-box";
                h3.style.borderBottomWidth = $v + "px";
                h3.className = $e.$82("_link_horizontal");
                DayPilot.Util.addClass(h3, $1B.cssClass);
                $1L(h3, "Bottom");
                $1O(h3);
                var a;
                if ($1G) {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 0, 0);
                    a.style.borderColor = "transparent " + $1G + " transparent transparent";
                    a.style.borderStyle = "solid";
                    a.style.borderWidth = "6px";
                } else {
                    a = DayPilot.Util.div($1K, to.x - 6, to.y + $04 - $01 - 5, 6, 6);
                    a.className = $e.$82("_link_arrow_left");
                    DayPilot.Util.addClass(a, $1B.cssClass);
                };
                $1O(a, true);
            }
        };
        this.$9Q = function($h, $m) {
            var $0C = {};
            $0C.from = $h.from;
            $0C.to = $h.to;
            $0C.type = $h.type;
            $e.$8r("LinkCreate", $0C, $m);
        };
        this.$9S = function($h, $m) {
            var $0C = {};
            $0C.from = $h.from;
            $0C.to = $h.to;
            $0C.type = $h.type;
            $e.$8r("LinkCreate", $0C, $m, "Notify");
        };
        this.$9R = function($h, $m) {
            var $0C = {};
            $0C.from = $h.from;
            $0C.to = $h.to;
            $0C.type = $h.type;
            $e.$8q("LinkCreate", $0C, $m);
        };
        this.$9U = function(i) {
            var top = 0;
            var $01 = 0;
            var $12 = 0;
            if (i > this.rowlist.length - 1) {
                throw "Row index too high (DayPilotScheduler._getRowByIndex)";
            };
            for (var j = 0; j <= i; j++) {
                var $C = this.rowlist[j];
                if ($C.hidden) {
                    continue;
                };
                $01 += $C.height;
                $12++;
            };
            top = $01 - $C.height;
            var $f = {};
            $f.top = top;
            $f.height = $C.height;
            $f.bottom = $01;
            $f.i = $12 - 1;
            $f.data = $C;
            return $f;
        };
        this.$9V = function() {
            if (this.backendUrl) {
                return (typeof $e.events.list === 'undefined') || (!$e.events.list);
            } else {
                return false;
            }
        };
        this.events.find = function(id) {
            if (!$e.events.list || typeof $e.events.list.length === 'undefined') {
                return null;
            };
            var $1X = $e.events.list.length;
            for (var i = 0; i < $1X; i++) {
                if ($e.events.list[i].id === id) {
                    return new DayPilot.Event($e.events.list[i], $e);
                }
            };
            return null;
        };
        this.events.all = function() {
            var $L = [];
            for (var i = 0; i < $e.events.list.length; i++) {
                var e = new DayPilot.Event($e.events.list[i], $e);
                $L.push(e);
            };
            return DayPilot.list($L);
        };
        this.events.filter = function($h) {
            $e.events.$9W = $h;
            $e.$8M({
                "eventsOnly": true
            });
        };
        this.events.load = function($1Y, $1Z, $20) {
            var $21 = function($h) {
                var $22 = {};
                $22.exception = $h.exception;
                $22.request = $h.request;
                if (typeof $20 === 'function') {
                    $20($22);
                }
            };
            var $23 = function($h) {
                var r = $h.request;
                var $m;
                try {
                    $m = DayPilot.Util.parseJSON(r.responseText);
                } catch (e) {
                    var $24 = {};
                    $24.exception = e;
                    $21($24);
                    return;
                };
                if (DayPilot.isArray($m)) {
                    var $25 = {};
                    $25.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $25.data = $m;
                    if (typeof $1Z === "function") {
                        $1Z($25);
                    };
                    if ($25.preventDefault.value) {
                        return;
                    };
                    $e.events.list = $m;
                    if ($e.$9X) {
                        $e.update();
                    }
                }
            };
            DayPilot.ajax({
                "url": $1Y,
                "success": $23,
                "error": $21
            });
        };
        this.events.findRecurrent = function($26, $0t) {
            if (!$e.events.list || typeof $e.events.list.length === 'undefined') {
                return null;
            };
            var $1X = $e.events.list.length;
            for (var i = 0; i < $1X; i++) {
                if ($e.events.list[i].recurrentMasterId === $26 && $e.events.list[i].start.getTime() === $0t.getTime()) {
                    return new DayPilot.Event($e.events.list[i], $e);
                }
            };
            return null;
        };
        this.events.$8F = function($m) {
            var $0J = [];
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                if ($C.isNewRow) {
                    continue;
                };
                $e.$9Y(i);
                for (var r = 0; r < $C.events.length; r++) {
                    if ($C.events[r].data === $m) {
                        $0J.push(i);
                        $C.events.splice(r, 1);
                        break;
                    }
                }
            };
            return $0J;
        };
        this.events.$8G = function($m) {
            var $0J = [];
            var $27 = $e.$9Z() || $e.viewType === "Days";
            var $12 = DayPilot.indexOf($e.events.list, $m);
            $e.$a0($12);
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                if ($C.isNewRow) {
                    continue;
                };
                $e.$9Y(i);
                var ep = $e.$a1($m, $C);
                if (ep) {
                    if (typeof $e.onBeforeEventRender === 'function') {
                        ep.cache = $e.$7k.events[$12];
                    };
                    $0J.push(i);
                    if (!$27) {
                        break;
                    }
                }
            };
            return $0J;
        };
        this.events.update = function(e, $m) {
            var $0C = {};
            $0C.oldEvent = new DayPilot.Event(e.copy(), $e);
            $0C.newEvent = new DayPilot.Event(e.temp(), $e);
            var $0H = new DayPilot.Action($e, "EventUpdate", $0C, $m);
            if ($e.$a2.scope) {
                e.commit();
                $e.$a2.notify();
            } else {
                var $0J = $e.events.$8F(e.data);
                e.commit();
                $0J = $0J.concat($e.events.$8G(e.data));
                $e.$8H($0J);
                $e.$8I();
                if ($e.$9X) {
                    if ($e.viewType === "Gantt") {
                        $e.update();
                    } else {
                        $e.$8J($0J);
                        $e.$7E();
                    }
                }
            };
            return $0H;
        };
        this.events.remove = function(e, $m) {
            var $0C = {};
            $0C.e = new DayPilot.Event(e.data, $e);
            var $0H = new DayPilot.Action($e, "EventRemove", $0C, $m);
            var $12 = DayPilot.indexOf($e.events.list, e.data);
            $e.events.list.splice($12, 1);
            if ($e.$a2.scope) {
                $e.$a2.notify();
            } else {
                var $0J = $e.events.$8F(e.data);
                $e.$8H($0J);
                $e.$8I();
                if ($e.$9X) {
                    if ($e.viewType === "Gantt") {
                        $e.update();
                    } else {
                        $e.$8J($0J);
                        $e.$7E();
                    }
                }
            };
            return $0H;
        };
        this.events.add = function(e, $m) {
            e.calendar = $e;
            if (!$e.events.list) {
                $e.events.list = [];
            };
            $e.events.list.push(e.data);
            if ($e.$a2.scope) {
                $e.$a2.notify();
            } else {
                var $0C = {};
                $0C.e = e;
                var $0H = new DayPilot.Action($e, "EventAdd", $0C, $m);
                var $0J = $e.events.$8G(e.data);
                $e.$8H($0J);
                $e.$8I();
                if ($e.$9X) {
                    if ($e.viewType === "Gantt") {
                        $e.update();
                    } else {
                        $e.$8J($0J);
                        $e.$7E();
                    }
                }
            };
            return $0H;
        };
        this.queue = {};
        this.queue.list = [];
        this.queue.list.ignoreToJSON = true;
        this.queue.add = function($0H) {
            if (!$0H) {
                return;
            };
            if ($0H.isAction) {
                $e.queue.list.push($0H);
            } else {
                throw "DayPilot.Action object required for queue.add()";
            }
        };
        this.queue.notify = function($m) {
            var $0C = {};
            $0C.actions = $e.queue.list;
            $e.$8r('Notify', $0C, $m, "Notify");
            $e.queue.list = [];
        };
        this.queue.clear = function() {
            $e.queue.list = [];
        };
        this.queue.pop = function() {
            return $e.queue.list.pop();
        };
        this.cells.find = function($E, $0W) {
            var $t = $e.getPixels(new DayPilot.Date($E));
            if (!$t) {
                return $28();
            };
            var x = $t.i;
            var $C = $e.$7T($0W);
            if (!$C) {
                return $28();
            };
            var top = $C.top;
            var y = $e.$9F(top).i;
            return this.findXy(x, y);
        };
        this.cells.findByPixels = function(x, y) {
            var $0s = $e.$8l(x);
            if (!$0s) {
                return $28();
            };
            var x = $0s.x;
            var $C = $e.$9F(y);
            if (!$C) {
                return $28();
            };
            var y = $C.i;
            return this.findXy(x, y);
        };
        this.cells.all = function() {
            var $L = [];
            var $1h = $e.itline.length;
            var $29 = $e.rowlist.length;
            for (var x = 0; x < $1h; x++) {
                for (var y = 0; y < $29; y++) {
                    var $I = $e.cells.findXy(x, y);
                    $L.push($I[0]);
                }
            };
            return $28($L);
        };
        this.cells.$a3 = function(x, y) {
            var $0s = $e.itline[x];
            var $C = $e.rowlist[y];
            var $2a = $C.start.getTime() - $e.$a4().getTime();
            var $E = $0s.start.addTime($2a);
            var end = $0s.end.addTime($2a);
            var $I = {};
            $I.x = x;
            $I.y = y;
            $I.i = x + "_" + y;
            $I.resource = $C.id;
            $I.start = $0s.start;
            $I.end = $0s.end;
            $I.update = function() {
                if (!$e.rowlist[$I.y].hidden) {
                    var $D = $e.$7V();
                    if ($D.xStart <= $I.x && $I.x <= $D.xEnd) {
                        if ($D.yStart <= $I.y && $I.y <= $D.yEnd) {
                            var $0I = $e.$7k.cells[$I.i];
                            $e.$a5($0I);
                            $e.$a6($I.x, $I.y);
                        }
                    }
                }
            };
            $I.utilization = function(name) {
                if (!$C.sections) {
                    $C.calculateUtilization();
                };
                return $C.sections.forRange($E, end).maxSum(name);
            };
            $I.events = function() {
                return $C.events.forRange($E, end);
            };
            $I.div = $e.$7k.cells[$I.i];
            var p = $e.$a7(x, y);
            $I.properties = p;
            return $I;
        };
        this.cells.findXy = function(x, y) {
            if (DayPilot.isArray(x)) {
                var $F = [];
                for (var i = 0; i < x.length; i++) {
                    var o = x[i];
                    $F.push($e.cells.$a3(o.x, o.y));
                };
                return $28($F);
            } else if (x === null || y === null) {
                return $28();
            };
            var $I = $e.cells.$a3(x, y);
            return $28($I);
        };
        var $2b = function(a) {
            var $L = [];
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $L.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $L.push(a);
            };
            $L.each = function(f) {
                if (!f) {
                    return;
                };
                for (var i = 0; i < $L.length; i++) {
                    f($L[i]);
                }
            };
            return $L;
        };
        var $28 = function(a) {
            var $L = [];
            if (DayPilot.isArray(a)) {
                for (var i = 0; i < a.length; i++) {
                    $L.push(a[i]);
                }
            } else if (typeof a === 'object') {
                $L.push(a);
            };
            $L.cssClass = function($2c) {
                this.each(function($N) {
                    $N.properties.cssClass = DayPilot.Util.addClassToString($N.properties.cssClass, $2c);
                    $N.update();
                });
                return this;
            };
            $L.removeClass = function($2c) {
                this.each(function($N) {
                    $N.properties.cssClass = DayPilot.Util.removeClassFromString($N.properties.cssClass, $2c);
                    $N.update();
                });
                return this;
            };
            $L.addClass = $L.cssClass;
            $L.html = function($V) {
                this.each(function($N) {
                    $N.properties.html = $V;
                    $N.update();
                });
                return this;
            };
            $L.each = function(f) {
                if (!f) {
                    return;
                };
                for (var i = 0; i < this.length; i++) {
                    f($L[i]);
                }
            };
            return $L;
        };
        this.$a2 = {};
        this.$a2.scope = null;
        this.$a2.notify = function() {
            if ($e.$a2.scope) {
                $e.$a2.scope["$apply"]();
            }
        };
        this.debug = new DayPilot.Debug(this);
        this.$a8 = function($q) {
            if ($e.viewType !== 'Days') {
                throw "Checking row start when viewType !== 'Days'";
            };
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                var $m = $C.element ? $C.element.data : $C.data;
                var $E = $m.start;
                if ($q.getTime() >= $E.getTime() && $q.getTime() < $E.addDays(1).getTime()) {
                    return $E;
                }
            };
            return null;
        };
        this.$a9 = function($q) {
            if ($q.ticks === this.startDate.ticks) {
                return $q;
            };
            var $2d = this.startDate;
            if ($q.ticks < this.startDate.ticks) {
                var $2e = this.itline[0].end.ticks - this.itline[0].start.ticks;
                while ($2d.ticks > $q.ticks) {
                    $2d = $2d.addTime(-$2e);
                };
                return $2d;
            };
            if ($e.viewType === 'Days') {
                var $2f = this.$a8($q);
                var $0o = $2f.getTime() - $e.startDate.getTime();
                var $I = this.$8n($q.addTime(-$0o));
                if ($I.current) {
                    return $I.current.start.addTime($0o);
                };
                if ($I.past) {
                    return $I.previous.end.addTime($0o);
                };
                throw "getBoxStart(): time not found";
            } else {
                var $I = this.$8n($q);
                if ($I.current) {
                    return $I.current.start;
                };
                if ($I.past) {
                    return $I.previous.end;
                };
                if ($I.hidden) {
                    var $A = $I.next.start.getTime() - $q.getTime();
                    var $2g = $I.next.end.getTime() - $I.next.start.getTime();
                    var $2h = Math.ceil($A / $2g) * $2g;
                    var $f = $I.next.start.addTime(-$2h);
                    return $f;
                };
                throw "getBoxStart(): time not found";
            }
        };
        this.$9M = function($1p) {
            var $C = this.$9F($e.coords.y);
            var e = $1p.event;
            if (typeof e.end !== 'function') {
                throw "e.end function is not defined";
            };
            if (!e.end()) {
                throw "e.end() returns null";
            };
            var $0u = DayPilot.Date.diff(e.rawend().d, e.start().d);
            $0u = Math.max($0u, 1);
            var $2i = $00.useBox($0u);
            var $2j = e.data && e.data.type === "Milestone";
            var $2k = $e.eventHeight;
            var $2l = 0;
            var x = $e.coords.x;
            if ($2j) {
                x += $2k / 2;
            };
            if ($e.scale === "Manual") {
                var $2m = (function() {
                    var end = $e.getDate($e.coords.x, true, true);
                    var $E = end.addTime(-$0u);
                    var $2n = $e.getPixels($E).boxLeft;
                    var $2o = $e.getPixels(end).boxRight;
                    var end = Math.min($2o, $e.coords.x);
                    return end - $2n;
                })();
                var $0o = Math.min(DayPilotScheduler.moveOffsetX, $2m);
                x = $e.coords.x - $0o;
            };
            if ($2i && !$2j) {
                var $I = $e.$8n(e.start());
                var $2p = !$I.hidden && !$I.past;
                $2l = e.start().getTime() - this.$a9(e.start()).getTime();
                if ($2p) {
                    $2l = (function($2q, $0o) {
                        var $2r = $e.$aa($e.$8n($2q).current);
                        var $2s = $e.$aa($e.$8l(x).cell);
                        if ($2r > $2s * 1.2) {
                            var $2t = $0o > 0 ? 1 : -1;
                            var $0o = Math.abs($0o);
                            while ($0o >= $2s) {
                                $0o -= $2s;
                            };
                            $0o *= $2t;
                        };
                        return $0o;
                    })(e.start(), $2l);
                }
            };
            var $2u = 0;
            if (DayPilotScheduler.moveDragStart && $e.scale !== "Manual") {
                if ($2i) {
                    $2u = DayPilotScheduler.moveDragStart.getTime() - this.$a9(e.start()).getTime();
                    var $2v = $e.$ab() * 60 * 1000;
                    $2u = Math.floor($2u / $2v) * $2v;
                } else {
                    $2u = DayPilotScheduler.moveDragStart.getTime() - e.start().getTime();
                }
            } else {
                $2u = 0;
            };
            if (this.eventMoveToPosition) {
                $2u = 0;
            };
            var $E = this.getDate(x, true).addTime(-$2u);
            if (DayPilotScheduler.resizing) {
                $E = e.start();
            };
            if (this.snapToGrid) {
                if ($e.viewType === "Days") {
                    $E = this.$a9($E);
                } else {
                    $E = this.$a9($E);
                }
            };
            $E = $E.addTime($2l);
            var end = $E.addTime($0u);
            var $2w = $E;
            var $2x = end;
            if (this.viewType === 'Days') {
                var $2a = this.rowlist[e.part.dayIndex].start.getTime() - this.startDate.getTime();
                var $2w = $E.addTime(-$2a);
                var $2x = $2w.addTime($0u);
                var $2y = $C.element.data.start.getTime() - this.startDate.getTime();
                $E = $2w.addTime($2y);
                end = $E.addTime($0u);
            };
            var $2z = this.getPixels($2w);
            var $2A = this.getPixels($2x);
            var $G = ($2i) ? $2z.boxLeft : $2z.left;
            var $v = ($2i) ? ($2A.boxRight - $G) : ($2A.left - $G);
            if ($2j) {
                $v = $2k;
                $G -= $v / 2;
            };
            var $1r = {};
            $1r.top = $C.top;
            $1r.left = $G;
            $1r.row = $C.element;
            $1r.rowIndex = $C.i;
            $1r.width = $v;
            $1r.start = $E;
            $1r.end = end;
            $1r.relativeY = $e.coords.y - $C.top;
            return $1r;
        };
        this.$ab = function() {
            switch (this.scale) {
                case "CellDuration":
                    return this.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 60 * 24;
                case "Week":
                    return 60 * 24 * 7;
                case "Month":
                    return 60 * 24 * 30;
                case "Year":
                    return 60 * 24 * 365;
            };
            throw "can't guess cellDuration value";
        };
        this.$aa = function($0s) {
            return $0s.end.ticks - $0s.start.ticks;
        };
        this.$ac = function(y) {
            return this.treePreventParentUsage && this.$ad(y);
        };
        this.$ad = function(y) {
            var $C = this.rowlist[y];
            if ($C.isParent) {
                return true;
            };
            if (this.treeEnabled) {
                if ($C.children && $C.children.length > 0) {
                    return true;
                }
            };
            return false;
        };
        this.$ae = {};
        this.$af = function() {
            if (!$e.treeAutoExpand) {
                return;
            };
            var $1r = this.$9M(DayPilotScheduler.moving);
            var y = $1r.rowIndex;
            var $2B = this.$ad(y);
            var $2C = this.$ae;
            if ($2C.timeout && $2C.y !== y) {
                clearTimeout($2C.timeout);
                $2C.timeout = null;
            };
            if ($2B) {
                $2C.y = y;
                if (!$2C.timeout) {
                    $2C.timeout = setTimeout(function() {
                        var $2D = !$e.rowlist[$2C.y].expanded;
                        if ($2D) {
                            $e.$ag($2C.y);
                            $e.$ah();
                        };
                        $2C.timeout = null;
                    }, 500);
                }
            }
        };
        this.$ai = function() {
            var $2E = DayPilotScheduler.resizingShadow.clientWidth;
            var $2F = DayPilotScheduler.resizingShadow.offsetLeft;
            var e = DayPilotScheduler.resizing.event;
            var $2G = DayPilotScheduler.resizing.dpBorder;
            var $C = $e.rowlist[DayPilotScheduler.resizing.event.part.dayIndex];
            var $2a = $C.start.getTime() - $e.$a4().getTime();
            var $0E = null;
            var $0F = null;
            var $2H = !$e.snapToGrid;
            if ($2G === 'left') {
                $0E = $e.getDate($2F, $2H).addTime($2a);
                $0F = e.rawend();
            } else if ($2G === 'right') {
                $0E = e.start();
                $0F = $e.getDate($2F + $2E, $2H, true).addTime($2a);
            };
            DayPilotScheduler.resizingShadow.start = $0E;
            DayPilotScheduler.resizingShadow.end = $0F;
        };
        this.$ah = function() {
            var scroll = this.nav.scroll;
            if (!$e.coords) {
                return;
            };
            if (!DayPilotScheduler.moving) {
                return;
            };
            $e.$86();
            var $1s = DayPilotScheduler.movingShadow;
            var $1r = this.$9M(DayPilotScheduler.moving);
            var ev = DayPilotScheduler.moving.event;
            var $2I = 0;
            (function calculatePosition() {
                var y = $1r.relativeY;
                var $C = $1r.row;
                var $2J = $C.lines.length;
                var top = 0;
                var lh = $e.$9N.eventHeight();
                var $u = $C.lines.length;
                for (var i = 0; i < $C.lines.length; i++) {
                    var $0g = $C.lines[i];
                    if ($0g.isFree($1r.left, $e.cellWidth)) {
                        $u = i;
                        break;
                    }
                };
                var $y = Math.floor((y - top + lh / 2) / lh);
                var $y = Math.min($u, $y);
                var $y = Math.max(0, $y);
                $2I = $y;
            })();
            var $1t = (ev.cache && typeof ev.cache.moveVDisabled !== 'undefined') ? !ev.cache.moveVDisabled : !ev.data.moveVDisabled;
            var $1u = (ev.cache && typeof ev.cache.moveHDisabled !== 'undefined') ? !ev.cache.moveHDisabled : !ev.data.moveHDisabled;
            var $2K = $2I * $e.$9N.eventHeight();
            if ($2K > 0) {
                $2K -= 3;
            };
            if ($1t) {
                if (!this.$ac($1r.rowIndex)) {
                    $1s.row = $1r.row;
                    $1s.style.height = Math.max($1r.row.height, 0) + 'px';
                    $1s.style.top = ($1r.top) + 'px';
                    if ($e.eventMoveToPosition) {
                        $1s.style.top = ($1r.top + $2K) + "px";
                        $1s.style.height = "3px";
                        $1s.line = $2I;
                    }
                } else {
                    var $2L = $1s.row;
                    var $2M = $1r.rowIndex < $2L.index ? 1 : -1;
                    for (var i = $1r.rowIndex; i !== $2L.index; i += $2M) {
                        var $C = this.rowlist[i];
                        if (!this.$ac(i) && !$C.hidden) {
                            $1s.style.top = ($C.top) + 'px';
                            $1s.style.height = Math.max($C.height, 0) + 'px';
                            $1s.row = $C;
                            if ($e.eventMoveToPosition) {
                                $2I = $2M > 0 ? 0 : $C.lines.length - 1;
                                $1s.style.top = ($1r.top + $2K) + "px";
                                $1s.style.height = "3px";
                                $1s.line = $2I;
                            };
                            break;
                        }
                    }
                }
            } else {
                var $2L = $e.rowlist[ev.part.dayIndex];
                var $u = $2L.lines.length;
                for (var i = 0; i < $2L.lines.length; i++) {
                    var $0g = $2L.lines[i];
                    if ($0g.isFree($1r.left, $e.cellWidth)) {
                        $u = i;
                        break;
                    }
                };
                $1s.style.height = Math.max($2L.height, 0) + 'px';
                $1s.style.top = ($2L.top) + 'px';
                $1s.row = $2L;
                if ($e.eventMoveToPosition) {
                    if ($1r.row === $2L) {
                        $1s.style.top = ($2L.top + $2K) + "px";
                        $1s.style.height = "3px";
                        $1s.line = $2I;
                    } else {
                        var $y = ($1r.rowIndex > $2L.index && $u > 0) ? $u * $e.$9N.eventHeight() - 3 : 0;
                        $1s.style.top = ($2L.top + $y) + "px";
                        $1s.style.height = "3px";
                        $1s.line = 0;
                    }
                }
            };
            if ($1u) {
                $1s.style.left = $1r.left + 'px';
                if ($e.eventMoveToPosition) {
                    $1s.style.width = ($e.cellWidth) + 'px';
                } else {
                    $1s.style.width = ($1r.width) + 'px';
                };
                $1s.start = $1r.start;
                $1s.end = $1r.end;
            } else {
                $1s.style.left = ev.part.left + "px";
                $1s.start = ev.start();
                $1s.end = ev.rawend();
            };
            (function checkOverlap() {
                var $C = $1r.row;
                var $m = ev.data;
                var $v = $1r.width;
                var $G = $1r.left;
                $e.$aj($1s, $C, $G, $v, $m);
            })();
            (function() {
                var $0p = $e.$ak;
                if ($0p && $0p.start.getTime() === $1s.start.getTime() && $0p.end.getTime() === $1s.end.getTime() && $0p.resource === $1s.row.id) {
                    return;
                };
                var $h = {};
                $h.start = $1s.start;
                $h.end = $e.$8D($1s.end);
                $h.e = ev;
                $h.resource = $1s.row.id;
                $h.position = $1s.line;
                $h.overlapping = $1s.overlapping;
                $h.allowed = true;
                $h.left = {};
                $h.left.html = $h.start.toString($e.eventMovingStartEndFormat);
                $h.left.enabled = $e.eventMovingStartEndEnabled;
                $h.right = {};
                $h.right.html = $h.end.toString($e.eventMovingStartEndFormat);
                $h.right.enabled = $e.eventMovingStartEndEnabled;
                $e.$ak = $h;
                if (typeof $e.onEventMoving === 'function') {
                    $e.onEventMoving($h);
                };
                $1s.allowed = $h.allowed;
                $e.$al($1s, $h);
                DayPilot.Util.addClass(DayPilotScheduler.moving, $e.$82("_event_moving_source"));
                $e.$am(DayPilotScheduler.movingShadow, $h);
            })();
        };
        this.$aj = function($1s, $C, $G, $v, $m) {
            if ($e.allowEventOverlap) {
                return;
            };
            (function calculate() {
                for (var i = 0; i < $C.lines.length; i++) {
                    var $0g = $C.lines[i];
                    if (!$0g.isFree($G, $v, $m)) {
                        $1s.overlapping = true;
                        return;
                    }
                };
                $1s.overlapping = false;
            })();
            var $2N = $1s.overlapping;
            var $2O = $e.$82("_shadow_overlap");
            if ($2N) {
                DayPilot.Util.addClass($1s, $2O);
            } else {
                DayPilot.Util.removeClass($1s, $2O);
            }
        };
        this.$al = function($1s, $h) {
            var $2O = $e.$82("_shadow_forbidden");
            if (!$h.allowed) {
                DayPilot.Util.addClass($1s, $2O);
            } else {
                DayPilot.Util.removeClass($1s, $2O);
            }
        };
        this.$am = function($1s, $h) {
            var $2P = 5;
            this.$an();
            var $y = {};
            $y.left = parseInt($1s.style.left);
            $y.top = parseInt($1s.style.top);
            $y.right = $y.left + parseInt($1s.style.width);
            var $v = $h.left.width || 10;
            var $G = document.createElement("div");
            $G.style.position = "absolute";
            $G.style.left = ($y.left - $v - $2P) + "px";
            $G.style.top = $y.top + "px";
            $G.style.height = $e.eventHeight + "px";
            $G.style.overflow = "hidden";
            $G.innerHTML = $h.left.html;
            $G.className = this.$82("_event_move_left");
            if ($h.left.enabled) {
                $e.divHover.appendChild($G);
            };
            if ($h.left.width) {
                $G.style.width = $v + "px";
            } else {
                $G.style.whiteSpace = "nowrap";
                var $2Q = $G.offsetWidth;
                var $2R = $y.left - $2Q - $2P;
                $G.style.width = $2Q + "px";
                $G.style.left = $2R + "px";
            };
            var $H = document.createElement("div");
            $H.style.position = "absolute";
            $H.style.left = ($y.right + $2P) + "px";
            $H.style.top = $y.top + "px";
            $H.style.height = $e.eventHeight + "px";
            $H.style.overflow = "hidden";
            if ($h.right.width) {
                $H.style.width = $h.right.width + "px";
            } else {
                $H.style.whiteSpace = "nowrap";
            };
            $H.innerHTML = $h.right.html;
            $H.className = this.$82("_event_move_right");
            if ($h.right.enabled) {
                $e.divHover.appendChild($H);
            }
        };
        this.$an = function() {
            $e.divHover.innerHTML = '';
        };
        this.$ao = function() {
            if (this.rowHeaderColumns) {
                this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width");
            }
        };
        this.$ap = function() {
            var $2S = 0;
            this.$ao();
            if (this.rowHeaderCols) {
                for (var i = 0; i < this.rowHeaderCols.length; i++) {
                    $2S += this.rowHeaderCols[i];
                }
            } else {
                $2S = this.rowHeaderWidth;
            };
            return $2S;
        };
        this.$aq = function() {
            return this.$ar($e.progressiveRowRenderingPreload);
        };
        this.$ar = function($2T) {
            var $2T = $2T || 0;
            var $E = 0;
            var end = $e.rowlist.length;
            var $2U = $e.progressiveRowRendering;
            if ($2U) {
                var $D = $e.$7V();
                $E = $D.yStart;
                end = $D.yEnd + 1;
                $E = Math.max(0, $E - $2T);
                end = Math.min($e.rowlist.length, end + $2T);
            };
            return {
                "start": $E,
                "end": end
            }
        };
        this.$as = function() {
            if (!this.$at()) {
                return;
            };
            if (!this.rowHeaderWidthAutoFit) {
                return;
            };
            var $2V = this.divHeader;
            if (!$2V) {
                return;
            };
            if (!$2V.rows) {
                return;
            };
            var $u = [];
            var $0X = $e.$aq();
            for (var i = $0X.start; i < $0X.end; i++) {
                var $C = $2V.rows[i];
                if (!$C) {
                    continue;
                };
                if ($C.hidden) {
                    continue;
                };
                if ($C.autofitDone) {
                    continue;
                };
                $C.autofitDone = true;
                for (var j = 0; j < $C.cells.length; j++) {
                    var $S = $C.cells[j].firstChild.firstChild;
                    if (!$S || !$S.style) {
                        continue;
                    };
                    var $2W = $S.style.width;
                    var $2X = $S.style.right;
                    $S.style.position = "absolute";
                    $S.style.width = "auto";
                    $S.style.right = "auto";
                    $S.style.whiteSpace = "nowrap";
                    var w = $S.offsetWidth + 2;
                    $S.style.position = "";
                    $S.style.width = $2W;
                    $S.style.right = $2X;
                    $S.style.whiteSpace = "";
                    if (typeof $u[j] === 'undefined') {
                        $u[j] = 0;
                    };
                    $u[j] = Math.max($u[j], w);
                }
            };
            var $2Y = 0;
            var $2Z = false;
            this.$ao();
            if (this.rowHeaderCols) {
                for (var i = 0; i < $u.length; i++) {
                    if (this.rowHeaderCols[i]) {
                        if ($u[i] > this.rowHeaderCols[i]) {
                            this.rowHeaderCols[i] = $u[i];
                            $2Z = true;
                        };
                        $2Y += this.rowHeaderCols[i];
                    }
                }
            } else {
                $2Y = this.rowHeaderWidth;
                if (this.rowHeaderWidth < $u[0]) {
                    $2Y = $u[0];
                    $2Z = true;
                }
            };
            if ($e.progressiveRowRendering) {};
            if ($2Z) {
                if (this.$au) {
                    this.$au.widths = this.rowHeaderCols;
                    this.$au.updateWidths();
                    DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols);
                };
                if (!this.rowHeaderScrolling) {
                    this.rowHeaderWidth = $2Y;
                };
                this.$8W();
                this.$av();
            }
        };
        this.$7y = function() {
            this.$aw = true;
            this.$ao();
            var $2S = this.$ap();
            var $30 = this.divHeader;
            if ($30) {
                $30.innerHTML = '';
                DayPilot.puc($30);
            } else {
                $30 = document.createElement("div");
                $30.onmousemove = function() {
                    $e.$ax();
                };
                if (!this.cssOnly) {
                    $30.className = this.$82("resourceheader");
                };
                this.divHeader = $30;
            };
            $30.style.width = $2S + "px";
            $30.style.height = $e.$7j + "px";
            $30.rows = [];
            var $2U = $e.progressiveRowRendering;
            if ($2U) {
                $c();
            } else {
                var m = this.rowlist.length;
                for (var i = 0; i < m; i++) {
                    $e.$ay(i);
                }
            };
            $e.$az();
            this.divResScroll.appendChild($30);
            if (this.rowHeaderWidthAutoFit) {
                this.$as();
            }
        };
        this.$aA = function() {
            if (!$e.progressiveRowRendering) {
                return;
            };
            var $D = this.$aq();
            for (var i = 0; i < $e.rowlist.length; i++) {
                if ($D.start <= i && i < $D.end) {
                    $e.$ay(i);
                } else {
                    $e.$aB(i);
                }
            };
            if (this.rowHeaderWidthAutoFit) {
                var $31 = $e.$85();
                this.$as();
                var $32 = $e.$85();
                if ($32 !== $31) {
                    var $33 = this.cellWidth;
                    this.$7t();
                    var $34 = this.cellWidth;
                    if ($34 !== $33) {
                        this.$7u();
                        this.$7z();
                        this.$7E();
                        this.$7x();
                    }
                }
            }
        };
        this.$az = function() {
            var $30 = $e.divHeader;
            var $35 = this.rowHeaderCols;
            var $1m = $35 ? this.rowHeaderCols.length : 0;
            var $2S = this.$ap();
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = this.$7j + "px";
            c.colSpan = $1m + 1;
            c.style.width = $2S + "px";
            c.style.height = ($e.divResScroll.clientHeight + 20) + "px";
            $30.appendChild(c);
            $e.nav.resScrollSpace = c;
            if (!this.cssOnly) {
                c.style.backgroundColor = this.hourNameBackColor;
                c.style.cursor = 'default';
            };
            c.setAttribute("unselectable", "on");
            if (!this.cssOnly) {
                c.className = this.$82('rowheader');
                c.style.fontSize = "1px";
                c.innerHTML = "&nbsp;";
            };
            if (this.cssOnly) {
                var $P = document.createElement("div");
                $P.style.position = "relative";
                $P.style.height = "100%";
                $P.className = this.$82('_rowheader');
                c.appendChild($P);
            }
        };
        this.$aB = function(i) {
            var $C = $e.divHeader.rows[i];
            if (!$C) {
                return;
            };
            DayPilot.de($C.cells);
            $e.divHeader.rows[i] = null;
        };
        this.$8X = function(i) {
            this.$aB(i);
            this.$ay(i);
        };
        this.$ay = function(i) {
            var $30 = $e.divHeader;
            var $36 = this.divHeader;
            if ($36.rows[i]) {
                return;
            };
            var $35 = this.rowHeaderCols;
            var $1m = $35 ? this.rowHeaderCols.length : 0;
            var $2S = this.$ap();
            var $C = this.rowlist[i];
            if (!$C) {
                return;
            };
            if ($C.hidden) {
                return;
            };
            var $h = this.$aC($C);
            $36.rows[i] = {};
            $36.rows[i].cells = [];
            var c = document.createElement("div");
            c.style.position = "absolute";
            c.style.top = $C.top + "px";
            c.row = $C;
            c.index = i;
            var $1B = $h.row;
            var $v = $35 ? $35[0] : this.rowHeaderWidth;
            c.style.width = ($v) + "px";
            c.style.border = "0px none";
            if (!this.cssOnly) {
                c.style.borderRight = "1px solid " + this.borderColor;
                c.style.backgroundColor = typeof $1B.backColor === 'undefined' ? $e.hourNameBackColor : $1B.backColor;
                c.style.fontFamily = this.headerFontFamily;
                c.style.fontSize = this.headerFontSize;
                c.style.color = this.headerFontColor;
                c.style.cursor = 'default';
                c.style.padding = '0px';
            };
            if ($1B.toolTip) {
                c.title = $1B.toolTip;
            };
            c.setAttribute("unselectable", "on");
            c.onmousemove = $e.$aD;
            c.onmouseout = $e.$aE;
            c.onmouseup = $e.$aF;
            c.oncontextmenu = $e.$aG;
            c.onclick = $e.$aH;
            c.ondblclick = $e.$aI;
            var $P = document.createElement("div");
            $P.style.width = ($v) + "px";
            $P.setAttribute("unselectable", "on");
            $P.className = this.cssOnly ? this.$82('_rowheader') : this.$82('rowheader');
            if ($1B.cssClass) {
                DayPilot.Util.addClass($P, $1B.cssClass);
            };
            if ($1B.backColor) {
                $P.style.background = $1B.backColor;
            };
            $P.style.height = ($C.height) + "px";
            $P.style.overflow = 'hidden';
            $P.style.position = 'relative';
            var $S = document.createElement("div");
            $S.setAttribute("unselectable", "on");
            $S.className = this.cssOnly ? this.$82('_rowheader_inner') : "";
            $P.appendChild($S);
            var $0w = this.rowMoveHandling !== "Disabled";
            var $37 = 10;
            var $38 = $1B.areas || [];
            if ($0w && !$1B.moveDisabled) {
                $38.push({
                    "v": "Hover",
                    "w": $37,
                    "bottom": 0,
                    "top": 0,
                    "left": 0,
                    "css": $e.$82("_rowmove_handle"),
                    "action": "Move"
                });
            };
            var ro = $e.$9i($C);
            DayPilot.Areas.attach($P, ro, {
                "areas": $38,
                "allowed": function() {
                    return !$39.row;
                }
            });
            var $2G = document.createElement("div");
            $2G.style.position = "absolute";
            $2G.style.bottom = "0px";
            $2G.style.width = "100%";
            $2G.style.height = "1px";
            if (this.cssOnly) {
                $2G.className = this.$82("_resourcedivider");
            } else {
                $2G.style.backgroundColor = this.borderColor;
            };
            $P.appendChild($2G);
            (function drawText() {
                if ($e.treeEnabled && !$C.isNewRow) {
                    var $G = $C.level * $e.treeIndent + $e.treeImageMarginLeft;
                    if ($0w) {
                        $G += $37;
                    };
                    var $v = 10;
                    var $2C = document.createElement("div");
                    $2C.style.width = "10px";
                    $2C.style.height = $v + "px";
                    $2C.style.backgroundRepeat = "no-repeat";
                    $2C.style.position = 'absolute';
                    $2C.style.left = $G + 'px';
                    $2C.style.top = $e.treeImageMarginTop + "px";
                    if (!$C.loaded && $C.children.length === 0) {
                        if ($e.treeImageExpand && !$e.cssOnly) {
                            $2C.style.backgroundImage = "url('" + $e.treeImageExpand + "')";
                        };
                        $2C.className = $e.cssOnly ? $e.$82('_tree_image_expand') : $e.$82('tree_image_expand');
                        $2C.style.cursor = 'pointer';
                        $2C.index = i;
                        $2C.onclick = function(ev) {
                            $e.$aJ(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else if ($C.children.length > 0) {
                        if ($C.expanded) {
                            if ($e.treeImageCollapse && !$e.cssOnly) {
                                $2C.style.backgroundImage = "url('" + $e.treeImageCollapse + "')";
                            };
                            $2C.className = $e.cssOnly ? $e.$82('_tree_image_collapse') : $e.$82('tree_image_collapse');
                        } else {
                            if ($e.treeImageExpand && !$e.cssOnly) {
                                $2C.style.backgroundImage = "url('" + $e.treeImageExpand + "')";
                            };
                            $2C.className = $e.cssOnly ? $e.$82('_tree_image_expand') : $e.$82('tree_image_expand');
                        };
                        $2C.style.cursor = 'pointer';
                        $2C.index = i;
                        $2C.onclick = function(ev) {
                            $e.$ag(this.index);
                            ev = ev || window.event;
                            ev.cancelBubble = true;
                        };
                    } else {
                        if ($e.treeImageNoChildren && !$e.cssOnly) {
                            $2C.style.backgroundImage = "url('" + $e.treeImageNoChildren + "')";
                        };
                        $2C.className = $e.cssOnly ? $e.$82('_tree_image_no_children') : $e.$82('tree_image_no_children');
                    };
                    $S.appendChild($2C);
                };
                var $11 = document.createElement("div");
                if ($e.treeEnabled) {
                    $11.style.marginLeft = ($G + $v) + "px";
                } else if (!$e.cssOnly) {
                    $11.style.marginLeft = "4px";
                };
                $11.innerHTML = $1B.html;
                c.textDiv = $11;
                $S.appendChild($11);
            })();
            c.appendChild($P);
            if ($1B.areas) {
                for (var j = 0; j < $1B.areas.length; j++) {
                    var $D = $1B.areas[j];
                    var v = $D.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    var r = $e.$9i($C);
                    var a = DayPilot.Areas.createArea($P, r, $D);
                    $P.appendChild(a);
                }
            };
            $30.appendChild(c);
            $36.rows[i].cells.push(c);
            if (!$C.columns || $C.columns.length === 0) {
                c.colSpan = $1m > 0 ? $1m : 1;
                $P.style.width = $2S + "px";
            } else {
                var $G = $v;
                for (var j = 1; j < $1m; j++) {
                    var c = document.createElement("div");
                    c.style.position = "absolute";
                    c.style.top = $C.top + "px";
                    c.style.left = $G + "px";
                    $30.appendChild(c);
                    $36.rows[i].cells.push(c);
                    c.row = $C;
                    c.index = i;
                    if (!this.cssOnly) {
                        c.style.borderRight = "1px solid " + this.borderColor;
                        c.style.backgroundColor = $1B.backColor;
                        c.style.fontFamily = this.headerFontFamily;
                        c.style.fontSize = this.headerFontSize;
                        c.style.color = this.headerFontColor;
                        c.style.cursor = 'default';
                        c.style.padding = '0px';
                    };
                    if ($1B.toolTip) {
                        c.title = $1B.toolTip;
                    };
                    c.setAttribute("unselectable", "on");
                    if (!this.cssOnly) {
                        c.className = this.$82('rowheader');
                    };
                    c.onmousemove = $e.$aD;
                    c.onmouseout = $e.$aE;
                    c.onmouseup = $e.$aF;
                    c.oncontextmenu = $e.$aG;
                    c.onclick = $e.$aH;
                    c.ondblclick = $e.$aI;
                    var $P = document.createElement("div");
                    var w = this.cssOnly ? $35[j] : $35[j] - 1;
                    $G += w;
                    if ($1B.backColor) {
                        $P.style.backgroundColor = $1B.backColor;
                    };
                    $P.style.width = w + "px";
                    $P.style.height = ($C.height) + "px";
                    $P.style.overflow = 'hidden';
                    $P.style.position = 'relative';
                    $P.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        DayPilot.Util.addClass($P, this.$82("_rowheader"));
                        DayPilot.Util.addClass($P, this.$82("_rowheadercol"));
                        DayPilot.Util.addClass($P, this.$82("_rowheadercol" + j));
                    };
                    if ($1B.cssClass) {
                        DayPilot.Util.addClass($P, $1B.cssClass);
                    };
                    var $S = document.createElement("div");
                    $S.setAttribute("unselectable", "on");
                    if (this.cssOnly) {
                        $S.className = this.$82("_rowheader_inner");
                    };
                    $P.appendChild($S);
                    var $2G = document.createElement("div");
                    $2G.style.position = "absolute";
                    $2G.style.bottom = "0px";
                    $2G.style.width = "100%";
                    $2G.style.height = "1px";
                    $2G.className = this.$82("_resourcedivider");
                    if (!this.cssOnly) {
                        $2G.style.backgroundColor = this.borderColor;
                    };
                    $P.appendChild($2G);
                    var $11 = document.createElement("div");
                    if (!this.cssOnly) {
                        $11.style.marginLeft = '4px';
                    };
                    var $3a = $1B.columns[j - 1];
                    var $3b = $3a && $3a.html ? $3a.html : "";
                    $11.innerHTML = $3b;
                    c.textDiv = $11;
                    $S.appendChild($11);
                    c.appendChild($P);
                }
            }
        };
        this.$aG = function() {
            var $C = this.row;
            if ($C.contextMenu) {
                $C.contextMenu.show($e.$9i($C));
            };
            return false;
        };
        this.$aH = function(ev) {
            if ($10.cancelClick) {
                return;
            };
            var $C = this.row;
            var r = $e.$9i($C, this.index);
            if ($C.isNewRow) {
                $e.$9m.edit($C);
                return;
            };
            $e.$9j(r, ev.ctrlKey, ev.shiftKey, ev.metaKey);
        };
        this.$aI = function(ev) {
            if ($e.timeouts.resClick) {
                for (var $0D in $e.timeouts.resClick) {
                    window.clearTimeout($e.timeouts.resClick[$0D]);
                };
                $e.timeouts.resClick = null;
            };
            var $C = this.row;
            var e = $e.$9i($C, this.index);
            if ($e.$7P()) {
                var $h = {};
                $h.resource = e;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onRowDoubleClick === 'function') {
                    $e.onRowDoubleClick($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.rowDoubleClickHandling) {
                    case 'PostBack':
                        $e.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.rowDoubleClickCallBack(e);
                        break;
                    case 'Select':
                        $e.$9l($C, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $e.$9m.edit($C);
                        break;
                };
                if (typeof $e.onRowDoubleClicked === 'function') {
                    $e.onRowDoubleClicked($h);
                }
            } else {
                switch ($e.rowDoubleClickHandling) {
                    case 'PostBack':
                        $e.rowDoubleClickPostBack(e);
                        break;
                    case 'CallBack':
                        $e.rowDoubleClickCallBack(e);
                        break;
                    case 'JavaScript':
                        $e.onRowDoubleClick(e);
                        break;
                    case 'Select':
                        $e.$9l($C, ev.ctrlKey, ev.shiftKey, ev.metaKey);
                        break;
                    case 'Edit':
                        $e.$9m.edit($C);
                        break;
                }
            }
        };
        this.rowDoubleClickPostBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8q("RowDoubleClick", $0C, $m);
        };
        this.rowDoubleClickCallBack = function(e, $m) {
            var $0C = {};
            $0C.resource = e;
            this.$8r("RowDoubleClick", $0C, $m);
        };
        this.$aK = function(ev) {
            var $I = {};
            $I.start = this.cell.start;
            $I.level = this.cell.level;
            $I.end = this.cell.end;
            if (!$I.end) {
                $I.end = new DayPilot.Date($I.start).addMinutes($e.cellDuration);
            };
            $e.$9n($I);
        };
        this.$9i = function($C) {
            return new DayPilot.Row($C, $e);
        };
        this.$9Y = function(i) {
            var $C = this.rowlist[i];
            if (!$C.events) {
                $C.resetEvents();
            };
            if ($C.data) {
                return;
            };
            $C.data = {};
            $C.data.start = new DayPilot.Date($C.start);
            $C.data.startTicks = $C.data.start.getTime();
            $C.data.end = $00.isResourcesView() ? this.$aL() : $C.data.start.addDays(1);
            $C.data.endTicks = $C.data.end.getTime();
            $C.data.offset = $C.start.getTime() - this.$a4().getTime();
            $C.data.i = i;
        };
        this.$7x = function($M) {
            if ($M) {
                this.events.list = $M;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            $3c.prepareRows(true);
            var $L = this.events.list;
            var $3d = $L.length;
            var $3e = typeof this.onBeforeEventRender === 'function';
            var $0J;
            var $3f = $e.viewType === "Resources";
            for (var j = 0; j < $3d; j++) {
                var $3g = $L[j];
                if (!$3g) {
                    continue;
                };
                if ($3e) {
                    this.$a0(j);
                };
                if ($3g.resource === "*") {
                    $0J = $e.rowlist;
                } else if ($3f) {
                    $0J = $3c.rowcache[$3g.resource];
                } else if ($e.viewType === "Days") {
                    $0J = $e.rowlist;
                } else if ($e.viewType === "Gantt") {
                    $0J = $3c.rowcache[$3g.id];
                };
                for (var x = 0; $0J && x < $0J.length; x++) {
                    var $C = $0J[x];
                    var ep = this.$a1($3g, $C);
                    if (!ep) {
                        continue;
                    };
                    if ($3e) {
                        ep.cache = this.$7k.events[j];
                    }
                }
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                this.$aM($C);
            };
            this.$8I();
        };
        this.$aN = function($M) {
            var $3h = [];
            var $3i = [];
            var $3j = null;
            if ($M && $3k) {
                var $3l = $M;
                var $3j = [];
                for (var i = 0; i < $3l.length; i++) {
                    var e = $3l[i];
                    var $0l = false;
                    for (var j = 0; j < this.events.list.length; j++) {
                        var ex = this.events.list[j];
                        if (ex.id === e.id && ex.start.toString() === e.start.toString() && ex.resource === e.resource) {
                            var $0J = $e.events.$8F(ex);
                            $3i = $3i.concat($0J);
                            this.events.list[j] = e;
                            $0l = true;
                            break;
                        }
                    };
                    if (!$0l) {
                        $3j.push(e);
                    }
                };
                this.events.list = this.events.list.concat($3j);
            } else if ($M) {
                this.events.list = $M;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $L = $3j || this.events.list;
            if ($M) {
                this.events.list = $M;
            } else if (!this.events.list) {
                this.events.list = [];
            };
            var $L = this.events.list;
            var $3m = $L.length;
            if (typeof this.onBeforeEventRender === 'function') {
                var $E = $3j ? this.events.list.length - $3j.length : 0;
                var end = this.events.list.length;
                for (var i = $E; i < end; i++) {
                    this.$a0(i);
                }
            };
            var $3n = !this.$9Z();
            var $3o = true;
            if ($3o) {
                var $3p = !$3j || typeof $C.events === "undefined";
                $3c.prepareRows($3p);
                for (var j = 0; $L && j < $3m; j++) {
                    if ($3h[j]) {
                        continue;
                    };
                    var $3g = $L[j];
                    if (!$3g) {
                        continue;
                    };
                    var $0J = [];
                    if ($3g.resource === "*") {
                        $0J = $e.rowlist;
                    } else if ($e.viewType === "Days") {
                        $0J = $e.rowlist;
                    } else if ($e.viewType === "Gantt") {
                        $0J = $3c.rowcache[$3g.id];
                    } else {
                        $0J = $3c.rowcache[$3g.resource];
                    };
                    for (var x = 0; $0J && x < $0J.length; x++) {
                        var $C = $0J[x];
                        var ep = this.$a1($3g, $C);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$7k.events[j + $E];
                        };
                        $3i.push($C.index);
                    }
                }
            } else {
                for (var i = 0; i < this.rowlist.length; i++) {
                    var $C = this.rowlist[i];
                    if (!$3j || typeof $C.events === "undefined") {
                        $C.resetEvents();
                    };
                    $e.$9Y(i);
                    if (this.$ac(i)) {
                        continue;
                    };
                    for (var j = 0; $L && j < $3m; j++) {
                        if ($3h[j]) {
                            continue;
                        };
                        var e = $L[j];
                        var ep = this.$a1(e, $C);
                        if (!ep) {
                            continue;
                        };
                        if (typeof this.onBeforeEventRender === 'function') {
                            ep.cache = this.$7k.events[j + $E];
                        };
                        $3i.push(i);
                        if ($3n) {
                            if (ep.data.resource !== "*" && ep.part.start.getTime() === ep.start().getTime() && ep.part.end.getTime() === ep.rawend().getTime()) {
                                $3h[j] = true;
                            }
                        }
                    }
                }
            };
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                this.$aM($C);
            };
            this.$8I();
            return DayPilot.ua($3i);
        };
        this.$aO = {};
        var $3c = this.$aO;
        $3c.rowCache = {};
        $3c.prepareRows = function($3p) {
            $3c.rowcache = {};
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                if ($3p) {
                    $C.resetEvents();
                };
                $e.$9Y(i);
                if (!$C.id) {
                    continue;
                };
                var $3q = $C.id.toString();
                if (!$3c.rowcache[$3q]) {
                    $3c.rowcache[$3q] = [];
                };
                $3c.rowcache[$3q].push($C);
            }
        };
        $3c.loadEvent = function($3g) {};
        this.$9Z = function() {
            var $3r = {};
            if ($e.viewType !== "Resources") {
                return false;
            };
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                var id = $C.id;
                if ($3r[id]) {
                    return true;
                };
                $3r[id] = true;
            };
            return false;
        };
        this.$a0 = function(i) {
            var $0i = this.$7k.events;
            var $m = this.events.list[i];
            var $3s = {};
            for (var name in $m) {
                $3s[name] = $m[name];
            };
            if (typeof this.onBeforeEventRender === 'function') {
                var $h = {};
                $h.e = $3s;
                this.onBeforeEventRender($h);
            };
            $0i[i] = $3s;
        };
        this.$aM = function($C) {
            $C.lines = [];
            $C.sections = null;
            if ($C.isNewRow) {
                return;
            };
            if (this.sortDirections) {
                $C.events.sort(this.$aP);
            } else {
                $C.events.sort(this.$aQ);
            };
            var $3t = $e.groupConcurrentEvents;
            if ($3t) {
                for (var i = 0; i < $C.blocks.length; i++) {
                    $C.blocks[i].events = [];
                }
            };
            for (var j = 0; j < $C.events.length; j++) {
                var e = $C.events[j];
                $C.putIntoLine(e);
                if ($3t) {
                    $C.putIntoBlock(e);
                }
            };
            var $3u = 0;
            for (var i = 0; i < $C.lines.length; i++) {
                var $0g = $C.lines[i];
                $0g.top = $3u;
                $3u += ($0g.height || $C.eventHeight) * this.eventStackingLineHeight / 100;
            };
            if ($3t) {
                for (var j = 0; j < $C.blocks.length; j++) {
                    var $3v = $C.blocks[j];
                    $3v.lines = [];
                    $3v.events.sort(this.$aP);
                    for (var k = 0; k < $3v.events.length; k++) {
                        var e = $3v.events[k];
                        $3v.putIntoLine(e);
                    };
                    if ($3v.lines.length <= $e.groupConcurrentEventsLimit) {
                        $3v.expanded = true;
                    };
                    var $3u = 0;
                    for (var i = 0; i < $3v.lines.length; i++) {
                        var $0g = $3v.lines[i];
                        $0g.top = $3u;
                        $3u += ($0g.height || $C.eventHeight) * this.eventStackingLineHeight / 100;
                    }
                }
            }
        };
        this.$8H = function($0J) {
            $0J = DayPilot.ua($0J);
            for (var i = 0; i < $0J.length; i++) {
                var ri = $0J[i];
                $e.$aM($e.rowlist[ri]);
            };
            for (var i = 0; i < $0J.length; i++) {
                var ri = $0J[i];
                var $C = $e.rowlist[ri];
                $e.$aR($C);
            }
        };
        this.$a1 = function(e, $C) {
            var $E = new DayPilot.Date(e.start);
            var end = new DayPilot.Date(e.end);
            end = $e.$92(end);
            var $3w = $E.ticks;
            var $3x = end.ticks;
            if ($3x < $3w) {
                return null;
            };
            var $0i = null;
            if (typeof $e.onBeforeEventRender === 'function') {
                var $12 = DayPilot.indexOf($e.events.list, e);
                $0i = $e.$7k.events[$12];
            };
            if ($0i) {
                if ($0i.hidden) {
                    return null;
                }
            } else if (e.hidden) {
                return null;
            };
            var $3y = false;
            switch (this.viewType) {
                case 'Days':
                    $3y = !($3x <= $C.data.startTicks || $3w >= $C.data.endTicks) || ($3w === $3x && $3w === $C.data.startTicks);
                    break;
                case 'Resources':
                    $3y = ($C.id === e.resource || $C.id === "*" || e.resource === "*") && (!($3x <= $C.data.startTicks || $3w >= $C.data.endTicks) || ($3w === $3x && $3w === $C.data.startTicks));
                    break;
                case 'Gantt':
                    $3y = ($C.id === e.id) && !($3x <= $C.data.startTicks || $3w >= $C.data.endTicks);
                    break;
            };
            if (!$3y) {
                return null;
            };
            var ep = new DayPilot.Event(e, $e);
            ep.part.dayIndex = $C.data.i;
            ep.part.start = $C.data.startTicks < $3w ? $E : $C.data.start;
            ep.part.end = $C.data.endTicks > $3x ? end : $C.data.end;
            var $3z = this.getPixels(ep.part.start.addTime(-$C.data.offset));
            var $3A = this.getPixels(ep.part.end.addTime(-$C.data.offset));
            if (ep.part.start.ticks === ep.part.end.ticks) {
                $3A = this.getPixels(ep.part.end.addTime(-$C.data.offset).addTime(1));
            };
            if ($0i && $0i.height) {
                ep.part.height = $0i.height;
            };
            var $G = $3z.left;
            var $H = $3A.left;
            if ($G === $H && ($3z.cut || $3A.cut)) {
                return null;
            };
            ep.part.box = $00.useBox($3x - $3w);
            var $2k = $e.eventHeight;
            if (e.type === "Milestone") {
                var $v = e.width || $2k;
                ep.part.end = ep.part.start;
                ep.part.left = $G - $v / 2;
                ep.part.width = $v;
                ep.part.barLeft = 0;
                ep.part.barWidth = $v;
            } else if (ep.part.box) {
                var $3B = $3z.boxLeft;
                var $3C = $3A.boxRight;
                ep.part.left = $3B;
                ep.part.width = $3C - $3B;
                ep.part.barLeft = Math.max($G - ep.part.left, 0);
                ep.part.barWidth = Math.max($H - $G, 1);
            } else {
                ep.part.left = $G;
                ep.part.width = Math.max($H - $G, 0);
                ep.part.barLeft = 0;
                ep.part.barWidth = Math.max($H - $G - 1, 1);
            };
            if (typeof $e.onEventFilter === "function" && $e.events.$9W) {
                var $h = {};
                $h.filter = $e.events.$9W;
                $h.visible = true;
                $h.e = ep;
                $e.onEventFilter($h);
                if (!$h.visible) {
                    return null;
                }
            };
            $C.events.push(ep);
            return ep;
        };
        this.$aQ = function(a, b) {
            if (!a || !b || !a.start || !b.start) {
                return 0;
            };
            var $3D = a.start().ticks - b.start().ticks;
            if ($3D !== 0) {
                return $3D;
            };
            var $3E = b.end().ticks - a.end().ticks;
            return $3E;
        };
        this.$aP = function(a, b) {
            if (!a || !b) {
                return 0;
            };
            if (!a.data || !b.data || !a.data.sort || !b.data.sort || a.data.sort.length === 0 || b.data.sort.length === 0) {
                return $e.$aQ(a, b);
            };
            var $f = 0;
            var i = 0;
            while ($f === 0 && a.data.sort[i] && b.data.sort[i]) {
                if (a.data.sort[i] === b.data.sort[i]) {
                    $f = 0;
                } else {
                    $f = $e.$aS(a.data.sort[i], b.data.sort[i], $e.sortDirections[i]);
                };
                i++;
            };
            return $f;
        };
        this.$aS = function(a, b, $3F) {
            var $3G = ($3F !== "desc");
            var $3H = $3G ? -1 : 1;
            var $3I = -$3H;
            if (a === null && b === null) {
                return 0;
            };
            if (b === null) {
                return $3I;
            };
            if (a === null) {
                return $3H;
            };
            var ar = [];
            ar[0] = a;
            ar[1] = b;
            ar.sort();
            return a === ar[0] ? $3H : $3I;
        };
        this.$9l = function($C, $0K, $15, $0L) {
            if ($e.$7P()) {
                var $12 = DayPilot.indexOf($e.rowlist, $C);
                var e = $e.$9i($C, $12);
                var $3J = DayPilot.indexOf($10.selected, $C) !== -1;
                var $0B = $3J ? "deselected" : "selected";
                var $h = {};
                $h.row = e;
                $h.selected = $3J;
                $h.ctrl = $0K;
                $h.shift = $15;
                $h.meta = $0L;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onRowSelect === 'function') {
                    $e.onRowSelect($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.rowSelectHandling) {
                    case 'PostBack':
                        $e.rowSelectPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $e.rowSelectCallBack(e, $0B);
                        break;
                    case 'Update':
                        $10.select($C, $0K, $15, $0L);
                        break;
                };
                if (typeof $e.onRowSelected === 'function') {
                    $h.selected = DayPilot.indexOf($10.selected, $C) !== -1;
                    $e.onRowSelected($h);
                }
            } else {
                $10.select($C, $0K, $15);
                var $12 = DayPilot.indexOf($e.rowlist, $C);
                var e = $e.$9i($C, $12);
                var $3J = DayPilot.indexOf($10.selected, $C) !== -1;
                var $0B = $3J ? "deselected" : "selected";
                switch ($e.rowSelectHandling) {
                    case 'PostBack':
                        $e.rowSelectPostBack(e, $0B);
                        break;
                    case 'CallBack':
                        $e.rowSelectCallBack(e, $0B);
                        break;
                    case 'JavaScript':
                        $e.onRowSelect(e, $0B);
                        break;
                }
            }
        };
        this.rowSelectPostBack = function(r, $0B, $m) {
            var $0C = {};
            $0C.resource = r;
            $0C.change = $0B;
            this.$8q('RowSelect', $0C, $m);
        };
        this.rowSelectCallBack = function(r, $0B, $m) {
            var $0C = {};
            $0C.resource = r;
            $0C.change = $0B;
            this.$8r('RowSelect', $0C, $m);
        };
        this.rows = {};
        this.rows.selection = {};
        var $3K = this.rows.selection;
        $3K.get = function() {
            var $L = [];
            DayPilot.list($10.selected).each(function($N) {
                $L.push($e.$9i($N));
            });
            return $L;
        };
        $3K.clear = function() {
            $10.clearSelection();
        };
        this.rows.all = function() {
            var $L = [];
            for (var i = 0; i < $e.rowlist.length; i++) {
                var r = $e.$9i($e.rowlist[i]);
                $L.push(r);
            };
            return $2b($L);
        };
        this.rows.each = function(f) {
            $e.rows.all().each(f);
        };
        this.rows.filter = function($3L) {
            $e.rows.$9W = $3L;
            $e.$8M({
                "immediateEvents": true
            });
        };
        this.rows.find = function(id, $E) {
            var $0J = $e.rows.all();
            for (var i = 0; i < $0J.length; i++) {
                var $N = $0J[i];
                if ($N.id === id) {
                    if (typeof $E === "string") {
                        if ($E === $N.start.toString()) {
                            return $N;
                        }
                    } else {
                        return $N;
                    }
                }
            }
        };
        this.rows.load = function($1Y) {
            DayPilot.ajax({
                "url": $1Y,
                "success": function($h) {
                    var r = $h.request;
                    var $m = DayPilot.Util.parseJSON(r.responseText);
                    if (DayPilot.isArray($m)) {
                        $e.resources = $m;
                        if ($e.$9X) {
                            $e.update();
                        }
                    }
                }
            });
        };
        this.rows.expand = function($3M) {
            var $0J = [];
            var $3N = $3M || 1;
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                var $3O = $3N === -1;
                if ($C.level < $3N) {
                    $3O = true;
                };
                if ($3O && !$C.expanded && $C.children && $C.children.length > 0) {
                    $0J.push($C.index);
                }
            };
            if ($0J.length === 0) {
                return;
            };
            if ($0J.length === 1) {
                $e.$ag($0J[0]);
            } else {
                for (var i = 0; i < $0J.length; i++) {
                    var $12 = $0J[i];
                    var $C = $e.rowlist[$12];
                    $C.expanded = true;
                };
                $e.$8M();
            }
        };
        this.rows.expandAll = function() {
            $e.rows.expand(-1);
        };
        this.rows.headerHide = function() {
            $e.$aT = true;
            $e.$aU();
            $e.$av();
        };
        this.rows.headerShow = function() {
            $e.$aT = false;
            $e.$aU();
            $e.$av();
        };
        this.rows.headerToggle = function() {
            if ($e.$aT) {
                $e.rows.headerShow();
            } else {
                $e.rows.headerHide();
            }
        };
        this.$aV = function() {
            var $13 = $39.source;
            var $14 = $39.target;
            var $s = $39.position;
            $10.resetMoving();
            if ($e.$7P()) {
                var $h = {};
                $h.source = $e.$9i($13);
                $h.target = $e.$9i($14);
                $h.position = $s;
                $h.preventDefault = function() {
                    this.preventDefault.value = true;
                };
                if (typeof $e.onRowMove === "function") {
                    $e.onRowMove($h);
                    if ($h.preventDefault.value) {
                        return;
                    }
                };
                switch ($e.rowMoveHandling) {
                    case "Update":
                        $10.move($h);
                        break;
                    case "CallBack":
                        $e.rowMoveCallBack($h.source, $h.target, $h.position);
                        break;
                    case "PostBack":
                        $e.rowMovePostBack($h.source, $h.target, $h.position);
                        break;
                    case "Notify":
                        $10.move($h);
                        $e.rowMoveNotify($h.source, $h.target, $h.position);
                        break;
                };
                if (typeof $e.onRowMoved === "function") {
                    $e.onRowMoved($h);
                }
            } else {
                var $13 = $e.$9i($13);
                var $14 = $e.$9i($14);
                var $s = $s;
                switch ($e.rowMoveHandling) {
                    case "CallBack":
                        $e.rowMoveCallBack($13, $14, $s);
                        break;
                    case "PostBack":
                        $e.rowMovePostBack($13, $14, $s);
                        break;
                    case "JavaScript":
                        $e.onRowMove($13, $14, $s);
                        break;
                }
            }
        };
        this.$aW = function($0J) {
            var $L = DayPilot.list($0J);
            $10.selected = [];
            $L.each(function($N) {
                var $C = $e.$7T($N);
                if ($C) {
                    $10.selected.push($C);
                }
            });
            $10.$aX();
        };
        this.$9m = {};
        var $10 = this.$9m;
        $10.edit = function($C) {
            var $3P = $10.$aY($C);
        };
        $10.createOverlay = function($C) {
            var $v = $e.$ap();
            var $2c = $e.$82("_rowmove_source");
            var $P = DayPilot.Util.div($e.divHeader, 0, $C.top, $v, $C.height);
            $P.className = $2c;
            $C.moveOverlay = $P;
        };
        $10.deleteOverlay = function($C) {
            DayPilot.de($C.moveOverlay);
            $C.moveOverlay = null;
        };
        $10.$aY = function($C) {
            var r = $10.$9f($C);
            var c = r.cells[0];
            if (c.input) {
                return c.input;
            };
            var $v = c.clientWidth;
            if ($C.isNewRow) {
                $v = $e.$85();
            };
            var $3P = document.createElement("textarea");
            $3P.style.position = "absolute";
            $3P.style.top = "0px";
            $3P.style.left = "0px";
            $3P.style.width = $v + "px";
            $3P.style.height = $C.height + "px";
            $3P.style.border = "0px none";
            $3P.style.overflow = "hidden";
            $3P.style.boxSizing = "border-box";
            $3P.style.resize = "none";
            var $1p = c.textDiv;
            $3P.style.fontFamily = DayPilot.gs($1p, 'fontFamily') || DayPilot.gs($1p, 'font-family');
            $3P.style.fontSize = DayPilot.gs($1p, 'fontSize') || DayPilot.gs($1p, 'font-size');
            $3P.value = $C.html;
            c.firstChild.appendChild($3P);
            c.input = $3P;
            var $3Q = function() {
                try {
                    c.input.parentNode.removeChild(c.input);
                } catch (e) {
                    $c();
                };
                c.input = null;
            };
            $3P.focus();
            $3P.onblur = function() {
                $3P.onblur = null;
                var $0Z = $3P.value;
                var $12 = DayPilot.indexOf($e.rowlist, $C);
                $3Q();
                if (!$3P.canceled) {
                    $e.$9h($C, $0Z);
                }
            };
            $3P.onkeydown = function(e) {
                var $3R = (window.event) ? event.keyCode : e.keyCode;
                if ($3R === 27) {
                    $3P.canceled = true;
                    $3Q();
                };
                if ($3R === 13) {
                    $3P.onblur();
                    return false;
                };
                return true;
            };
            if ($3P.setSelectionRange) {
                $3P.setSelectionRange(0, 9999);
            } else {
                $3P.select();
            };
            return $3P;
        };
        $10.selected = [];
        $10.select = function($C, $0K, $15, $0L) {
            var $3J = DayPilot.indexOf($10.selected, $C) !== -1;
            if ($0K || $0L) {
                if ($3J) {
                    $10.unselect($C);
                    DayPilot.rfa($10.selected, $C);
                    return;
                }
            } else {
                $3J = false;
                $10.clearSelection();
            };
            $10.$aZ($C);
            if (!$3J) {
                $10.selected.push($C);
            }
        };
        $10.$aX = function() {
            for (var i = 0; i < $10.selected.length; i++) {
                var $C = $10.selected[i];
                $10.$aZ($C);
            }
        };
        $10.$aZ = function($C) {
            var y = DayPilot.indexOf($e.rowlist, $C);
            if (y === -1) {
                var $3S = $e.$7T($C.id).index;
                if ($3S) {
                    y = $3S.index;
                } else {
                    return;
                }
            };
            var cl = $e.$82("_cell_selected");
            var $F = [];
            for (var i = 0; i < $e.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $F.push(c);
            };
            $e.cells.findXy($F).addClass(cl);
            var cl = $e.$82("_rowheader_selected");
            var $2V = $e.divHeader;
            for (var y = 0; y < $2V.rows.length; y++) {
                var r = $2V.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $C) {
                    for (var x = 0; x < r.cells.length; x++) {
                        var c = r.cells[x];
                        var $3T = c.firstChild;
                        DayPilot.Util.addClass($3T, cl);
                    }
                }
            }
        };
        $10.$b0 = function(id) {
            for (var i = 0; i < $10.selected.length; i++) {
                var $C = $10.selected[i];
                if ($C.id === id) {
                    return true;
                }
            };
            return false;
        };
        $10.$9z = function() {
            var $L = [];
            if (!$10.selected) {
                return $L;
            };
            for (var i = 0; i < $10.selected.length; i++) {
                var $C = $10.selected[i];
                var $12 = DayPilot.indexOf($e.rowlist, $C);
                var r = $e.$9i($C, $12);
                $L.push(r.toJSON());
            };
            return $L;
        };
        $10.unselect = function($C) {
            var cl = $e.$82("_cell_selected");
            var y = DayPilot.indexOf($e.rowlist, $C);
            var $F = [];
            for (var i = 0; i < $e.itline.length; i++) {
                var c = {};
                c.x = i;
                c.y = y;
                $F.push(c);
            };
            $e.cells.findXy($F).removeClass(cl);
            var cl = $e.$82("_rowheader_selected");
            var $2V = $e.divHeader;
            var r = $10.$9f($C);
            if (r) {
                for (var x = 0; x < r.cells.length; x++) {
                    var c = r.cells[x];
                    var $3T = c.firstChild;
                    DayPilot.Util.removeClass($3T, cl);
                }
            }
        };
        $10.clearSelection = function() {
            for (var j = 0; j < $10.selected.length; j++) {
                var $C = $10.selected[j];
                $10.unselect($C);
            };
            $10.selected = [];
        };
        $10.$9f = function($C) {
            var $2V = $e.divHeader;
            for (var y = 0; y < $2V.rows.length; y++) {
                var r = $2V.rows[y];
                if (r && r.cells[0] && r.cells[0].row === $C) {
                    return r;
                }
            };
            return null;
        };
        $10.selectById = function(id) {
            var $C = $e.$7T(id);
            if ($C) {
                $10.select($C);
            }
        };
        $10.startMoving = function($C) {
            var $39 = DayPilot.Global.rowmoving;
            $39.row = $C;
            $39.cursor = $e.divResScroll.style.cursor;
            $e.divResScroll.style.cursor = "move";
            $10.createOverlay($C);
        };
        $10.resetMoving = function() {
            $e.divResScroll.style.cursor = $39.cursor;
            DayPilot.de($39.div);
            $10.deleteOverlay($39.row);
            DayPilot.Global.rowmoving = $39 = {};
        };
        $10.move = function($h) {
            var $13 = $h.source.$.row.resource;
            var $14 = $h.target.$.row.resource;
            var $s = $h.position;
            if ($s === "forbidden") {
                return;
            };
            var $3U = $3V.findParentArray($13);
            if (!$3U) {
                throw "Cannot find source node parent";
            };
            var $3W = DayPilot.indexOf($3U, $13);
            $3U.splice($3W, 1);
            var $3X = $3V.findParentArray($14);
            if (!$3X) {
                throw "Cannot find target node parent";
            };
            var $3Y = DayPilot.indexOf($3X, $14);
            switch ($s) {
                case "before":
                    $3X.splice($3Y, 0, $13);
                    break;
                case "after":
                    $3X.splice($3Y + 1, 0, $13);
                    break;
                case "child":
                    if (!$14.children) {
                        $14.children = [];
                        $14.expanded = true;
                    };
                    $14.children.push($13);
                    break;
            };
            $e.update();
        };
        var $3V = {};
        $3V.findParentArray = function($1e) {
            return $3V.findInArray($e.resources, $1e);
        };
        $3V.findInArray = function($3Z, $1e) {
            if (DayPilot.indexOf($3Z, $1e) !== -1) {
                return $3Z;
            };
            for (var i = 0; i < $3Z.length; i++) {
                var r = $3Z[i];
                if (r.children && r.children.length > 0) {
                    var parent = $3V.findInArray(r.children, $1e);
                    if (parent) {
                        return parent;
                    }
                }
            };
            return null;
        };
        this.$7v = function() {
            this.rowlist = [];
            var $1g = this.resources;
            var $40 = this.$8d();
            if (!$40) {
                if (this.viewType === "Gantt") {
                    $1g = this.$b1();
                } else if (this.viewType === "Days") {
                    $1g = this.$b2();
                }
            };
            var $12 = {};
            $12.i = 0;
            this.$b3($1g, $12, 0, null, this.treeEnabled, false);
            var $41 = $e.rowCreateHandling !== "Disabled";
            if ($41) {
                this.$b4();
            };
            this.$b5();
        };
        this.$b4 = function() {
            var r = {};
            r.id = "NEW";
            r.isNewRow = true;
            r.html = "";
            r.loaded = true;
            r.start = this.startDate;
            r.children = [];
            r.height = $e.eventHeight;
            r.marginBottom = 0;
            r.marginTop = 0;
            r.getHeight = function() {
                return $e.eventHeight + $e.rowMarginBottom + $e.rowMarginTop;
            };
            r.putIntoLine = function() {};
            r.resetEvents = function() {};
            this.rowlist.push(r);
        };
        this.$b5 = function() {
            var $L = [];
            for (var i = 0; i < $e.rowlist.length; i++) {
                var $C = $e.rowlist[i];
                var id = $C.id;
                if ($10.$b0(id)) {
                    $L.push($C);
                }
            };
            $10.selected = $L;
        };
        this.$b1 = function() {
            var $L = [];
            if (this.$7g && this.resources) {
                for (var i = 0; i < this.resources.length; i++) {
                    $L.push(this.resources[i]);
                }
            };
            if (!this.events.list) {
                return;
            };
            for (var i = 0; i < this.events.list.length; i++) {
                var e = this.events.list[i];
                var r = {};
                r.id = e.id;
                r.name = e.text;
                $L.push(r);
            };
            return $L;
        };
        this.$b2 = function() {
            var $L = [];
            var $42 = this.$9N.locale();
            for (var i = 0; i < this.days; i++) {
                var d = this.startDate.addDays(i);
                var r = {};
                r.name = d.toString($42.datePattern, $42);
                r.start = d;
                $L.push(r);
            };
            return $L;
        };
        this.$a4 = function() {
            if (this.itline && this.itline.length > 0) {
                return this.itline[0].start;
            };
            return this.startDate;
        };
        this.$aL = function() {
            if (this.itline && this.itline.length > 0) {
                return this.itline[this.itline.length - 1].end;
            };
            return this.startDate.addDays(this.days);
        };
        this.$b3 = function($1g, $12, $3N, parent, $43, $44) {
            if (!$1g) {
                return;
            };
            for (var i = 0; i < $1g.length; i++) {
                if (!$1g[i]) {
                    continue;
                };
                var $45 = {};
                $45.level = $3N;
                $45.hidden = $44;
                $45.index = $12.i;
                var $1e = this.$b6($1g[i], $45);
                var $C = {};
                $C.backColor = $1e.backColor;
                $C.cssClass = $1e.cssClass;
                $C.expanded = $1e.expanded;
                $C.name = $1e.name;
                $C.html = $1e.html ? $1e.html : $C.name;
                $C.eventHeight = typeof $1e.eventHeight !== 'undefined' ? $1e.eventHeight : $e.$9N.eventHeight();
                $C.minHeight = typeof $1e.minHeight !== 'undefined' ? $1e.minHeight : $e.rowMinHeight;
                $C.marginBottom = typeof $1e.marginBottom !== 'undefined' ? $1e.marginBottom : $e.rowMarginBottom;
                $C.marginTop = typeof $1e.marginTop !== 'undefined' ? $1e.marginTop : $e.rowMarginTop;
                $C.loaded = !$1e.dynamicChildren;
                $C.id = $1e.id || $1e.value;
                $C.toolTip = $1e.toolTip;
                $C.children = [];
                $C.columns = [];
                $C.start = $1e.start ? new DayPilot.Date($1e.start) : this.$a4();
                $C.isParent = $1e.isParent;
                $C.contextMenu = $1e.contextMenu ? DayPilot.Util.evalVariable($1e.contextMenu) : this.contextMenuResource;
                $C.areas = $1e.areas;
                $C.moveDisabled = $1e.moveDisabled;
                $C.task = $1e.task;
                $C.height = $C.eventHeight;
                $C.hidden = $44;
                $C.level = $3N;
                $C.index = $12.i;
                $C.resource = $1g[i];
                $C.lines = [];
                $C.blocks = [];
                $C.isRow = true;
                $C.getHeight = function() {
                    var $04 = 0;
                    if ($e.groupConcurrentEvents) {
                        for (var i = 0; i < this.blocks.length; i++) {
                            var $3v = this.blocks[i];
                            $04 = Math.max($04, $3v.getHeight());
                        }
                    } else {
                        if (this.lines.length > 0) {
                            var $0p = this.lines.length - 1;
                            var $0g = this.lines[$0p];
                            var $46 = $0g.height || this.eventHeight;
                            var top = $0g.top || 0;
                            $04 = top + $46;
                        }
                    };
                    if ($04 === 0) {
                        $04 = this.eventHeight;
                    };
                    return ($04 > this.minHeight) ? $04 : this.minHeight;
                };
                $C.resetEvents = function() {
                    var r = this;
                    r.events = [];
                    r.events.forRange = function($E, end) {
                        var $f = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var ev = r.events[i];
                            if (DayPilot.Util.overlaps(ev.start, ev.end, $E, end)) {
                                $f.push(ev);
                            }
                        };
                        return $f;
                    };
                };
                $C.calculateUtilization = function() {
                    var r = this;
                    var $47 = r.sections = getSections();
                    for (var i = 0; i < $47.length; i++) {
                        var $R = $47[i];
                        $R.events = [];
                        for (var x = 0; x < r.events.length; x++) {
                            var e = r.events[x];
                            if (DayPilot.Util.overlaps($R.start, $R.end, e.start(), e.rawend())) {
                                $R.events.push(e);
                            }
                        };
                        $R.sum = function(name) {
                            var $48 = 0;
                            for (var i = 0; i < this.events.length; i++) {
                                var e = this.events[i];
                                var $49 = e.data[name];
                                if (typeof $49 === 'number') {
                                    $48 += $49;
                                }
                            };
                            return $48;
                        }
                    };

                    function getPoints() {
                        var $4a = [];
                        for (var i = 0; i < r.events.length; i++) {
                            var e = r.events[i];
                            if (!DayPilot.contains($4a, e.start().toString())) {
                                $4a.push(e.start().toString());
                            };
                            if (!DayPilot.contains($4a, e.rawend().toString())) {
                                $4a.push(e.rawend().toString());
                            }
                        };
                        $4a.sort();
                        return $4a;
                    };

                    function getSections() {
                        var $4a = getPoints();
                        var $47 = [];
                        var $R = {
                            "start": r.data.start
                        };
                        for (var i = 0; i < $4a.length; i++) {
                            $R.end = new DayPilot.Date($4a[i]);
                            $47.push($R);
                            $R = {
                                "start": new DayPilot.Date($4a[i])
                            };
                        };
                        $R.end = r.data.end;
                        $47.push($R);
                        $47.forRange = function($E, end) {
                            var $L = [];
                            for (var i = 0; i < this.length; i++) {
                                var $R = this[i];
                                if (DayPilot.Util.overlaps($E, end, $R.start, $R.end)) {
                                    $L.push($R);
                                }
                            };
                            $L.maxSum = function(name) {
                                var $u = 0;
                                for (var i = 0; i < this.length; i++) {
                                    var $R = this[i];
                                    var $48 = $R.sum(name);
                                    if ($48 > $u) {
                                        $u = $48;
                                    }
                                };
                                return $u;
                            };
                            return $L;
                        };
                        return $47;
                    }
                };
                $C.putIntoLine = function(ep) {
                    var $4b = this;
                    for (var i = 0; i < this.lines.length; i++) {
                        var $0g = this.lines[i];
                        if ($0g.isFree(ep.part.left, ep.part.width)) {
                            $0g.add(ep);
                            return i;
                        }
                    };
                    var $0g = [];
                    $0g.height = 0;
                    $0g.add = function(ep) {
                        this.push(ep);
                        if (ep.part.height > $0g.height) {
                            $0g.height = ep.part.height;
                        }
                    };
                    $0g.isFree = function($4c, $4d, $4e) {
                        var end = $4c + $4d - 1;
                        var $u = this.length;
                        for (var i = 0; i < $u; i++) {
                            var e = this[i];
                            if (!(end < e.part.left || $4c > e.part.left + e.part.width - 1)) {
                                if ($4e && $4e === e.data) {
                                    continue;
                                };
                                return false;
                            }
                        };
                        return true;
                    };
                    $0g.add(ep);
                    this.lines.push($0g);
                    return this.lines.length - 1;
                };
                $C.putIntoBlock = function(ep) {
                    for (var i = 0; i < this.blocks.length; i++) {
                        var $3v = this.blocks[i];
                        if (DayPilot.indexOf($3v.events, ep) !== -1) {
                            return;
                        };
                        if ($3v.overlapsWith(ep.part.left, ep.part.width)) {
                            $3v.events.push(ep);
                            ep.part.block = $3v;
                            $3v.min = Math.min($3v.min, ep.part.left);
                            $3v.max = Math.max($3v.max, ep.part.left + ep.part.width);
                            return i;
                        }
                    };
                    var $3v = {};
                    $3v.expanded = false;
                    $3v.row = this;
                    $3v.events = [];
                    $3v.lines = [];
                    $3v.putIntoLine = function(ep) {
                        var $4f = this;
                        for (var i = 0; i < this.lines.length; i++) {
                            var $0g = this.lines[i];
                            if ($0g.isFree(ep.part.left, ep.part.width)) {
                                $0g.add(ep);
                                return i;
                            }
                        };
                        var $0g = [];
                        $0g.height = 0;
                        $0g.add = function(ep) {
                            this.push(ep);
                            if (ep.part.height > $0g.height) {
                                $0g.height = ep.part.height;
                            }
                        };
                        $0g.isFree = function($E, $v) {
                            var end = $E + $v - 1;
                            var $u = this.length;
                            for (var i = 0; i < $u; i++) {
                                var e = this[i];
                                if (!(end < e.part.left || $E > e.part.left + e.part.width - 1)) {
                                    return false;
                                }
                            };
                            return true;
                        };
                        $0g.add(ep);
                        this.lines.push($0g);
                    };
                    $3v.overlapsWith = function($E, $v) {
                        var end = $E + $v - 1;
                        if (!(end < this.min || $E > this.max - 1)) {
                            return true;
                        };
                        return false;
                    };
                    $3v.getHeight = function() {
                        if (!this.expanded) {
                            return $e.eventHeight;
                        };
                        if (this.lines.length > 0) {
                            var $0p = this.lines.length - 1;
                            var $0g = this.lines[$0p];
                            var $46 = $0g.height || $e.eventHeight;
                            var top = $0g.top || 0;
                            return top + $46;
                        }
                    };
                    $3v.events.push(ep);
                    ep.part.block = $3v;
                    $3v.min = ep.part.left;
                    $3v.max = ep.part.left + ep.part.width;
                    this.blocks.push($3v);
                };
                this.rowlist.push($C);
                if (typeof $e.onRowFilter === "function" && $e.rows.$9W) {
                    var $h = {};
                    $h.visible = !$44;
                    $h.row = $e.$9i($C);
                    $h.filter = $e.rows.$9W;
                    $e.onRowFilter($h);
                    if (!$h.visible) {
                        $C.hidden = true;
                    }
                };
                if (parent !== null) {
                    parent.children.push($12.i);
                };
                if ($1e.columns) {
                    for (var j = 0; j < $1e.columns.length; j++) {
                        $C.columns.push($1e.columns[j]);
                    }
                };
                $12.i++;
                if ($43 && $1e.children && $1e.children.length) {
                    var $4g = $C.hidden || !$C.expanded;
                    this.$b3($1e.children, $12, $3N + 1, $C, true, $4g);
                }
            }
        };
        this.$aC = function($C) {
            if ($C.isNewRow) {
                return {
                    "row": {
                        "cssClass": $e.$82("_row_new"),
                        "moveDisabled": true,
                        "html": ""
                    }
                };
            };
            var $h = {};
            $h.row = this.$9i($C);
            DayPilot.Util.copyProps($C, $h.row, ['html', 'backColor', 'cssClass', 'toolTip', 'contextMenu', 'moveDisabled']);
            $h.row.columns = DayPilot.Util.createArrayCopy($C.columns, ['html']);
            $h.row.areas = DayPilot.Util.createArrayCopy($C.areas);
            if (typeof $h.row.columns === 'undefined' && $e.rowHeaderColumns && $e.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $e.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            if (typeof this.onBeforeRowHeaderRender === "function") {
                this.onBeforeRowHeaderRender($h);
            };
            return $h;
        };
        this.$b6 = function($1e, $45) {
            var r = this.$b7($1e, $45);
            if (typeof this.onBeforeResHeaderRender === 'function') {
                var $h = {};
                $h.resource = r;
                this.onBeforeResHeaderRender($h);
            };
            return r;
        };
        this.$b7 = function($1e, $45) {
            var r = {};
            for (var name in $45) {
                r[name] = $45[name];
            };
            for (var name in $1e) {
                r[name] = $1e[name];
            };
            if (typeof $1e.html === 'undefined') {
                r.html = $1e.name;
            };
            if (typeof r.columns === 'undefined' && $e.rowHeaderColumns && $e.rowHeaderColumns.length > 0) {
                r.columns = [];
                for (var i = 0; i < $e.rowHeaderColumns.length; i++) {
                    r.columns.push({});
                }
            };
            return r;
        };
        this.$b8 = function() {
            this.$b9();
            this.nav.top.dp = this;
            this.nav.top.innerHTML = "";
            if (!this.cssOnly) {
                this.nav.top.style.border = "1px solid " + this.borderColor;
            } else {
                DayPilot.Util.addClass(this.nav.top, this.$82("_main"));
            };
            if (DayPilot.browser.ie9) {
                DayPilot.Util.addClass(this.nav.top, this.$82("_browser_ie9"));
            };
            if (DayPilot.browser.ie8) {
                DayPilot.Util.addClass(this.nav.top, this.$82("_browser_ie8"));
            };
            this.nav.top.style.MozUserSelect = 'none';
            this.nav.top.style.KhtmlUserSelect = 'none';
            this.nav.top.style.webkitUserSelect = 'none';
            if (this.width) {
                this.nav.top.style.width = this.width;
            };
            if (this.heightSpec === "Parent100Pct") {
                this.nav.top.style.height = "100%";
            };
            this.nav.top.style.lineHeight = "1.2";
            this.nav.top.style.position = "relative";
            if (!this.visible) {
                this.nav.top.style.display = "none";
            };
            this.nav.top.onmousemove = this.$ba;
            this.nav.top.ontouchstart = $0v.onMainTouchStart;
            this.nav.top.ontouchmove = $0v.onMainTouchMove;
            this.nav.top.ontouchend = $0v.onMainTouchEnd;
            if (this.hideUntilInit && this.backendUrl) {
                this.nav.top.style.visibility = 'hidden';
            };
            var $4h = this.$85();
            var $4i = this.$9N.layout();
            if ($4i === 'DivBased') {
                var $G = document.createElement("div");
                $G.style.position = "absolute";
                $G.style.left = "0px";
                $G.style.width = ($4h) + "px";
                $G.appendChild(this.$bb());
                var $4j = document.createElement("div");
                $4j.style.height = "1px";
                $4j.className = this.$82("_divider_horizontal");
                if (!this.cssOnly) {
                    $4j.style.backgroundColor = this.borderColor;
                };
                $G.appendChild($4j);
                this.nav.dh1 = $4j;
                $G.appendChild(this.$bc());
                this.nav.left = $G;
                var $4k = document.createElement("div");
                $4k.style.position = "absolute";
                $4k.style.left = ($4h) + "px";
                $4k.style.width = $00.splitterWidth() + "px";
                $4k.style.height = (this.$84() + this.$88()) + "px";
                $4k.className = this.$82("_divider") + " " + this.$82("_splitter");
                $4k.setAttribute("unselectable", "on");
                if (!this.cssOnly) {
                    $4k.style.backgroundColor = this.borderColor;
                };
                this.nav.divider = $4k;
                if (this.rowHeaderScrolling) {
                    this.$bd();
                };
                var $H = document.createElement("div");
                $H.style.marginLeft = ($4h + $00.splitterWidth()) + "px";
                $H.style.marginRight = '1px';
                $H.style.position = 'relative';
                $H.appendChild(this.$be());
                this.nav.right = $H;
                var $4l = document.createElement("div");
                $4l.style.height = "1px";
                $4l.style.position = "absolute";
                $4l.style.top = this.$84() + "px";
                $4l.style.width = "100%";
                $4l.className = this.$82("_divider_horizontal");
                if (!this.cssOnly) {
                    $4l.style.backgroundColor = this.borderColor;
                };
                $H.appendChild($4l);
                this.nav.dh2 = $4l;
                $H.appendChild(this.$bf());
                var $4m = document.createElement("div");
                $4m.style.clear = 'left';
                this.nav.top.appendChild($G);
                this.nav.top.appendChild($4k);
                this.nav.top.appendChild($H);
                this.nav.top.appendChild($4m);
            } else {
                var $2V = document.createElement("table");
                $2V.cellPadding = 0;
                $2V.cellSpacing = 0;
                $2V.border = 0;
                $2V.style.position = 'absolute';
                if (!this.cssOnly) {
                    $2V.style.backgroundColor = this.hourNameBackColor;
                };
                var $4n = $2V.insertRow(-1);
                var $4o = $4n.insertCell(-1);
                $4o.appendChild(this.$bb());
                var $4p = $4n.insertCell(-1);
                $4p.appendChild(this.$be());
                var $4q = $2V.insertRow(-1);
                var $4r = $4q.insertCell(-1);
                $4r.appendChild(this.$bc());
                var $4s = $4q.insertCell(-1);
                $4s.appendChild(this.$bf());
                this.nav.top.appendChild($2V);
            };
            this.$7s = document.createElement("div");
            this.$7s.style.display = "none";
            this.nav.top.appendChild(this.$7s);
            if (this.$9y()) {
                var $4t = document.createElement("input");
                $4t.type = "hidden";
                $4t.id = this.id + "_state";
                $4t.name = this.id + "_state";
                this.nav.state = $4t;
                this.nav.top.appendChild($4t);
            };
            var $2T = 5;
            var loading = document.createElement("div");
            loading.style.position = 'absolute';
            loading.style.left = (this.$85() + $00.splitterWidth() + 5) + "px";
            loading.style.top = (this.$84() + 5) + "px";
            loading.style.display = 'none';
            if (!this.cssOnly) {
                loading.style.backgroundColor = this.loadingLabelBackColor;
                loading.style.fontSize = this.loadingLabelFontSize;
                loading.style.fontFamily = this.loadingLabelFontFamily;
                loading.style.color = this.loadingLabelFontColor;
                loading.style.padding = '2px';
            };
            loading.innerHTML = this.loadingLabelText;
            DayPilot.Util.addClass(loading, this.$82("_loading"));
            this.nav.loading = loading;
            this.nav.top.appendChild(loading);
            this.$bg();
        };
        this.$ba = function(ev) {
            if ($39.row) {
                var $1r = DayPilot.mo3($e.divHeader, ev);
                var ri = $e.$9F($1r.y);
                var $C = $e.rowlist[ri.i];
                if ($C.isNewRow) {
                    return;
                };
                var $4u = $1r.y - ri.top;
                var $4v = ri.bottom - ri.top;
                var $4w = $4v / 3;
                var $4x = $4w * 2;
                var $1x = $4v / 2;
                var $s = "before";
                var $4y = $C.children && $C.children.length > 0;
                var $4z = (function() {
                    var i = ri.i;
                    var $4A = $C.level;
                    while (i >= 0) {
                        var r = $e.rowlist[i];
                        i--;
                        if ($4A <= r.level) {
                            continue;
                        };
                        if (r === $39.row) {
                            return true;
                        };
                        if (r.level === 0) {
                            return false;
                        };
                        $4A = r.level;
                    };
                    return false;
                })();
                var $4B = true;
                if ($4z || ri.i === $39.row.index) {
                    $s = "forbidden";
                } else if ($4B) {
                    if ($4y) {
                        if ($4u < $1x) {
                            $s = "before";
                        } else {
                            $s = "child";
                        }
                    } else {
                        if ($4u < $4w) {
                            $s = "before";
                        } else if ($4u < $4x) {
                            $s = "child";
                        } else {
                            $s = "after";
                        }
                    }
                } else {
                    if ($4y) {
                        $s = "before";
                    } else {
                        if ($4u < $1x) {
                            $s = "before";
                        } else {
                            $s = "after";
                        }
                    }
                };
                if ($39.row.moveDisabled) {
                    $s = "forbidden";
                };
                $39.calendar = $e;
                $39.source = $39.row;
                $39.target = $e.rowlist[ri.i];
                $39.position = $s;
                var $4C = (function() {
                    if (!$39.last) {
                        return true;
                    };
                    if ($39.last.target !== $39.target) {
                        return true;
                    };
                    if ($39.last.position !== $39.position) {
                        return true;
                    };
                    return false;
                })();
                if ($4C) {
                    if (typeof $e.onRowMoving === 'function') {
                        var $h = {};
                        $h.source = $e.$9i($39.source);
                        $h.target = $e.$9i($39.target);
                        $h.position = $s;
                        $e.onRowMoving($h);
                        $39.position = $h.position;
                    }
                } else if ($39.last) {
                    $39.position = $39.last.position;
                };
                $39.last = {};
                $39.last.target = $39.target;
                $39.last.position = $39.position;
                (function drawRowPosition() {
                    if ($39.div) {
                        DayPilot.de($39.div);
                    };
                    var top = ri.top;
                    var $y = $39.position;
                    var ro = $e.rowlist[ri.i];
                    var $3N = ro.level;
                    var $G = $3N * $e.treeIndent;
                    switch ($y) {
                        case "before":
                            top = ri.top;
                            break;
                        case "child":
                            top = ri.top + $1x;
                            break;
                        case "after":
                            top = ri.bottom;
                            break;
                        case "forbidden":
                            top = ri.top + $1x;
                            break;
                    };
                    var $v = $e.$ap() - $G;
                    var $s = document.createElement("div");
                    $s.style.position = "absolute";
                    $s.style.left = $G + "px";
                    $s.style.width = $v + "px";
                    $s.style.top = top + "px";
                    $s.className = $e.$82("_rowmove_position_" + $y);
                    $39.div = $s;
                    $e.divResScroll.appendChild($s);
                })();
            } else if (DayPilotScheduler.splitting) {
                var $v = DayPilot.mo3($e.nav.top, ev).x;
                var $u = $e.$ap();
                var $32 = Math.min($u, $v - 1);
                $e.rowHeaderWidth = $32;
                $e.$aT = false;
                $e.$aU();
            }
        };
        this.$7D = function() {
            var $04 = this.$84();
            this.nav.corner.style.height = ($04) + "px";
            this.divTimeScroll.style.height = $04 + "px";
            this.divNorth.style.height = $04 + "px";
            if (this.nav.dh1 && this.nav.dh2) {
                this.nav.dh1.style.top = $04 + "px";
                this.nav.dh2.style.top = $04 + "px";
            };
            this.nav.loading.style.top = ($04 + 5) + "px";
            this.nav.scroll.style.top = ($04 + 1) + "px";
        };
        this.$85 = function() {
            if (this.$aT) {
                return 0;
            };
            var $4D = this.rowHeaderScrolling;
            if ($4D) {
                return this.rowHeaderWidth;
            };
            return this.$ap();
        };
        this.$bd = function() {
            var $P = this.nav.divider;
            $P.style.cursor = "col-resize";
            $P.setAttribute("unselectable", "on");
            $P.onmousedown = function(ev) {
                var $4E = DayPilotScheduler.splitting = {};
                $4E.cursor = $e.nav.top.style.cursor;
                $4E.cleanup = function() {
                    $e.nav.top.style.cursor = $4E.cursor;
                    if (typeof $e.onRowHeaderResized === "function") {
                        var $h = {};
                        $e.onRowHeaderResized($h);
                    }
                };
                $e.nav.top.style.cursor = "col-resize";
                return false;
            };
        };
        this.$aU = function() {
            var $4F = $00.splitterWidth();
            var $v = this.$85();
            this.nav.corner.style.width = $v + "px";
            this.divCorner.style.width = $v + "px";
            this.divResScroll.style.width = $v + "px";
            this.nav.left.style.width = ($v) + "px";
            this.nav.divider.style.left = ($v) + "px";
            this.nav.right.style.marginLeft = ($v + $4F) + "px";
            if (this.nav.message) {
                this.nav.message.style.left = ($v + $4F) + "px";
            };
            if (this.nav.loading) {
                this.nav.loading.style.left = ($v + $4F + 5) + "px";
            };
            if (this.nav.hideIcon) {
                var hi = this.nav.hideIcon;
                var $4G = $e.$82("_header_icon_show");
                var $4H = $e.$82("_header_icon_hide");
                hi.style.left = ($v + $4F - 1) + "px";
                if ($e.$aT) {
                    DayPilot.Util.removeClass(hi, $4H);
                    DayPilot.Util.addClass(hi, $4G);
                } else {
                    DayPilot.Util.removeClass(hi, $4G);
                    DayPilot.Util.addClass(hi, $4H);
                }
            }
        };
        this.$bh = function() {
            this.$ao();
            var $05 = this.$ap();
            var $4I = function($I, $v, $G) {
                if (!$I || !$I.style) {
                    return;
                };
                var $P = $I.firstChild;
                if ($e.$aw) {
                    $I.style.width = $v + "px";
                    $P.style.width = $v + "px";
                    if (typeof $G === "number") {
                        $I.style.left = $G + "px";
                    }
                } else {
                    $P.style.width = $v + "px";
                }
            };
            var $2V = this.divHeader;
            $2V.style.width = $05 + "px";
            var $0X = $e.$aq();
            for (var i = $0X.start; i < $0X.end; i++) {
                var $C = $2V.rows[i];
                if (!$C) {
                    continue;
                };
                var $I = $C.cells[0];
                if ($I.colSpan > 1) {
                    var $I = $C.cells[0];
                    $4I($I, $05);
                } else {
                    if (this.rowHeaderCols) {
                        var $G = 0;
                        for (var j = 0; j < $C.cells.length; j++) {
                            var $v = this.rowHeaderCols[j];
                            var $I = $C.cells[j];
                            $4I($I, $v, $G);
                            $G += $v;
                        }
                    } else {
                        var $v = this.rowHeaderWidth;
                        var $I = $C.cells[0];
                        $4I($I, $v);
                    }
                }
            };
            if ($e.nav.resScrollSpace) {
                $e.nav.resScrollSpace.style.width = $05 + "px";
            };
            this.$bi();
        };
        this.$8W = function() {
            this.$aU();
            this.$bh();
        };
        this.$bj = function() {
            var $P = $e.nav.corner;
            var $1B = this.rowHeaderColumns;
            var scroll = document.createElement("div");
            scroll.style.position = "absolute";
            scroll.style.bottom = "0px";
            scroll.style.left = "0px";
            scroll.style.width = "100%";
            scroll.style.height = $00.headerHeight() + "px";
            scroll.style.overflow = "hidden";
            $e.nav.columnScroll = scroll;
            var $C = document.createElement("div");
            $C.style.position = "absolute";
            $C.style.bottom = "0px";
            $C.style.left = "0px";
            $C.style.width = "5000px";
            $C.style.height = $00.headerHeight() + "px";
            $C.style.overflow = "hidden";
            $C.className = this.$82("_columnheader");
            scroll.appendChild($C);
            var $S = document.createElement("div");
            $S.style.position = "absolute";
            $S.style.top = "0px";
            $S.style.bottom = "0px";
            $S.style.left = "0px";
            $S.style.right = "0px";
            $S.className = this.$82("_columnheader_inner");
            $C.appendChild($S);
            var $4J = new DayPilot.Splitter($S);
            $4J.widths = DayPilot.Util.propArray($1B, "width");
            $4J.height = $00.headerHeight();
            $4J.css.title = this.$82("_columnheader_cell");
            $4J.css.titleInner = this.$82("_columnheader_cell_inner");
            $4J.css.splitter = this.$82("_columnheader_splitter");
            $4J.titles = DayPilot.Util.propArray($1B, "title");
            $4J.updating = function($h) {
                DayPilot.Util.updatePropsFromArray($e.rowHeaderColumns, "width", this.widths);
                $e.$8W();
                if ($e.cellWidthSpec === "Auto") {}
            };
            $4J.updated = function($4K) {
                if (typeof $e.onRowHeaderColumnResized === "function") {
                    var $h = {};
                    $h.column = $e.rowHeaderColumns[$4K.index];
                    $e.onRowHeaderColumnResized($h);
                };
                $e.$av();
            };
            $4J.color = '#000000';
            $4J.opacity = 30;
            $4J.init();
            $P.appendChild(scroll);
            this.$au = $4J;
        };
        this.$8V = function() {
            var $P = this.nav.corner;
            $P.innerHTML = '';
            $P.className = this.cssOnly ? this.$82('_corner') : this.$82('corner');
            if (!this.cssOnly) {
                $P.style.backgroundColor = this.hourNameBackColor;
                $P.style.fontFamily = this.hourFontFamily;
                $P.style.fontSize = this.hourFontSize;
                $P.style.cursor = 'default';
            };
            var $S = document.createElement("div");
            $S.style.position = "absolute";
            $S.style.top = "0px";
            $S.style.left = "0px";
            $S.style.right = "0px";
            $S.style.bottom = "0px";
            if (this.cssOnly) {
                $S.className = this.$82('_corner_inner');
            };
            this.divCorner = $S;
            $S.innerHTML = '&nbsp;';
            if (this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                var $4L = document.createElement("div");
                $4L.style.position = "absolute";
                $4L.style.top = "0px";
                $4L.style.left = "0px";
                $4L.style.right = "0px";
                $4L.style.bottom = ($00.headerHeight() + 1) + "px";
                $P.appendChild($4L);
                var $4k = document.createElement("div");
                $4k.style.position = "absolute";
                $4k.style.left = "0px";
                $4k.style.right = "0px";
                $4k.style.height = "1px";
                $4k.style.bottom = ($00.headerHeight()) + "px";
                $4k.className = this.$82("_divider");
                $P.appendChild($4k);
                $4L.appendChild($S);
                this.$bj();
            } else {
                $P.appendChild($S);
            };
            var $4M = document.createElement("div");
            $4M.style.position = 'absolute';
            $4M.style.padding = '2px';
            $4M.style.top = '0px';
            $4M.style.left = '1px';
            $4M.style.backgroundColor = "#FF6600";
            $4M.style.color = "white";
            $4M.innerHTML = "\u0044\u0045\u004D\u004F";
            if (this.numberFormat) $P.appendChild($4M);
        };
        this.$bg = function() {
            if (!this.rowHeaderHideIconEnabled) {
                return;
            };
            var $4N = 3;
            var $G = this.$85() + $00.splitterWidth() - 1;
            var $v = 10;
            var $04 = 20;
            var top = this.$84() + $4N;
            var $P = DayPilot.Util.div(this.nav.top, $G, top, $v, $04);
            $P.style.cursor = "pointer";
            $P.className = $e.$82("_header_icon");
            DayPilot.Util.addClass($P, $e.$82("_header_icon_hide"));
            $P.onclick = function() {
                $e.rows.headerToggle();
            };
            this.nav.hideIcon = $P;
        };
        this.$bb = function() {
            var $4h = this.$85();
            var $P = document.createElement("div");
            $e.nav.corner = $P;
            $P.style.width = $4h + "px";
            $P.style.height = (this.$84()) + "px";
            $P.style.overflow = 'hidden';
            $P.style.position = 'relative';
            $P.setAttribute("unselectable", "on");
            $P.onmousemove = function() {
                $e.$ax();
            };
            $P.oncontextmenu = function() {
                return false;
            };
            this.$8V();
            return $P;
        };
        this.$84 = function() {
            if (this.timeHeader) {
                var $4O = this.timeHeader.length;
                return $4O * $00.headerHeight();
            };
            return 2 * $00.headerHeight();
        };
        this.$bc = function() {
            var $P = document.createElement("div");
            if (!this.cssOnly) {
                $P.style.backgroundColor = this.hourNameBackColor;
            };
            $P.style.width = (this.$85()) + "px";
            $P.style.height = this.$88() + "px";
            $P.style.overflow = 'hidden';
            $P.style.position = 'relative';
            $P.className = $e.$82("_rowheader_scroll");
            $P.onmousemove = function() {
                $e.$ax();
            };
            $P.onscroll = function() {
                if ($e.nav.columnScroll) {
                    $e.nav.columnScroll.scrollLeft = $P.scrollLeft;
                };
                $e.nav.scroll.scrollTop = $P.scrollTop;
            };
            $P.onwheel = function(ev) {
                var $4P = ev.deltaY > 0 ? $e.eventHeight : -$e.eventHeight;
                $e.nav.scroll.scrollTop = $P.scrollTop + $4P;
                ev.preventDefault && ev.preventDefault();
            };
            $P.onmousewheel = function(ev) {
                ev = ev || window.event;
                var $4P = ev.wheelDelta < 0 ? $e.eventHeight : -$e.eventHeight;
                $e.nav.scroll.scrollTop = $P.scrollTop + $4P;
                ev.preventDefault && ev.preventDefault();
                ev.returnValue = false;
            };
            $P.oncontextmenu = function() {
                return false;
            };
            $P.onmouseenter = function() {
                if ($e.rowHeaderScrolling) {
                    $P.style.overflowX = "auto";
                }
            };
            $P.onmouseleave = function() {
                if ($e.rowHeaderScrolling) {
                    $P.style.overflowX = "hidden";
                }
            };
            this.divResScroll = $P;
            this.$89 = $P;
            return $P;
        };
        this.$bk = function($P) {
            if ($00.layout() === 'TableBased') {
                var $v = parseInt(this.width, 10);
                var $4Q = (this.width.indexOf("%") !== -1);
                var $4R = /MSIE/i.test(navigator.userAgent);
                var $4h = this.$ap();
                if ($4Q) {
                    if (this.nav.top && this.nav.top.offsetWidth > 0) {
                        $P.style.width = (this.nav.top.offsetWidth - 6 - $4h) + "px";
                    }
                } else {
                    $P.style.width = ($v - $4h) + "px";
                }
            }
        };
        this.$9K = function() {
            if ($e.$9N.layout() === 'TableBased') {
                $e.$bk($e.nav.scroll);
                $e.$bk($e.divTimeScroll);
            };
            $e.$7E();
            $e.$av();
            $e.$7k.drawArea = null;
            $e.$7U();
        };
        this.$av = function() {
            if (!$e.initialized) {
                return;
            };
            if ($e.cellWidthSpec !== 'Auto') {
                return;
            };
            $e.debug.message("cell width recalc in _resize");
            $e.$7t();
            $e.$7u();
            $e.$7z();
            $e.$7F();
            $e.$7I();
            $e.$7H();
            $e.$7J();
            $e.$7G();
            $e.$7x();
            $e.$7K();
        };
        this.$7t = function() {
            if (this.cellWidthSpec !== 'Auto') {
                return;
            };
            var $05 = this.nav.top.clientWidth;
            var $4S = this.$85();
            var $0O = $05 - $4S;
            var $I = $0O / this.$83();
            this.cellWidth = Math.floor($I);
            $e.debug.message("AutoCellWidth: " + this.cellWidth);
        };
        this.$8c = function() {
            var $05 = this.nav.top.clientWidth;
            var $4S = this.$85();
            var $4T = 2;
            var $04 = this.$88();
            var innerHeight = this.$bl();
            var $4U = 0;
            if (innerHeight > $04) {
                $4U = DayPilot.swa();
            };
            var $0O = $05 - $4S - $4T - $4U;
            this.debug.message("scrollableWidth: " + $0O);
            return $0O;
        };
        this.$be = function() {
            var $P = document.createElement("div");
            $P.style.overflow = 'hidden';
            if (!this.cssOnly) {
                $P.style.backgroundColor = this.hourNameBackColor;
            };
            $P.style.position = 'absolute';
            $P.style.display = 'block';
            $P.style.top = "0px";
            $P.style.width = "100%";
            $P.style.height = this.$84() + "px";
            $P.style.overflow = "hidden";
            $P.onmousemove = function() {
                $e.$ax();
                if ($e.cellBubble) {
                    $e.cellBubble.delayedHide();
                }
            };
            this.$bk($P);
            this.divTimeScroll = $P;
            var $S = document.createElement("div");
            $S.style.width = (this.$83() * this.cellWidth + 5000) + "px";
            this.divNorth = $S;
            $P.appendChild($S);
            return $P;
        };
        this.$88 = function() {
            var $04 = 0;
            if (this.heightSpec === 'Fixed' || this.heightSpec === "Parent100Pct") {
                return this.height ? this.height : 0;
            } else {
                $04 = this.$bl();
            };
            if (this.heightSpec === 'Max' && $04 > this.height) {
                return this.height;
            };
            return $04;
        };
        this.$bl = function() {
            var $04;
            if (this.$7j) {
                var $4V = DayPilot.sh($e.nav.scroll);
                if ($4V === 0) {
                    $04 = this.$7j;
                } else {
                    $04 = this.$7j + $4V;
                }
            } else {
                $04 = this.rowlist.length * this.$9N.eventHeight();
            };
            return $04;
        };
        this.$ax = function() {
            this.$bi();
            this.$bm();
            this.$bn();
        };
        this.$bf = function() {
            var $P = document.createElement("div");
            $P.style.overflow = "auto";
            $P.style.overflowX = "auto";
            $P.style.overflowY = "auto";
            $P.style.position = "absolute";
            $P.style.height = (this.$88()) + "px";
            $P.style.top = (this.$84() + 1) + "px";
            $P.style.width = "100%";
            if (!this.cssOnly) {
                $P.style.backgroundColor = this.emptyBackColor;
            };
            $P.className = this.$82("_scrollable");
            $P.oncontextmenu = function() {
                return false;
            };
            this.$bk($P);
            this.nav.scroll = $P;
            this.$7Q = document.createElement("div");
            this.$7Q.style.MozUserSelect = "none";
            this.$7Q.style.KhtmlUserSelect = "none";
            this.$7Q.style.webkitUserSelect = "none";
            this.$7Q.daypilotMainD = true;
            this.$7Q.calendar = this;
            if ($a) {
                this.$7Q.style.webkitTransform = "translateZ(0px)";
            };
            this.$7Q.style.position = 'absolute';
            var $4W = this.$bo();
            if ($4W > 0 && !isNaN($4W)) {
                this.$7Q.style.width = ($4W) + "px";
            };
            this.$7Q.setAttribute("unselectable", "on");
            this.$7Q.onmousedown = this.$bp;
            this.$7Q.onmousemove = this.$bq;
            this.$7Q.oncontextmenu = this.$br;
            this.$7Q.ondblclick = this.$bs;
            this.$7Q.className = this.$82("_matrix");
            this.divStretch = document.createElement("div");
            this.divStretch.style.position = 'absolute';
            this.divStretch.style.height = '1px';
            this.$7Q.appendChild(this.divStretch);
            this.divCells = document.createElement("div");
            this.divCells.style.position = 'absolute';
            this.divCells.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divCells);
            this.divLines = document.createElement("div");
            this.divLines.style.position = 'absolute';
            this.divLines.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divLines);
            this.divBreaks = document.createElement("div");
            this.divBreaks.style.position = 'absolute';
            this.divBreaks.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divBreaks);
            this.divSeparators = document.createElement("div");
            this.divSeparators.style.position = 'absolute';
            this.divSeparators.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divSeparators);
            this.divLinksBelow = document.createElement("div");
            this.divLinksBelow.style.position = "absolute";
            this.$7Q.appendChild(this.divLinksBelow);
            this.divCrosshair = document.createElement("div");
            this.divCrosshair.style.position = 'absolute';
            this.divCrosshair.ondblclick = this.$bs;
            this.$7Q.appendChild(this.divCrosshair);
            this.divRange = document.createElement("div");
            this.divRange.style.position = 'absolute';
            this.divRange.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divRange);
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.$7Q.appendChild(this.divEvents);
            this.divSeparatorsAbove = document.createElement("div");
            this.divSeparatorsAbove.style.position = 'absolute';
            this.divSeparatorsAbove.oncontextmenu = this.$br;
            this.$7Q.appendChild(this.divSeparatorsAbove);
            this.divLinksAbove = document.createElement("div");
            this.divLinksAbove.style.position = "absolute";
            this.$7Q.appendChild(this.divLinksAbove);
            this.divLinkShadow = document.createElement("div");
            this.divLinkShadow.style.position = "absolute";
            this.$7Q.appendChild(this.divLinkShadow);
            this.divLinkpoints = document.createElement("div");
            this.divLinkpoints.style.position = "absolute";
            this.$7Q.appendChild(this.divLinkpoints);
            this.divHover = document.createElement("div");
            this.divHover.style.position = 'absolute';
            this.$7Q.appendChild(this.divHover);
            $P.appendChild(this.$7Q);
            return $P;
        };
        this.$bt = {};
        var $4X = this.$bt;
        $4X.create = function() {
            if ($e.nav.overlay) {
                return;
            };
            var $P = document.createElement('div');
            $P.style.position = "absolute";
            $P.style.left = "0px";
            $P.style.right = "0px";
            $P.style.top = "0px";
            $P.style.bottom = "0px";
            $P.className = $e.$82("_block");
            $e.nav.top.appendChild($P);
            $e.nav.overlay = $P;
        };
        $4X.show = function() {
            $4X.create();
            $e.nav.overlay.style.display = '';
        };
        $4X.hide = function() {
            if ($e.nav.overlay) {
                $e.nav.overlay.style.display = 'none';
            }
        };
        this.$9u = function() {
            if ($e.loadingTimeout) {
                window.clearTimeout($e.loadingTimeout);
            };
            $e.loadingTimeout = window.setTimeout(function() {
                if ($e.loadingLabelVisible) {
                    $e.nav.loading.innerHTML = $e.loadingLabelText;
                    $e.nav.loading.style.display = '';
                };
                if ($e.blockOnCallBack) {
                    $4X.show();
                }
            }, 100);
        };
        this.$7n = function($4Y) {
            if (this.loadingTimeout) {
                window.clearTimeout(this.loadingTimeout);
            };
            if ($4Y) {
                this.nav.loading.innerHTML = $4Y;
                window.setTimeout(function() {
                    $e.$7n();
                }, 1000);
            } else {
                this.nav.loading.style.display = 'none';
                if (this.blockOnCallBack) {
                    $4X.hide();
                }
            }
        };
        this.$bu = function() {
            this.startDate = new DayPilot.Date(this.startDate).getDatePart();
        };
        this.$bv = function($4Z) {
            var $P = document.createElement("div");
            $P.style.position = "absolute";
            $P.style.top = "-2000px";
            $P.style.left = "-2000px";
            $P.className = this.$82($4Z);
            document.body.appendChild($P);
            var $04 = $P.offsetHeight;
            var $v = $P.offsetWidth;
            document.body.removeChild($P);
            var $f = {};
            $f.height = $04;
            $f.width = $v;
            return $f;
        };
        this.$7o = function($50) {
            if ($50) {
                this.autoRefreshEnabled = true;
            };
            if (!this.autoRefreshEnabled) {
                return;
            };
            if (this.autoRefreshCount >= this.autoRefreshMaxCount) {
                return;
            };
            $e.debug.message("autorefresh started");
            this.$9t();
            var $51 = this.autoRefreshInterval;
            if (!$51 || $51 < 10) {
                throw "The minimum autoRefreshInterval is 10 seconds";
            };
            this.autoRefreshTimeout = window.setTimeout(function() {
                $e.$bw();
            }, this.autoRefreshInterval * 1000);
        };
        this.$9t = function() {
            if (this.autoRefreshTimeout) {
                window.clearTimeout(this.autoRefreshTimeout);
            }
        };
        this.$bw = function() {
            if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving && !DayPilotScheduler.drag && !DayPilotScheduler.range) {
                var $52 = false;
                if (typeof this.onAutoRefresh === 'function') {
                    var $h = {};
                    $h.i = this.autoRefreshCount;
                    $h.preventDefault = function() {
                        this.preventDefault.value = true;
                    };
                    $e.onAutoRefresh($h);
                    if ($h.preventDefault.value) {
                        $52 = true;
                    }
                };
                if (!$52 && this.$8d()) {
                    this.commandCallBack(this.autoRefreshCommand);
                };
                this.autoRefreshCount++;
            };
            if (this.autoRefreshCount < this.autoRefreshMaxCount) {
                this.autoRefreshTimeout = window.setTimeout(function() {
                    $e.$bw();
                }, this.autoRefreshInterval * 1000);
            }
        };
        this.$bx = function() {
            if (!DayPilotScheduler.globalHandlers) {
                DayPilotScheduler.globalHandlers = true;
                DayPilot.re(document, 'mousemove', DayPilotScheduler.gMouseMove);
                DayPilot.re(document, 'mouseup', DayPilotScheduler.gMouseUp);
                DayPilot.re(document, 'touchmove', DayPilotScheduler.gTouchMove);
                DayPilot.re(document, 'touchend', DayPilotScheduler.gTouchEnd);
            };
            DayPilot.re(window, 'resize', this.$9K);
        };
        this.$by = function() {
            this.nav.scroll.root = this;
            this.nav.scroll.onscroll = this.$7S;
            $e.$bz = this.nav.scroll.scrollLeft;
            $e.$bA = this.nav.scroll.scrollTop;
            $e.$bB = this.divNorth.clientWidth;
        };
        this.$7N = function() {
            if (!this.nav.state) {
                return;
            };
            var $53 = {};
            $53.scrollX = this.nav.scroll.scrollLeft;
            $53.scrollY = this.nav.scroll.scrollTop;
            if (this.syncResourceTree) {
                $53.tree = this.$9D();
            };
            this.nav.state.value = DayPilot.he(DayPilot.JSON.stringify($53));
        };
        this.$7J = function() {
            if (!this.separators) {
                return;
            };
            for (var i = 0; i < this.separators.length; i++) {
                this.$bC(i);
            }
        };
        this.$bD = {};
        this.$bD.step = 300;
        this.$bD.delay = 10;
        this.$bD.mode = "display";
        this.$bD.layers = true;
        this.$aR = function($C) {
            var $54 = true;
            var $55 = this.$7f ? 10 : 0;
            var $3u = 0;
            for (var j = 0; j < $C.lines.length; j++) {
                var $0g = $C.lines[j];
                for (var k = 0; k < $0g.length; k++) {
                    var e = $0g[k];
                    if (!e.part.top || $54) {
                        e.part.line = j;
                        if (!e.part.height) {
                            e.part.height = $C.eventHeight;
                        };
                        e.part.top = $3u + $C.marginTop;
                        e.part.detachedBarTop = e.part.top - $55;
                        e.part.right = e.part.left + e.part.width;
                        e.part.fullTop = this.rowlist[e.part.dayIndex].top + e.part.top;
                        e.part.fullBottom = e.part.fullTop + e.part.height;
                    }
                };
                $3u += ($0g.height || $C.eventHeight) * this.eventStackingLineHeight / 100;
            }
        };
        this.$7K = function($0S) {
            var $x = this.$bD.step;
            var $56 = this.$bD.layers;
            if ($56) {
                $e.divEvents = document.createElement("div");
                $e.divEvents.style.position = 'absolute';
                $e.$7Q.insertBefore(this.divEvents, this.divSeparatorsAbove);
            };
            if (this.$bD.mode === 'display') {
                this.divEvents.style.display = 'none';
            } else if (this.$bD.mode === 'visibility') {
                this.divEvents.style.visibility = 'hidden';
            };
            var $57 = this.dynamicEventRendering === 'Progressive';
            var $D = this.$7V();
            var top = $D.pixels.top;
            var $01 = $D.pixels.bottom;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                var $58 = $C.top - this.dynamicEventRenderingMargin;
                var $59 = $58 + $C.height + 2 * this.dynamicEventRenderingMargin;
                if ($57 && ($01 <= $58 || top >= $59)) {
                    continue;
                };
                this.$aR($C);
                for (var j = 0; j < $C.lines.length; j++) {
                    var $0g = $C.lines[j];
                    for (var k = 0; k < $0g.length; k++) {
                        var e = $0g[k];
                        var $5a = this.$bE(e);
                        if ($0S && $5a) {
                            $x--;
                            if ($x <= 0) {
                                this.divEvents.style.visibility = '';
                                this.divEvents.style.display = '';
                                window.setTimeout(function() {
                                    $e.$7K($0S);
                                }, $e.$bD.delay);
                                return;
                            }
                        }
                    }
                }
            };
            this.divEvents.style.display = '';
            this.$7Y();
            $0P.load();
            this.$7n();
        };
        this.$90 = function($5b) {
            var $C = this.rowlist[$5b];
            this.divEvents = document.createElement("div");
            this.divEvents.style.position = 'absolute';
            this.divEvents.style.display = 'none';
            this.$7Q.insertBefore(this.divEvents, this.divSeparatorsAbove);
            var $55 = this.$7f ? 10 : 0;
            this.$aR($C);
            for (var j = 0; j < $C.lines.length; j++) {
                var $0g = $C.lines[j];
                for (var k = 0; k < $0g.length; k++) {
                    var e = $0g[k];
                    this.$bE(e);
                }
            };
            this.divEvents.style.display = '';
        };
        this.$7G = function() {
            if (this.elements.events) {
                var length = this.elements.events.length;
                for (var i = 0; i < length; i++) {
                    var $P = this.elements.events[i];
                    this.$bF($P);
                }
            };
            this.elements.events = [];
        };
        this.$8Z = function($5b) {
            if (this.elements.events) {
                var length = this.elements.events.length;
                var $5c = [];
                for (var i = 0; i < length; i++) {
                    var $P = this.elements.events[i];
                    if ($P.row === $5b) {
                        this.$bF($P);
                        $5c.push(i);
                    }
                };
                for (var i = $5c.length - 1; i >= 0; i--) {
                    this.elements.events.splice($5c[i], 1);
                }
            }
        };
        this.$bF = function($P) {
            $P.onclick = null;
            $P.oncontextmenu = null;
            $P.onmouseover = null;
            $P.onmouseout = null;
            $P.onmousemove = null;
            $P.onmousedown = null;
            $P.ondblclick = null;
            if ($P.event) {
                if (!$P.isBar) {
                    $P.event.rendered = null;
                };
                $P.event = null;
            };
            if ($P.related) {
                DayPilot.de($P.related);
            };
            if ($P.parentNode) {
                $P.parentNode.removeChild($P);
            }
        };
        this.$bG = function($P) {
            if ($P.event) {
                $P.event.rendered = false;
            };
            $P.onclick = null;
            $P.onmousedown = null;
            $P.event = null;
            if ($P.parentNode) {
                $P.parentNode.removeChild($P);
            }
        };
        this.$bH = function($5d) {
            if (!$5d) {
                $5d = 0;
            };
            if (this.dynamicEventRendering !== 'Progressive') {
                return;
            };
            this.divEvents.style.display = 'none';
            var $5e = [];
            var $5f = 0;
            var length = this.elements.events.length;
            for (var i = length - 1; i >= 0; i--) {
                var $P = this.elements.events[i];
                if (this.$bI($P.event)) {
                    if ($5d > 0) {
                        $5d--;
                        $5e.unshift($P);
                    } else {
                        this.$bF($P);
                        $5f++;
                    }
                } else {
                    $5e.unshift($P);
                }
            };
            this.elements.events = $5e;
            this.divEvents.style.display = '';
        };
        this.$bJ = function($5d) {
            var $5e = [];
            var $5f = 0;
            var $D = this.$7V();
            var length = this.elements.cells.length;
            for (var i = length - 1; i >= 0; i--) {
                var $P = this.elements.cells[i];
                var $5g = ($D.xStart < $P.coords.x && $P.coords.x <= $D.xEnd) && ($D.yStart < $P.coords.y && $P.coords.y <= $D.yEnd);
                if (!$5g) {
                    if ($5d > 0) {
                        $5d--;
                        $5e.unshift($P);
                    } else {
                        this.$a5($P);
                        $5f++;
                    }
                } else {
                    $5e.unshift($P);
                }
            }
        };
        this.$a5 = function($P) {
            if (!$P) {
                return;
            };
            var x = $P.coords.x;
            var y = $P.coords.y;
            var $12 = DayPilot.indexOf($e.elements.cells, $P);
            $e.elements.cells.splice($12, 1);
            if ($P.parentNode) {
                $P.parentNode.removeChild($P);
            };
            $e.$7k.cells[x + "_" + y] = null;
        };
        this.$7H = function() {
            if (this.elements.separators) {
                for (var i = 0; i < this.elements.separators.length; i++) {
                    var $P = this.elements.separators[i];
                    DayPilot.de($P);
                }
            };
            this.elements.separators = [];
        };
        this.$bK = function() {
            var $57 = this.dynamicEventRendering === 'Progressive';
            if (!this.nav.scroll) {
                return false;
            };
            var top = this.nav.scroll.scrollTop;
            var $01 = top + this.nav.scroll.clientHeight;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                var $58 = $C.top;
                var $59 = $C.top + $C.height;
                if ($57 && ($01 <= $58 || top >= $59)) {
                    continue;
                };
                for (var j = 0; j < $C.lines.length; j++) {
                    var $0g = $C.lines[j];
                    for (var k = 0; k < $0g.length; k++) {
                        var e = $0g[k];
                        if (this.$bL(e)) {
                            return true;
                        }
                    }
                }
            };
            return false;
        };
        this.$bL = function($m) {
            if ($m.rendered) {
                return false;
            };
            var $57 = this.dynamicEventRendering === 'Progressive';
            var $G = this.nav.scroll.scrollLeft;
            var $H = $G + this.nav.scroll.clientWidth;
            var $5h = $m.Left;
            var $5i = $m.Left + $m.Width;
            if ($57 && ($H <= $5h || $G >= $5i)) {
                return false;
            };
            return true;
        };
        this.$bI = function(ev) {
            if (!ev.rendered) {
                return true;
            };
            var $D = this.$7V();
            var top = $D.pixels.top;
            var $01 = $D.pixels.bottom;
            var $G = $D.pixels.left - this.dynamicEventRenderingMargin;
            var $H = $D.pixels.right + this.dynamicEventRenderingMargin;
            var $5h = ev.part.left;
            var $5i = ev.part.right;
            var $5j = ev.part.fullTop;
            var $5k = ev.part.fullBottom;
            if ($H <= $5h || $G >= $5i) {
                return true;
            };
            if ($01 <= $5j || top >= $5k) {
                return true;
            };
            return false;
        };
        this.$bM = function($3v) {
            if ($3v.rendered) {
                return false;
            };
            var $G = $3v.min;
            var $v = $3v.max - $3v.min;
            var $04 = $e.eventHeight;
            var top = $3v.row.top;
            var $P = document.createElement("div");
            $P.style.position = 'absolute';
            $P.style.left = $G + 'px';
            $P.style.top = top + 'px';
            $P.style.width = $v + 'px';
            $P.style.height = $04 + 'px';
            $P.className = $e.$82("_event_group");
            $P.style.cursor = "pointer";
            var $h = {};
            $h.group = {};
            $h.group.count = $3v.events.length;
            $h.group.html = "[+] " + $3v.events.length + " events";
            if (typeof $e.onBeforeGroupRender === "function") {
                $e.onBeforeGroupRender($h);
            };
            var $S = document.createElement("div");
            $S.innerHTML = $h.group.html;
            $P.appendChild($S);
            $P.onmousedown = function(ev) {
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $P.onclick = function(ev) {
                var $3v = $P.event;
                $3v.expanded = true;
                $e.$bG($P);
                var $5l = DayPilot.indexOf($e.elements.events, $P);
                if ($5l !== -1) {
                    $e.elements.events.splice($5l, 1);
                };
                $e.$8I();
                $e.$8J($3v.part.dayIndex);
                $e.$7E();
                var ev = ev || window.event;
                ev.cancelBubble = true;
            };
            $3v.part = {};
            $3v.part.left = $G;
            $3v.part.width = $v;
            $3v.part.dayIndex = DayPilot.indexOf($e.rowlist, $3v.row);
            $3v.part.top = 0;
            $3v.client = {};
            $3v.client.html = function() {
                return $h.group.html;
            };
            $P.event = $3v;
            this.elements.events.push($P);
            this.divEvents.appendChild($P);
            $3v.rendered = true;
            return true;
        };
        this.$bE = function($m) {
            if ($m.rendered) {
                return false;
            };
            if ($e.groupConcurrentEvents) {
                var $3v = $m.part.block;
                if ($3v.events.length > 1 && !$3v.expanded) {
                    return $e.$bM($3v);
                }
            };
            var $57 = this.dynamicEventRendering === 'Progressive';
            var $D = this.$7V();
            var $G = $D.pixels.left - this.dynamicEventRenderingMargin;
            var $H = $D.pixels.right + this.dynamicEventRenderingMargin;
            var $5h = $m.part.left;
            var $5i = $m.part.left + $m.part.width;
            if ($57 && ($H <= $5h || $G >= $5i)) {
                return false;
            };
            var $5b = $m.part.dayIndex;
            var $5m = !this.cssOnly && this.eventBorderVisible;
            var $v = $m.part.width;
            var $04 = $m.part.height;
            if ($5m) {
                $v -= 2;
                $04 -= 2;
            };
            var $0i = $m.cache || $m.data;
            $v = Math.max(0, $v);
            $04 = Math.max(0, $04);
            var $C = this.rowlist[$5b];
            if ($C.hidden) {
                return false;
            };
            var $58 = $C.top;
            var $P = document.createElement("div");
            var $5n = this.$7f;
            $P.related = [];
            if ($5n) {
                var $5o = document.createElement("div");
                $5o.style.position = 'absolute';
                $5o.style.left = ($m.part.left + $m.part.barLeft) + 'px';
                $5o.style.top = ($58 + $m.part.detachedBarTop) + 'px';
                $5o.style.width = $m.part.barWidth + 'px';
                $5o.style.height = 5 + 'px';
                $5o.style.backgroundColor = "red";
                $5o.type = "detachedBar";
                $P.related.push($5o);
                this.divEvents.appendChild($5o);
            };
            if ($m.data.htmlLeft) {
                var $2T = 5;
                var $5p = document.createElement("div");
                $5p.style.position = 'absolute';
                $5p.style.right = -($m.part.left - $2T) + 'px';
                $5p.style.top = ($58 + $m.part.top) + 'px';
                $5p.style.height = $e.eventHeight + 'px';
                $5p.style.boxSizing = "border-box";
                $5p.innerHTML = $m.data.htmlLeft;
                $5p.className = $e.$82("_event_left");
                $5p.type = "divLeft";
                $P.related.push($5p);
                this.divEvents.appendChild($5p);
            };
            if ($m.data.htmlRight) {
                var $2T = 5;
                var $5q = document.createElement("div");
                $5q.style.position = 'absolute';
                $5q.style.left = ($m.part.left + $m.part.width + $2T) + 'px';
                $5q.style.top = ($58 + $m.part.top) + 'px';
                $5q.style.height = $e.eventHeight + 'px';
                $5q.style.boxSizing = "border-box";
                $5q.innerHTML = $m.data.htmlRight;
                $5q.className = $e.$82("_event_right");
                $5q.type = "divRight";
                $P.related.push($5q);
                this.divEvents.appendChild($5q);
            };
            var top = $58 + $m.part.top;
            $P.style.position = 'absolute';
            $P.style.left = $m.part.left + 'px';
            $P.style.top = ($58 + $m.part.top) + 'px';
            $P.style.width = $v + 'px';
            $P.style.height = $04 + 'px';
            if (!this.cssOnly) {
                if ($e.eventBorderVisible) {
                    $P.style.border = '1px solid ' + ($0i.borderColor || this.eventBorderColor);
                };
                $P.style.backgroundColor = $m.client.backColor();
                $P.style.fontSize = this.eventFontSize;
                $P.style.cursor = 'default';
                $P.style.fontFamily = this.eventFontFamily;
                $P.style.color = $0i.fontColor || this.eventFontColor;
                if ($0i.backImage && !this.durationBarVisible) {
                    $P.style.backgroundImage = "url(" + $0i.backImage + ")";
                    if ($0i.backRepeat) {
                        $P.style.backgroundRepeat = $0i.backRepeat;
                    }
                };
                if (this.$9N.rounded()) {
                    $P.style.MozBorderRadius = "5px";
                    $P.style.webkitBorderRadius = "5px";
                    $P.style.borderRadius = "5px";
                }
            };
            $P.style.whiteSpace = 'nowrap';
            $P.style.overflow = 'hidden';
            $P.className = this.cssOnly ? this.$82("_event") : this.$82("event");
            if ($m.data.type === "Milestone") {
                DayPilot.Util.addClass($P, $e.$82("_task_milestone"));
            };
            if ($m.data.type === "Group") {
                DayPilot.Util.addClass($P, $e.$82("_task_parent"));
                DayPilot.Util.addClass($P, $e.$82("_task_group"));
            };
            if ($0i.cssClass) {
                DayPilot.Util.addClass($P, $0i.cssClass);
            };
            var $5r = true;
            if ($5r) {
                DayPilot.Util.addClass($P, this.$82("_event_line" + $m.part.line));
            };
            $P.setAttribute("unselectable", "on");
            if (this.showToolTip && !this.bubble) {
                $P.title = $m.client.toolTip();
            };
            $P.onmousemove = this.$bN;
            $P.onmouseout = this.$bO;
            $P.onmousedown = this.$bP;
            $P.ontouchstart = $0v.onEventTouchStart;
            $P.ontouchmove = $0v.onEventTouchMove;
            $P.ontouchend = $0v.onEventTouchEnd;
            if ($m.client.clickEnabled()) {
                $P.onclick = this.$8o;
            };
            if ($m.client.doubleClickEnabled()) {
                $P.ondblclick = this.$8z;
            };
            $P.oncontextmenu = this.$8y;
            var $5s = [];
            var $5t = 0;
            if (this.cssOnly) {
                var $S = document.createElement("div");
                $S.setAttribute("unselectable", "on");
                $S.className = $e.$82("_event_inner");
                $S.innerHTML = $m.client.innerHTML();
                if ($0i.backColor) {
                    $S.style.background = $0i.backColor;
                    if (DayPilot.browser.ie9 || DayPilot.browser.ielt9) {
                        $S.style.filter = '';
                    }
                };
                if ($0i.fontColor) {
                    $S.style.color = $0i.fontColor;
                };
                if ($0i.borderColor) {
                    $S.style.borderColor = $0i.borderColor;
                };
                if ($0i.backImage) {
                    $S.style.backgroundImage = "url(" + $0i.backImage + ")";
                    if ($0i.backRepeat) {
                        $S.style.backgroundRepeat = $0i.backRepeat;
                    }
                };
                $P.appendChild($S);
                var $5u = $m.start().getTime() === $m.part.start.getTime();
                var $5v = $m.rawend().getTime() === $m.part.end.getTime();
                if (!$5u) {
                    DayPilot.Util.addClass($P, this.$82("_event_continueleft"));
                };
                if (!$5v) {
                    DayPilot.Util.addClass($P, this.$82("_event_continueright"));
                };
                if ($m.client.barVisible() && $v > 0) {
                    var $5w = 100 * $m.part.barLeft / ($v);
                    var $5x = Math.ceil(100 * $m.part.barWidth / ($v));
                    if (this.durationBarMode === "PercentComplete") {
                        $5w = 0;
                        $5x = $0i.complete || 0;
                    };
                    var $5o = document.createElement("div");
                    $5o.setAttribute("unselectable", "on");
                    $5o.className = this.$82("_event_bar");
                    $5o.style.position = "absolute";
                    if ($0i.barBackColor) {
                        $5o.style.backgroundColor = $0i.barBackColor;
                    };
                    var $5y = document.createElement("div");
                    $5y.setAttribute("unselectable", "on");
                    $5y.className = this.$82("_event_bar_inner");
                    $5y.style.left = $5w + "%";
                    if (0 < $5x && $5x <= 1) {
                        $5y.style.width = "1px";
                    } else {
                        $5y.style.width = $5x + "%";
                    };
                    if ($0i.barColor) {
                        $5y.style.backgroundColor = $0i.barColor;
                    };
                    if ($0i.barImageUrl) {
                        $5y.style.backgroundImage = "url(" + $0i.barImageUrl + ")";
                    };
                    $5o.appendChild($5y);
                    $P.appendChild($5o);
                }
            } else {
                if ($m.client.barVisible()) {
                    $5t = $e.durationBarHeight;
                    $5s.push("<div unselectable='on' style='left:0px;background-color:white;width:");
                    $5s.push($m.part.barLeft);
                    $5s.push("px;height:2px;font-size:1px;position:absolute'></div>");
                    $5s.push("<div unselectable='on' style='left:");
                    $5s.push($m.part.barLeft + $m.part.barWidth);
                    $5s.push("px;background-color:white;width:");
                    $5s.push($v - ($m.part.barLeft + $m.part.barWidth));
                    $5s.push("px;height:2px;font-size:1px;position:absolute'></div>");
                    if (this.durationBarMode === "Duration") {
                        $5s.push("<div unselectable='on' style='width:");
                        $5s.push($m.part.barWidth);
                        $5s.push("px;margin-left:");
                        $5s.push($m.part.barLeft);
                        $5s.push("px;height:");
                    } else {
                        $5s.push("<div unselectable='on' style='width:");
                        $5s.push($0i.complete);
                        $5s.push("%;margin-left:0px;height:");
                    };
                    $5s.push($5t - 1);
                    $5s.push("px;background-color:");
                    $5s.push($m.client.barColor());
                    if ($0i.barImageUrl) {
                        $5s.push(";background-image:url(");
                        $5s.push($0i.barImageUrl);
                        $5s.push(")");
                    };
                    $5s.push(";font-size:1px;position:relative'></div>");
                    $5s.push("<div unselectable='on' style='width:");
                    $5s.push($v);
                    $5s.push("px;height:1px;background-color:");
                    $5s.push(($0i.borderColor || this.eventBorderColor));
                    $5s.push(";font-size:1px;overflow:hidden;position:relative'></div>");
                };
                $5s.push("<div unselectable='on' style='padding-left:1px;width:");
                $5s.push($v - 1);
                $5s.push("px;height:");
                $5s.push($04 - $5t);
                $5s.push("px;");
                if ($e.rtl) {
                    $5s.push("direction:rtl;");
                };
                if ($0i.backImage && this.durationBarVisible) {
                    $5s.push("background-image:url(");
                    $5s.push($0i.backImage);
                    $5s.push(");");
                    if ($0i.backRepeat) {
                        $5s.push("background-repeat:");
                        $5s.push($0i.backRepeat);
                        $5s.push(";");
                    }
                };
                $5s.push("'>");
                $5s.push($m.client.innerHTML());
                $5s.push("</div>");
                $P.innerHTML = $5s.join('');
            };
            $P.row = $5b;
            if ($0i.areas) {
                for (var i = 0; i < $0i.areas.length; i++) {
                    var $D = $0i.areas[i];
                    var v = $D.v || "Visible";
                    if (v !== "Visible") {
                        continue;
                    };
                    var a = DayPilot.Areas.createArea($P, $m, $D);
                    $P.appendChild(a);
                }
            };
            this.elements.events.push($P);
            this.divEvents.appendChild($P);
            $m.rendered = true;
            $P.event = $m;
            if ($e.multiselect.$8N($P.event)) {
                $e.multiselect.add($P.event, true);
                $e.multiselect.$8M($P);
            };
            if ($e.$7P()) {
                if (typeof $e.onAfterEventRender === 'function') {
                    var $h = {};
                    $h.e = $P.event;
                    $h.div = $P;
                    $e.onAfterEventRender($h);
                }
            } else {
                if ($e.afterEventRender) {
                    $e.afterEventRender($P.event, $P);
                }
            };
            return true;
        };
        this.$7P = function() {
            return $e.api === 2;
        };
        this.$91 = function() {
            for (var i = 0; i < this.elements.events.length; i++) {
                var $P = this.elements.events[i];
                var event = $P.event;
                var $5b = event.part.dayIndex;
                var $C = this.rowlist[$5b];
                var $58 = $C.top;
                var top = $58 + event.part.top;
                $P.style.top = top + 'px';
                if (DayPilot.isArray($P.related)) {
                    for (var j = 0; j < $P.related.length; j++) {
                        var $5z = $P.related[j];
                        if ($5z.type === "divLeft" || $5z.type === "divRight") {
                            $5z.style.top = top + 'px';
                        }
                    }
                }
            }
        };
        this.$9T = function(e) {
            if (!e) {
                return null;
            };
            for (var i = 0; i < $e.elements.events.length; i++) {
                var $P = $e.elements.events[i];
                if ($P.event === e || $P.event.data === e.data) {
                    return $P;
                }
            };
            return null;
        };
        this.$bO = function(ev) {
            var $P = this;
            DayPilot.Areas.hideAreas($P, ev);
            if ($e.cssOnly) {
                DayPilot.Util.removeClass($P, $e.$82("_event_hover"));
            };
            $e.$bQ($P);
            if (!$1y.source) {
                $0P.hideLinkpointsWithDelay();
            };
            if ($e.bubble && $e.eventHoverHandling === 'Bubble') {
                $e.bubble.hideOnMouseOut();
            }
        };
        this.$bR = function($P) {
            if (typeof this.onEventMouseOver === "function") {
                var $h = {};
                $h.div = $P;
                $h.e = $P.event;
                this.onEventMouseOver($h);
            }
        };
        this.$bQ = function($P) {
            if (typeof this.onEventMouseOut === "function") {
                var $h = {};
                $h.div = $P;
                $h.e = $P.event;
                this.onEventMouseOut($h);
            }
        };
        this.$bN = function(ev) {
            ev = ev || window.event;
            if ($e.cellBubble) {
                $e.cellBubble.delayedHide();
            };
            var $P = this;
            while ($P && !$P.event) {
                $P = $P.parentNode;
            };
            $e.$bS($P, ev);
            if (!$P.active) {
                var $38 = [];
                if ($e.eventDeleteHandling !== "Disabled") {
                    var top = $e.durationBarVisible ? $e.durationBarHeight : 0;
                    $38.push({
                        "action": "JavaScript",
                        "v": "Hover",
                        "w": 17,
                        "h": 17,
                        "top": top + 2,
                        "right": 2,
                        "css": $e.$82("_event_delete"),
                        "js": function(e) {
                            $e.$8v(e);
                        }
                    });
                };
                var $L = $P.event.cache ? $P.event.cache.areas : $P.event.data.areas;
                if ($L && $L.length > 0) {
                    $38 = $38.concat($L);
                };
                DayPilot.Areas.showAreas($P, $P.event, null, $38);
                if ($e.cssOnly) {
                    DayPilot.Util.addClass($P, $e.$82("_event_hover"));
                };
                $e.$bR($P);
            };
            if ($e.linkCreateHandling !== "Disabled" && !$1y.source) {
                $0P.clearHideTimeout();
                $0P.hideLinkpoints();
                if (!DayPilotScheduler.moving && !DayPilotScheduler.resizing) {
                    $0P.showLinkpoint($P);
                }
            };
            if (ev.srcElement) {
                ev.srcElement.insideEvent = true;
            } else {
                ev.insideEvent = true;
            }
        };
        this.$bT = {};
        var $0w = this.$bT;
        this.$bP = function(ev) {
            $e.$ax();
            if (typeof DayPilot.Bubble !== 'undefined') {
                DayPilot.Bubble.hideActive();
            };
            ev = ev || window.event;
            var $5A = DayPilot.Util.mouseButton(ev);
            if ($5A.left) {
                if (this.style.cursor === 'w-resize' || this.style.cursor === 'e-resize') {
                    DayPilotScheduler.resizing = this;
                    DayPilotScheduler.originalMouse = DayPilot.mc(ev);
                    document.body.style.cursor = this.style.cursor;
                    $0P.hideLinkpoints();
                } else if (this.style.cursor === 'move') {
                    DayPilotScheduler.moving = this;
                    DayPilotScheduler.originalMouse = DayPilot.mc(ev);
                    DayPilotScheduler.moveOffsetX = DayPilot.mo3(this, ev).x;
                    DayPilotScheduler.moveDragStart = $e.getDate($e.coords.x, true);
                    document.body.style.cursor = 'move';
                    $0P.hideLinkpoints();
                } else if ($e.moveBy === 'Full' && this.event.client.moveEnabled()) {
                    $0w.start = true;
                    $0w.moving = this;
                    $0w.originalMouse = DayPilot.mc(ev);
                    $0w.moveOffsetX = DayPilot.mo3(this, ev).x;
                    $0w.moveDragStart = $e.getDate($e.coords.x, true);
                    $0P.hideLinkpoints();
                }
            };
            ev.cancelBubble = true;
            return false;
        };
        this.$bU = {};
        var $0v = $e.$bU;
        $0v.active = false;
        $0v.start = false;
        $0v.timeouts = [];
        $0v.onEventTouchStart = function(ev) {
            if ($0v.active || $0v.start) {
                return;
            };
            $0v.clearTimeouts();
            $0v.start = true;
            $0v.active = false;
            var $P = this;
            var $5B = 500;
            $0v.timeouts.push(window.setTimeout(function() {
                $0v.active = true;
                $0v.start = false;
                $e.coords = $0v.relativeCoords(ev);
                $0v.startMoving($P, ev);
                ev.preventDefault();
            }, $5B));
            ev.stopPropagation();
        };
        $0v.onEventTouchMove = function(ev) {
            $0v.clearTimeouts();
            $0v.start = false;
        };
        $0v.onEventTouchEnd = function(ev) {
            $0v.clearTimeouts();
            if ($0v.start) {
                $e.$8s(this, ev);
            };
            window.setTimeout(function() {
                $0v.start = false;
                $0v.active = false;
            }, 500);
        };
        $0v.onMainTouchStart = function(ev) {
            if ($0v.active || $0v.start) {
                return;
            };
            $0v.clearTimeouts();
            $0v.start = true;
            $0v.active = false;
            var $5B = 500;
            $0v.timeouts.push(window.setTimeout(function() {
                $0v.active = true;
                $0v.start = false;
                ev.preventDefault();
                $e.coords = $0v.relativeCoords(ev);
                $0v.range = $e.$bV();
            }, $5B));
        };
        $0v.onMainTouchMove = function(ev) {
            $0v.clearTimeouts();
            $0v.start = false;
            if ($0v.active) {
                ev.preventDefault();
                $e.coords = $0v.relativeCoords(ev);
                if (DayPilotScheduler.moving) {
                    $0v.updateMoving();
                    return;
                };
                if ($0v.range) {
                    var $0X = $0v.range;
                    $0X.end = {
                        x: Math.floor($e.coords.x / $e.cellWidth)
                    };
                    $e.$99($0X);
                }
            }
        };
        $0v.onMainTouchEnd = function(ev) {
            $0v.clearTimeouts();
            if ($0v.active) {
                if (DayPilotScheduler.moving) {
                    ev.preventDefault();
                    var e = DayPilotScheduler.moving.event;
                    var $0E = DayPilotScheduler.movingShadow.start;
                    var $0F = DayPilotScheduler.movingShadow.end;
                    var $0G = ($e.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
                    var external = DayPilotScheduler.drag ? true : false;
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    $e.$an();
                    DayPilotScheduler.movingShadow.calendar = null;
                    document.body.style.cursor = '';
                    DayPilotScheduler.moving = null;
                    DayPilotScheduler.movingShadow = null;
                    $e.$94(e, $0E, $0F, $0G, external);
                };
                if ($0v.range) {
                    var $5C = $e.$bW($0v.range);
                    $0v.range = null;
                    $e.$98($5C.start, $5C.end, $5C.resource);
                }
            };
            window.setTimeout(function() {
                $0v.start = false;
                $0v.active = false;
            }, 500);
        };
        $0v.clearTimeouts = function() {
            for (var i = 0; i < $0v.timeouts.length; i++) {
                clearTimeout($0v.timeouts[i]);
            };
            $0v.timeouts = [];
        };
        $0v.relativeCoords = function(ev) {
            var $5D = $e.$7Q;
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $5E = DayPilot.abs($5D);
            var $1r = {
                x: x - $5E.x,
                y: y - $5E.y,
                toString: function() {
                    return "x: " + this.x + ", y:" + this.y;
                }
            };
            return $1r;
        };
        $0v.startMoving = function($P, ev) {
            var $1r = {
                x: ev.touches[0].pageX,
                y: ev.touches[0].pageY
            };
            DayPilotScheduler.moving = $P;
            DayPilotScheduler.originalMouse = $1r;
            var $5F = DayPilot.abs($P);
            DayPilotScheduler.moveOffsetX = $1r.x - $5F.x;
            DayPilotScheduler.moveDragStart = $e.getDate($e.coords.x, true);
            DayPilotScheduler.movingShadow = $e.$9O($P, $e.shadow);
            $e.$ah();
        };
        $0v.updateMoving = function() {
            if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $e) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            };
            if (!DayPilotScheduler.movingShadow) {
                var mv = DayPilotScheduler.moving;
                DayPilotScheduler.movingShadow = $e.$9O(mv, $e.shadow);
            };
            DayPilotScheduler.moving.target = $e;
            $e.$ah();
        };
        this.$bS = function($P, ev) {
            var $5G = this.eventResizeMargin;
            var $5H = this.eventMoveMargin;
            var $1p = $P;
            if (typeof(DayPilotScheduler) === 'undefined') {
                return;
            };
            var $0o = DayPilot.mo3($P, ev);
            if (!$0o) {
                return;
            };
            $e.eventOffset = $0o;
            if (DayPilotScheduler.resizing) {
                return;
            };
            var $5I = $1p.event.part.start.toString() === $1p.event.start().toString();
            var $5J = $1p.event.part.end.toString() === $1p.event.rawend().toString();
            if ($e.moveBy === 'Top' && $0o.y <= $5H && $1p.event.client.moveEnabled() && $e.eventMoveHandling !== 'Disabled') {
                if ($5I) {
                    $P.style.cursor = 'move';
                } else {
                    $P.style.cursor = 'not-allowed';
                }
            } else if (($e.moveBy === 'Top' || $e.moveBy === 'Full') && $0o.x <= $5G && $1p.event.client.resizeEnabled() && $e.eventResizeHandling !== 'Disabled') {
                if ($5I) {
                    $P.style.cursor = "w-resize";
                    $P.dpBorder = 'left';
                } else {
                    $P.style.cursor = 'not-allowed';
                }
            } else if ($e.moveBy === 'Left' && $0o.x <= $5H && $1p.event.client.moveEnabled() && $e.eventMoveHandling !== 'Disabled') {
                if ($5I) {
                    $P.style.cursor = "move";
                } else {
                    $P.style.cursor = 'not-allowed';
                }
            } else if ($P.offsetWidth - $0o.x <= $5G && $1p.event.client.resizeEnabled() && $e.eventResizeHandling !== 'Disabled') {
                if ($5J) {
                    $P.style.cursor = "e-resize";
                    $P.dpBorder = 'right';
                } else {
                    $P.style.cursor = 'not-allowed';
                }
            } else if (!DayPilotScheduler.resizing && !DayPilotScheduler.moving) {
                if ($1p.event.client.clickEnabled() && $e.eventClickHandling !== 'Disabled') {
                    $P.style.cursor = 'pointer';
                } else {
                    $P.style.cursor = 'default';
                }
            };
            if (typeof(DayPilotBubble) !== 'undefined' && $e.bubble && $e.eventHoverHandling === 'Bubble') {
                if ($P.style.cursor === 'default' || $P.style.cursor === 'pointer') {
                    var $5K = this.$bX && $0o.x === this.$bX.x && $0o.y === this.$bX.y;
                    if (!$5K) {
                        this.$bX = $0o;
                        $e.bubble.showEvent($P.event);
                    }
                } else {}
            }
        };
        this.$83 = function() {
            if (this.viewType !== 'Days') {
                return this.itline.length;
            } else {
                return Math.floor(24 * 60 / this.cellDuration);
            }
        };
        this.$bW = function($0X) {
            var $0X = $0X || DayPilotScheduler.range || DayPilotScheduler.rangeHold;
            if (!$0X) {
                return null;
            };
            var $C = $e.rowlist[$0X.start.y];
            if (!$C) {
                return null;
            };
            var $0W = $C.id;
            var $5L = $0X.end.x > $0X.start.x ? $0X.start.x : $0X.end.x;
            var $5M = ($0X.end.x > $0X.start.x ? $0X.end.x : $0X.start.x);
            var $2a = $C.start.getTime() - this.$a4().getTime();
            var $E = this.itline[$5L].start.addTime($2a);
            var end = this.itline[$5M].end.addTime($2a);
            return new DayPilot.Selection($E, end, $0W, $e);
        };
        this.$bY = function($1p) {
            var $5N = $1p.parentNode;
            var $5O = document.createElement('textarea');
            $5O.style.position = 'absolute';
            $5O.style.width = (($1p.offsetWidth < 100) ? 100 : ($1p.offsetWidth - 2)) + 'px';
            $5O.style.height = ($1p.offsetHeight - 2) + 'px';
            $5O.style.fontFamily = DayPilot.gs($1p, 'fontFamily') || DayPilot.gs($1p, 'font-family');
            $5O.style.fontSize = DayPilot.gs($1p, 'fontSize') || DayPilot.gs($1p, 'font-size');
            $5O.style.left = $1p.offsetLeft + 'px';
            $5O.style.top = $1p.offsetTop + 'px';
            $5O.style.border = '1px solid black';
            $5O.style.padding = '0px';
            $5O.style.marginTop = '0px';
            $5O.style.backgroundColor = 'white';
            $5O.value = DayPilot.tr($1p.event.text());
            $5O.event = $1p.event;
            $5N.appendChild($5O);
            return $5O;
        };
        this.$8t = function($1p) {
            if (DayPilotScheduler.editing) {
                DayPilotScheduler.editing.blur();
                return;
            };
            var $5O = this.$bY($1p);
            DayPilotScheduler.editing = $5O;
            $5O.onblur = function() {
                var $5P = $1p.event.text();
                var $0Z = $5O.value;
                DayPilotScheduler.editing = null;
                if ($5O.parentNode) {
                    $5O.parentNode.removeChild($5O);
                };
                if ($5P === $0Z) {
                    return;
                };
                $1p.style.display = 'none';
                $e.$9q($1p.event, $0Z);
            };
            $5O.onkeypress = function(e) {
                var $3R = (window.event) ? event.keyCode : e.keyCode;
                if ($3R === 13) {
                    this.onblur();
                    return false;
                } else if ($3R === 27) {
                    $5O.parentNode.removeChild($5O);
                    DayPilotScheduler.editing = false;
                };
                return true;
            };
            $5O.select();
            $5O.focus();
        };
        this.$aD = function(ev) {
            var td = this;
            if (typeof(DayPilotBubble) !== 'undefined') {
                if ($e.cellBubble) {
                    $e.cellBubble.hideOnMouseOut();
                };
                if ($e.resourceBubble) {
                    var $1e = {};
                    $1e.calendar = $e;
                    $1e.id = td.row.id;
                    $1e.toJSON = function() {
                        var $1b = {};
                        $1b.id = this.id;
                        return $1b;
                    };
                    $e.resourceBubble.showResource($1e);
                }
            }
        };
        this.$aE = function(ev) {
            var td = this;
            if (typeof(DayPilotBubble) !== 'undefined' && $e.resourceBubble) {
                $e.resourceBubble.hideOnMouseOut();
            };
            var $P = td.firstChild;
            DayPilot.Areas.hideAreas($P, ev);
            $P.data = null;
        };
        this.$aF = function(ev) {
            if ($39.row) {
                $10.cancelClick = true;
                setTimeout(function() {
                    $10.cancelClick = false;
                }, 100);
            }
        };
        this.$7z = function() {
            this.$bZ();
            return;
        };
        this.$bZ = function() {
            if (!this.timeHeader) {
                $e.debug.message("drawTimeHeader: timeHeader not available");
                return;
            };
            this.$7k.timeHeader = {};
            var $4S = document.createElement("div");
            $4S.style.position = "relative";
            this.nav.timeHeader = $4S;
            for (var y = 0; y < this.timeHeader.length; y++) {
                var $C = this.timeHeader[y];
                for (var x = 0; x < $C.length; x++) {
                    this.$c0(x, y);
                }
            };
            var $5Q = this.divNorth;
            DayPilot.puc($5Q);
            $5Q.innerHTML = '';
            $5Q.appendChild($4S);
            var $4W = this.$bo();
            $5Q.style.width = (this.$bo() + 5000) + "px";
            var $5R = this.divCorner;
            if (!this.cssOnly) {
                $5R.style.backgroundColor = this.cornerBackColor;
            };
            if (this.cornerHtml) {
                $5R.innerHTML = this.cornerHtml;
            } else {
                $5R.innerHTML = '';
            };
            var $4W = this.$bo();
            if ($4W > 0) {
                this.divStretch.style.width = (this.$bo()) + "px";
            }
        };
        this.$8j = function(h, $5S) {
            var $V = null;
            var $42 = this.$9N.locale();
            var $5S = $5S || this.cellGroupBy;
            var $1z = h.start;
            var to = h.end;
            var $42 = this.$9N.locale();
            switch ($5S) {
                case 'Hour':
                    $V = ($e.$9N.timeFormat() === 'Clock12Hours') ? $1z.toString("h tt", $42) : $1z.toString("H", $42);
                    break;
                case 'Day':
                    $V = $1z.toString($42.datePattern);
                    break;
                case 'Week':
                    $V = $00.weekStarts() === 1 ? $1z.weekNumberISO() : $1z.weekNumber();
                    break;
                case 'Month':
                    $V = $1z.toString("MMMM yyyy", $42);
                    break;
                case 'Year':
                    $V = $1z.toString("yyyy");
                    break;
                case 'None':
                    $V = '';
                    break;
                case 'Cell':
                    if (this.scale === 'Manual' || this.scale === 'CellDuration') {
                        var $0u = (h.end.ticks - h.start.ticks) / 60000;
                        $V = this.$c1($1z, $0u);
                    } else {
                        $V = this.$8j(h, this.scale);
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            return $V;
        };
        this.$c1 = function($E, $0u) {
            var $42 = this.$9N.locale();
            var $0u = $0u || this.cellDuration;
            if ($0u < 60) {
                return $E.toString("mm");
            } else if ($0u < 1440) {
                return $e.$9N.timeFormat() === 'Clock12Hours' ? $E.toString("h tt", $42) : $E.toString("H", $42);
            } else if ($0u < 10080) {
                return $E.toString("d");
            } else if ($0u === 10080) {
                return $00.weekStarts() === 1 ? $E.weekNumberISO() : $E.weekNumber();
            } else {
                return $E.toString("MMMM yyyy", $42);
            }
        };
        this.$8g = function($1z) {
            var $5T = this.scale;
            switch ($5T) {
                case "Cell":
                    throw "Invalid scale: Cell";
                case "Manual":
                    throw "Internal error (addScaleSize in Manual mode)";
                case "Minute":
                    return $1z.addMinutes(1);
                case "CellDuration":
                    return $1z.addMinutes(this.cellDuration);
                default:
                    return this.$8i($1z, $5T);
            }
        };
        this.$8i = function($1z, $5S) {
            var to;
            var $5U = this.viewType !== 'Days' ? this.days : 1;
            var $5V = this.startDate.addDays($5U);
            var $5S = $5S || this.cellGroupBy;
            var $5W = 60;
            switch ($5S) {
                case 'Hour':
                    to = $1z.addHours(1);
                    break;
                case 'Day':
                    to = $1z.addDays(1);
                    break;
                case 'Week':
                    to = $1z.addDays(1);
                    while (to.dayOfWeek() !== $00.weekStarts()) {
                        to = to.addDays(1);
                    };
                    break;
                case 'Month':
                    to = $1z.addMonths(1);
                    to = to.firstDayOfMonth();
                    var $5X = (DayPilot.Date.diff(to.d, $1z.d) / (1000.0 * 60)) % $5W === 0;
                    while (!$5X) {
                        to = to.addHours(1);
                        $5X = (DayPilot.Date.diff(to.d, $1z.d) / (1000.0 * 60)) % $5W === 0;
                    };
                    break;
                case 'Year':
                    to = $1z.addYears(1);
                    to = to.firstDayOfYear();
                    var $5X = (DayPilot.Date.diff(to.d, $1z.d) / (1000.0 * 60)) % $5W === 0;
                    while (!$5X) {
                        to = to.addHours(1);
                        $5X = (DayPilot.Date.diff(to.d, $1z.d) / (1000.0 * 60)) % $5W === 0;
                    };
                    break;
                case 'None':
                    to = $5V;
                    break;
                case 'Cell':
                    var $I = this.$8n($1z);
                    if ($I.current) {
                        to = $I.current.end;
                    } else {
                        if ($I.past) {
                            to = $I.previous.end;
                        } else {
                            to = $I.next.start;
                        }
                    };
                    break;
                default:
                    throw 'Invalid cellGroupBy value';
            };
            if (to.getTime() > $5V.getTime()) {
                to = $5V;
            };
            return to;
        };
        this.$c0 = function(x, y) {
            var $4S = this.nav.timeHeader;
            var p = this.timeHeader[y][x];
            var $5Y = y < this.timeHeader.length - 1;
            var top = y * $00.headerHeight();
            var $G = p.left;
            var $v = p.width;
            var $04 = $00.headerHeight();
            var $I = document.createElement("div");
            $I.style.position = "absolute";
            $I.style.top = top + "px";
            $I.style.left = $G + "px";
            $I.style.width = $v + "px";
            $I.style.height = $04 + "px";
            if (p.toolTip) {
                $I.title = p.toolTip;
            };
            $I.setAttribute("unselectable", "on");
            $I.style.KhtmlUserSelect = 'none';
            $I.style.MozUserSelect = 'none';
            $I.style.webkitUserSelect = 'none';
            $I.oncontextmenu = function() {
                return false;
            };
            $I.cell = {};
            $I.cell.start = p.start;
            $I.cell.end = p.end;
            $I.cell.level = y;
            $I.cell.th = p;
            $I.onclick = this.$aK;
            $I.style.overflow = 'hidden';
            if (!this.cssOnly) {
                var $5Z = y === this.timeHeader.length - 1;
                $I.style.textAlign = "center";
                $I.style.backgroundColor = (typeof $I.backColor === 'undefined') ? $e.hourNameBackColor : $I.backColor;
                $I.style.fontFamily = this.hourFontFamily;
                $I.style.fontSize = this.hourFontSize;
                $I.style.color = this.headerFontColor;
                $I.style.cursor = 'default';
                $I.style.border = '0px none';
                if (!$5Z) {
                    $I.style.height = ($04 - 1) + "px";
                    $I.style.borderBottom = "1px solid " + this.borderColor;
                };
                $I.style.width = ($v - 1) + "px";
                $I.style.borderRight = "1px solid " + this.hourNameBorderColor;
                $I.style.whiteSpace = 'nowrap';
                $I.className = this.$82('timeheadergroup');
            };
            var $S = document.createElement("div");
            $S.setAttribute("unselectable", "on");
            $S.innerHTML = p.innerHTML;
            if (p.backColor) {
                $S.style.background = p.backColor;
            };
            if (this.cssOnly) {
                var cl = this.$82("_timeheadercol");
                var $60 = this.$82("_timeheadercol_inner");
                if ($5Y) {
                    cl = this.$82("_timeheadergroup");
                    $60 = this.$82("_timeheadergroup_inner");
                };
                DayPilot.Util.addClass($I, cl);
                DayPilot.Util.addClass($S, $60);
            };
            $I.appendChild($S);
            this.$7k.timeHeader[x + "_" + y] = $I;
            $4S.appendChild($I);
        };
        this.$8I = function() {
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                var $5e = $C.getHeight() + $C.marginBottom + $C.marginTop;
                if ($C.height !== $5e || typeof $e.onBeforeCellRender === "function") {
                    this.$8Y = true;
                };
                $C.height = $5e;
            }
        };
        this.$7C = function() {
            var $4S = this.divHeader;
            if (!$4S) {
                return false;
            };
            var $1X = this.rowlist.length;
            var $1m = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
            var j = 0;
            for (var i = 0; i < $1X; i++) {
                var $C = this.rowlist[i];
                if ($C.hidden) {
                    continue;
                };
                var $12 = this.$aw ? i : j;
                if (!$4S.rows[$12]) {
                    continue;
                };
                for (var c = 0; c < $4S.rows[$12].cells.length; c++) {
                    var $61 = $4S.rows[$12].cells[c];
                    if (this.$aw) {
                        $61.style.top = $C.top + "px";
                    };
                    var $62 = $C.height;
                    if ($61 && $61.firstChild && parseInt($61.firstChild.style.height, 10) !== $62) {
                        $61.firstChild.style.height = $62 + "px";
                    }
                };
                j++;
            };
            if (this.$aw) {
                if ($e.nav.resScrollSpace) {
                    $e.nav.resScrollSpace.style.top = $e.$7j + "px";
                }
            }
        };
        this.$bC = function($12) {
            var s = this.separators[$12];
            s.location = s.location || s.Location;
            s.color = s.color || s.Color;
            s.layer = s.layer || s.Layer;
            s.width = s.width || s.Width;
            s.opacity = s.opacity || s.Opacity;
            var $0t = new DayPilot.Date(s.location);
            var $1G = s.color;
            var $v = s.width ? s.width : 1;
            var $1J = s.layer ? s.layer === 'AboveEvents' : false;
            var $Z = s.opacity ? s.opacity : 100;
            if ($0t.getTime() < this.startDate.getTime()) {
                return;
            };
            if ($0t.getTime() >= this.startDate.addDays(this.days).getTime()) {
                return;
            };
            var $t = this.getPixels($0t);
            if ($t.cut) {
                return;
            };
            if ($t.left < 0) {
                return;
            };
            if ($t.left > this.$83() * this.cellWidth) {
                return;
            };
            var $0g = document.createElement("div");
            $0g.style.width = $v + 'px';
            $0g.style.height = $e.$7j + 'px';
            $0g.style.position = 'absolute';
            $0g.style.left = ($t.left - 1) + 'px';
            $0g.style.top = '0px';
            $0g.style.backgroundColor = $1G;
            $0g.style.opacity = $Z / 100;
            $0g.style.filter = "alpha(opacity=" + $Z + ")";
            if ($1J) {
                this.divSeparatorsAbove.appendChild($0g);
            } else {
                this.divSeparators.appendChild($0g);
            };
            this.elements.separators.push($0g);
        };
        this.$bs = function(ev) {
            if ($e.timeRangeDoubleClickHandling === 'Disabled') {
                return false;
            };
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            var $0X = {};
            if (!$e.coords) {
                var $5D = $e.$7Q;
                $e.coords = DayPilot.mo3($5D, ev);
            };
            ev = ev || window.event;
            if ($e.$c2($e.coords)) {
                var $5C = $e.$bW(DayPilotScheduler.rangeHold);
                $e.$9a($5C.start, $5C.end, $5C.resource);
            } else {
                DayPilotScheduler.range = $e.$bV();
                if (DayPilotScheduler.range) {
                    var $5C = $e.$bW(DayPilotScheduler.range);
                    $e.$9a($5C.start, $5C.end, $5C.resource);
                }
            };
            DayPilotScheduler.rangeHold = DayPilotScheduler.range;
            DayPilotScheduler.range = null;
        };
        this.$bp = function(ev) {
            if ($0v.start) {
                return;
            };
            if (DayPilotScheduler.timeRangeTimeout && false) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
            };
            $e.$bi();
            $e.$bm();
            if (!$e.coords) {
                var $5D = $e.$7Q;
                $e.coords = DayPilot.mo3($5D, ev);
            };
            ev = ev || window.event;
            var $5A = DayPilot.Util.mouseButton(ev);
            if ($5A.middle || ($5A.right && $e.$c2($e.coords))) {
                return false;
            };
            if ($e.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            var i = $e.$9F($e.coords.y).i;
            var $C = $e.rowlist[i];
            if ($C.isNewRow) {
                return false;
            };
            DayPilotScheduler.range = $e.$bV();
            return false;
        };
        this.$bV = function() {
            var $0X = {};
            var cx = this.$8l($e.coords.x).x;
            $0X.start = {
                y: $e.$9F($e.coords.y).i,
                x: cx
            };
            $0X.end = {
                x: cx
            };
            if (this.$ac($e.$9F($e.coords.y).i)) {
                return null;
            };
            $0X.calendar = $e;
            $e.$99($0X);
            return $0X;
        };
        this.$c3 = function() {
            $e.$ai();
            var $1s = DayPilotScheduler.resizingShadow;
            var ev = DayPilotScheduler.resizing;
            (function() {
                var $0p = $e.$c4;
                if ($0p && $0p.start.getTime() === $1s.start.getTime() && $0p.end.getTime() === $1s.end.getTime()) {
                    return;
                };
                var $h = {};
                $h.start = $1s.start;
                $h.end = $e.$8D($1s.end);
                $h.e = ev;
                $h.left = {};
                $h.left.html = $h.start.toString($e.eventResizingStartEndFormat);
                $h.left.enabled = $e.eventResizingStartEndEnabled;
                $h.right = {};
                $h.right.html = $h.end.toString($e.eventResizingStartEndFormat);
                $h.right.enabled = $e.eventResizingStartEndEnabled;
                $e.$c4 = $h;
                if (typeof $e.onEventResizing === 'function') {
                    $e.onEventResizing($h);
                };
                $e.$am(DayPilotScheduler.resizingShadow, $h);
            })();
        };
        this.$bq = function(ev) {
            if ($0v.active) {
                return;
            };
            DayPilotScheduler.activeCalendar = $e;
            ev = ev || window.event;
            var $63 = DayPilot.mc(ev);
            $e.coords = DayPilot.mo3($e.$7Q, ev);
            ev.insideMainD = true;
            if (window.event) {
                window.event.srcElement.inside = true;
            };
            if ($0w.start) {
                if ($0w.originalMouse.x !== $63.x || $0w.originalMouse.y !== $63.y) {
                    DayPilot.Util.copyProps($0w, DayPilotScheduler);
                    document.body.style.cursor = 'move';
                    $0w = {};
                }
            };
            if (DayPilotScheduler.resizing && DayPilotScheduler.resizing.event.calendar === $e) {
                if (!DayPilotScheduler.resizingShadow) {
                    DayPilotScheduler.resizingShadow = $e.$9O(DayPilotScheduler.resizing, $e.shadow);
                };
                var $64 = DayPilotScheduler.resizing.event.calendar.cellWidth;
                var $31 = DayPilotScheduler.resizing.event.part.width;
                var $65 = DayPilotScheduler.resizing.event.part.left;
                var $66 = 0;
                var $4P = ($63.x - DayPilotScheduler.originalMouse.x);
                var $67, $32;
                if (DayPilotScheduler.resizing.dpBorder === 'right') {
                    $67 = $65;
                    if ($e.snapToGrid) {
                        var $0s = $e.$8l($31 + $65 + $4P).cell;
                        var $68 = $0s.left + $0s.width;
                        $32 = $68 - $65;
                        if ($32 < $64) {
                            $32 = $64;
                        }
                    } else {
                        $32 = $31 + $4P;
                    };
                    var $u = $e.$bo();
                    if ($65 + $32 > $u) {
                        $32 = $u - $65;
                    };
                    DayPilotScheduler.resizingShadow.style.width = ($32) + 'px';
                } else if (DayPilotScheduler.resizing.dpBorder === 'left') {
                    if ($e.snapToGrid) {
                        if ($4P >= $31) {
                            $4P = $31;
                        };
                        $67 = Math.floor((($65 + $4P) + 0) / $64) * $64;
                        if ($67 < $66) {
                            $67 = $66;
                        }
                    } else {
                        $67 = $65 + $4P;
                    };
                    $32 = $31 - ($67 - $65);
                    var $H = $65 + $31;
                    var $69 = $64;
                    if (!$e.snapToGrid) {
                        $69 = 1;
                    } else if ($e.useEventBoxes === "Never") {
                        if ($31 < $64) {
                            $69 = $31;
                        } else {
                            $69 = 1;
                        }
                    };
                    if ($32 < $69) {
                        $32 = $69;
                        $67 = $H - $32;
                    };
                    DayPilotScheduler.resizingShadow.style.left = $67 + 'px';
                    DayPilotScheduler.resizingShadow.style.width = ($32) + 'px';
                };
                (function checkOverlap() {
                    var ev = DayPilotScheduler.resizing.event;
                    var $C = $e.rowlist[ev.part.dayIndex];
                    var $1s = DayPilotScheduler.resizingShadow;
                    var $G = $67;
                    var $v = $32;
                    $e.$aj(DayPilotScheduler.resizingShadow, $C, $G, $v, ev.data);
                })();
                $e.$c3();
            } else if (DayPilotScheduler.moving && (DayPilotScheduler.moving.event.calendar === $e || DayPilotScheduler.moving.event.calendar.dragOutAllowed)) {
                if (DayPilotScheduler.movingShadow && DayPilotScheduler.movingShadow.calendar !== $e) {
                    DayPilotScheduler.movingShadow.calendar = null;
                    DayPilot.de(DayPilotScheduler.movingShadow);
                    DayPilotScheduler.movingShadow = null;
                };
                if (!DayPilotScheduler.movingShadow) {
                    var mv = DayPilotScheduler.moving;
                    DayPilotScheduler.movingShadow = $e.$9O(mv, $e.shadow);
                };
                $e.$af();
                DayPilotScheduler.moving.target = $e;
                $e.$ah();
            } else if (DayPilotScheduler.range && DayPilotScheduler.range.calendar === $e) {
                var $0X = DayPilotScheduler.range;
                $0X.end = {
                    x: $e.$8l($e.coords.x).x
                };
                $e.$99($0X);
            } else if ($1y.source) {
                var $0a = $1y.source;
                $0P.drawShadow($0a.coords, $e.coords);
            } else if ($e.crosshairType !== 'Disabled') {
                $e.$c5();
            };
            $e.$c6();
            var $6a = ev.insideEvent;
            if (window.event) {
                $6a = window.event.srcElement.insideEvent;
            };
            if ($e.cellBubble && $e.coords && $e.rowlist && $e.rowlist.length > 0 && !$6a) {
                var x = Math.floor($e.coords.x / $e.cellWidth);
                var y = $e.$9F($e.coords.y).i;
                if (0 <= y && y < $e.rowlist.length && 0 <= x && x < $e.itline.length) {
                    var $I = {};
                    $I.calendar = $e;
                    $I.start = $e.itline[x].start;
                    $I.end = $e.itline[x].end;
                    $I.resource = $e.rowlist[y].id;
                    $I.toJSON = function() {
                        var $1b = {};
                        $1b.start = this.start;
                        $1b.end = this.end;
                        $1b.resource = this.resource;
                        return $1b;
                    };
                    $e.cellBubble.showCell($I);
                }
            };
            if (DayPilotScheduler.drag) {
                $e.$bi();
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                if (!DayPilotScheduler.movingShadow && $e.coords && $e.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $6b = $e.itline[0].start;
                            $e.debug.message("external start:" + $6b);
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $6b,
                                'end': $6b.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $e;
                        };
                        DayPilotScheduler.moving.event = event;
                    };
                    DayPilotScheduler.movingShadow = $e.$9O(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                ev.cancelBubble = true;
            };
            if ($e.autoScroll === "Always" || ($e.autoScroll === "Drag" && (DayPilotScheduler.moving || DayPilotScheduler.resizing || DayPilotScheduler.range))) {
                var $6c = $e.nav.scroll;
                var $1r = {
                    x: $e.coords.x,
                    y: $e.coords.y
                };
                $1r.x -= $6c.scrollLeft;
                $1r.y -= $6c.scrollTop;
                var $v = $6c.clientWidth;
                var $04 = $6c.clientHeight;
                var $2G = 20;
                var $G = $1r.x < $2G;
                var $H = $v - $1r.x < $2G;
                var top = $1r.y < $2G;
                var $01 = $04 - $1r.y < $2G;
                var x = 0;
                var y = 0;
                if ($G) {
                    x = -5;
                };
                if ($H) {
                    x = 5;
                };
                if (top) {
                    y = -5;
                };
                if ($01) {
                    y = 5;
                };
                if (x || y) {
                    $e.$c7(x, y);
                } else {
                    $e.$bm();
                }
            }
        };
        this.$c8 = function() {
            var x, y;
            if ($e.coords && $e.rowlist && $e.rowlist.length > 0 && $e.itline && $e.itline.length > 0) {
                x = $e.$8l($e.coords.x).x;
                y = $e.$9F($e.coords.y).i;
                if (y >= $e.rowlist.length) {
                    return;
                }
            } else {
                return null;
            };
            var $F = $e.cells.findXy(x, y);
            return $F[0];
        };
        this.$c6 = function() {
            var $I = this.$c8();
            if (this.hover.cell) {
                if (this.hover.cell.x === $I.x && this.hover.cell.y === $I.y) {
                    return;
                };
                this.$bn();
            };
            this.hover.cell = $I;
            if (typeof this.onCellMouseOver === 'function') {
                var $h = {};
                $h.cell = $I;
                this.onCellMouseOver($h);
            }
        };
        this.$bn = function() {
            if (!this.hover.cell) {
                return;
            };
            if (typeof this.onCellMouseOut === 'function') {
                var $h = {};
                $h.cell = this.hover.cell;
                this.onCellMouseOut($h);
            };
            this.hover.cell = null;
        };
        this.hover = {};
        this.$c5 = function() {
            var $I = this.$c8();
            if (this.hover.cell) {
                if (this.hover.cell.x === $I.x && this.hover.cell.y === $I.y) {
                    return;
                }
            };
            this.$c9();
        };
        this.$bi = function() {
            this.divCrosshair.innerHTML = '';
            this.$ca = null;
            this.$cb = null;
            if (this.crosshairTop && this.crosshairTop.parentNode) {
                this.crosshairTop.parentNode.removeChild(this.crosshairTop);
                this.crosshairTop = null;
            };
            if (this.crosshairLeft) {
                for (var i = 0; i < this.crosshairLeft.length; i++) {
                    var ch = this.crosshairLeft[i];
                    if (ch.parentNode) {
                        ch.parentNode.removeChild(ch);
                    }
                };
                this.crosshairLeft = null;
            };
            this.$7i = -1;
            this.$7h = -1;
        };
        this.$c9 = function() {
            var x, y;
            if ($e.coords && $e.rowlist && $e.rowlist.length > 0) {
                x = $e.$8l($e.coords.x).x;
                y = $e.$9F($e.coords.y).i;
                if (y >= $e.rowlist.length) {
                    return;
                }
            } else {
                return;
            };
            var $K = this.crosshairType;
            var $C = $e.rowlist[y];
            if ($K === 'Full') {
                var $0s = this.itline[x];
                var $G = $0s.left;
                var $0g = this.$ca;
                if (!$0g) {
                    var $0g = document.createElement("div");
                    $0g.style.height = $e.$7j + 'px';
                    $0g.style.position = 'absolute';
                    $0g.style.top = '0px';
                    $0g.style.backgroundColor = this.crosshairColor;
                    $0g.style.opacity = this.crosshairOpacity / 100;
                    $0g.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$ca = $0g;
                    this.divCrosshair.appendChild($0g);
                };
                $0g.style.left = $G + 'px';
                $0g.style.width = $0s.width + 'px';
                var top = $C.top;
                var $04 = $C.height;
                var $v = this.$bo();
                var $0g = this.$cb;
                if (!$0g) {
                    var $0g = document.createElement("div");
                    $0g.style.width = $v + 'px';
                    $0g.style.height = $04 + 'px';
                    $0g.style.position = 'absolute';
                    $0g.style.top = top + 'px';
                    $0g.style.left = '0px';
                    $0g.style.backgroundColor = this.crosshairColor;
                    $0g.style.opacity = this.crosshairOpacity / 100;
                    $0g.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                    this.$cb = $0g;
                    this.divCrosshair.appendChild($0g);
                };
                $0g.style.top = top + 'px';
                $0g.style.height = $04 + 'px';
            };
            var $6d = this.$cc(this.coords.x);
            if ($6d && this.$7i !== $6d.x) {
                if (this.crosshairTop && this.crosshairTop.parentNode) {
                    this.crosshairTop.parentNode.removeChild(this.crosshairTop);
                    this.crosshairTop = null;
                };
                var $0g = document.createElement("div");
                $0g.style.width = $6d.cell.width + "px";
                $0g.style.height = $00.headerHeight() + "px";
                $0g.style.left = '0px';
                $0g.style.top = '0px';
                $0g.style.position = 'absolute';
                $0g.style.backgroundColor = this.crosshairColor;
                $0g.style.opacity = this.crosshairOpacity / 100;
                $0g.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                this.crosshairTop = $0g;
                var $5Q = this.divNorth;
                var $6e = this.timeHeader ? this.timeHeader.length - 1 : 1;
                if (this.nav.timeHeader) {
                    this.$7k.timeHeader[$6d.x + "_" + $6e].appendChild($0g);
                } else {
                    if ($5Q.firstChild.rows[$6e].cells[x]) {
                        $5Q.firstChild.rows[$6e].cells[x].firstChild.appendChild($0g);
                    }
                }
            };
            if (this.$7h !== y) {
                if (this.crosshairLeft) {
                    for (var i = 0; i < this.crosshairLeft.length; i++) {
                        var ch = this.crosshairLeft[i];
                        if (ch.parentNode) {
                            ch.parentNode.removeChild(ch);
                        }
                    };
                    this.crosshairLeft = null;
                };
                var $1m = this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                this.crosshairLeft = [];
                if (this.divHeader.rows[y]) {
                    for (var i = 0; i < this.divHeader.rows[y].cells.length; i++) {
                        var $v = $e.$85();
                        var $0g = document.createElement("div");
                        $0g.style.width = $v + "px";
                        $0g.style.height = $C.height + "px";
                        $0g.style.left = '0px';
                        $0g.style.top = '0px';
                        $0g.style.position = 'absolute';
                        $0g.style.backgroundColor = this.crosshairColor;
                        $0g.style.opacity = this.crosshairOpacity / 100;
                        $0g.style.filter = "alpha(opacity=" + this.crosshairOpacity + ")";
                        this.crosshairLeft.push($0g);
                        this.divHeader.rows[y].cells[i].firstChild.appendChild($0g);
                    }
                }
            };
            if ($6d) {
                this.$7i = $6d.x;
            };
            this.$7h = y;
        };
        this.$cc = function($t) {
            var $0p = this.timeHeader[this.timeHeader.length - 1];
            for (var i = 0; i < $0p.length; i++) {
                var $I = $0p[i];
                if ($t >= $I.left && $t < $I.left + $I.width) {
                    var $f = {};
                    $f.cell = $I;
                    $f.x = i;
                    return $f;
                }
            };
            return null;
        };
        this.$br = function(ev) {
            ev = ev || window.event;
            if ($e.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            if (!$e.$c2($e.coords)) {
                $e.$cd(ev);
            };
            if ($e.contextMenuSelection) {
                var $6f = $e.$bW(DayPilotScheduler.rangeHold);
                $6f.end = $e.$8D($6f.end);
                $e.contextMenuSelection.show($6f);
            };
            ev.cancelBubble = true;
            if (!$e.allowDefaultContextMenu) {
                return false;
            }
        };
        this.$c2 = function($1r) {
            var $0X = DayPilotScheduler.rangeHold;
            if (!$0X || !$0X.start || !$0X.end) {
                return false;
            };
            var $C = this.$9U($0X.start.y);
            var $6g = $0X.start.x < $0X.end.x;
            var $6h = ($6g ? $0X.start.x : $0X.end.x) * this.cellWidth;
            var $6i = ($6g ? $0X.end.x : $0X.start.x) * this.cellWidth + this.cellWidth;
            var $6j = $C.top;
            var $6k = $C.bottom;
            if ($1r.x >= $6h && $1r.x <= $6i && $1r.y >= $6j && $1r.y <= $6k) {
                return true;
            };
            return false;
        };
        this.$99 = function($0X) {
            var $0X = $0X || DayPilotScheduler.range;
            var $5L = $0X.end.x > $0X.start.x ? $0X.start.x : $0X.end.x;
            var $5M = ($0X.end.x > $0X.start.x ? $0X.end.x : $0X.start.x);
            this.$ce($5L, $5M, $0X.start.y);
        };
        this.$ce = function($5L, $5M, y) {
            var $E = this.itline[$5L];
            var end = this.itline[$5M];
            var $G = $E.left;
            var $H = end.left + end.width;
            var $v = $H - $G;
            var $I = this.elements.range2;
            if (!$I) {
                $I = document.createElement("div");
                $I.style.position = 'absolute';
                $I.setAttribute("unselectable", "on");
                if (this.cssOnly) {
                    $I.className = this.$82("_shadow");
                    var $S = document.createElement("div");
                    $S.className = this.$82("_shadow_inner");
                    $I.appendChild($S);
                } else {
                    $I.style.backgroundColor = $e.cellSelectColor;
                };
                this.divRange.appendChild($I);
            };
            $I.style.left = ($E.left) + "px";
            $I.style.top = this.rowlist[y].top + "px";
            $I.style.width = $v + "px";
            $I.style.height = (this.rowlist[y].height - 1) + "px";
            this.elements.range2 = $I;
            (function checkOverlap() {
                var $C = $e.rowlist[y];
                var $1s = $I;
                var $G = $E.left;
                $e.$aj($I, $C, $G, $v, null);
            })();
            (function() {
                var $0p = $e.$cf;
                if ($0p && $0p.start.getTime() === $E.start.getTime() && $0p.end.getTime() === end.end.getTime() && $0p.resource === $e.rowlist[y].id) {
                    return;
                };
                var $h = {};
                $h.start = $E.start;
                $h.end = $e.$8D(end.end);
                $h.resource = $e.rowlist[y].id;
                $h.left = {};
                $h.left.html = $h.start.toString($e.timeRangeSelectingStartEndFormat);
                $h.left.enabled = $e.timeRangeSelectingStartEndEnabled;
                $h.right = {};
                $h.right.html = $h.end.toString($e.timeRangeSelectingStartEndFormat);
                $h.right.enabled = $e.timeRangeSelectingStartEndEnabled;
                $e.$cf = $h;
                if (typeof $e.onTimeRangeSelecting === 'function') {
                    $e.onTimeRangeSelecting($h);
                };
                $e.$am($I, $h);
            })();
        };
        this.$cd = function(ev) {
            if ($e.timeRangeSelectedHandling === 'Disabled') {
                return false;
            };
            ev = ev || window.event;
            var $5A = DayPilot.Util.mouseButton(ev);
            if (DayPilotScheduler.range) {
                return;
            };
            if (DayPilotScheduler.rangeHold && $e.$c2($e.coords) && ($5A.right || $5A.middle)) {
                return;
            };
            if ($e.$ac($e.$9F($e.coords.y).i)) {
                return;
            };
            var $0X = {};
            var cx = $e.$8l($e.coords.x).x;
            $0X.start = {
                y: $e.$9F($e.coords.y).i,
                x: cx
            };
            $0X.end = {
                x: cx
            };
            $e.$99($0X);
            var $5C = $e.$bW($0X);
            $e.$98($5C.start, $5C.end, $5C.resource);
            DayPilotScheduler.rangeHold = $0X;
        };
        this.timeouts = {};
        this.timeouts.drawEvents = null;
        this.timeouts.drawCells = null;
        this.timeouts.click = null;
        this.$7S = function(ev) {
            $e.$7r();
            if ($e.dynamicLoading) {
                $e.$cg();
                return;
            };
            var $6l = $e.nav.scroll;
            $e.$bz = $6l.scrollLeft;
            $e.$bA = $6l.scrollTop;
            $e.$bB = $6l.clientWidth;
            $e.divTimeScroll.scrollLeft = $e.$bz;
            $e.divResScroll.scrollTop = $e.$bA;
            if ($e.timeouts.drawEvents) {
                clearTimeout($e.timeouts.drawEvents);
                $e.timeouts.drawEvents = null;
            };
            if ($e.scrollDelayEvents > 0) {
                $e.timeouts.drawEvents = setTimeout($e.$ch(), $e.scrollDelayEvents);
            } else {
                var f = $e.$ch();
                f();
            };
            if ($e.timeouts.drawCells) {
                clearTimeout($e.timeouts.drawCells);
                $e.timeouts.drawCells = null;
            };
            if ($e.scrollDelayCells > 0) {
                $e.timeouts.drawCells = setTimeout($e.$ci(), $e.scrollDelayCells);
            } else {
                var f = $e.$ci();
                f();
            };
            if ($e.timeouts.updateFloats) {
                clearTimeout($e.timeouts.updateFloats);
                $e.timeouts.updateFloats = null;
            };
            if ($e.scrollDelayFloats > 0) {
                $e.timeouts.updateFloats = setTimeout(function() {
                    $e.$7O();
                }, $e.scrollDelayFloats);
            } else {
                $e.$7O();
            };
            $e.onScrollCalled = true;
        };
        this.$cj = function() {
            return function() {
                $e.$7N();
                $e.$7I();
                $e.refreshTimeout = window.setTimeout($e.$ch(), 200);
            };
        };
        this.$ci = function() {
            return function() {
                $e.$7N();
                $e.$7I();
            };
        };
        this.$ch = function() {
            var $0S = true;
            var $6m = $e.dynamicEventRenderingCacheSweeping;
            var $6n = $e.dynamicEventRenderingCacheSize;
            return function() {
                if ($e.$bK()) {
                    $e.$9u();
                    window.setTimeout(function() {
                        if ($6m) $e.$bH($6n);
                        window.setTimeout(function() {
                            $e.$7K($0S);
                        }, 50);
                    }, 50);
                } else {
                    $e.$7Y();
                }
            };
        };
        this.$7r = function() {
            this.$7k.eventHeight = null;
            this.$7k.drawArea = null;
        };
        this.show = function() {
            this.visible = true;
            $e.nav.top.style.display = '';
            this.$7B();
            this.$9K();
            $e.$7S();
        };
        this.hide = function() {
            this.visible = false;
            $e.nav.top.style.display = 'none';
        };
        this.$cg = function() {
            var $6l = $e.nav.scroll;
            $e.$bz = $6l.scrollLeft;
            $e.$bA = $6l.scrollTop;
            $e.$bB = $6l.clientWidth;
            $e.divTimeScroll.scrollLeft = $e.$bz;
            $e.divResScroll.scrollTop = $e.$bA;
            if ($e.refreshTimeout) {
                window.clearTimeout($e.refreshTimeout);
            };
            var $W = $e.scrollDelayDynamic;
            $e.refreshTimeout = window.setTimeout($e.$ck($6l.scrollLeft, $6l.scrollTop), $W);
            $e.$7O();
        };
        this.$cl = function(e) {
            var $6o = e.id;
            for (var j = 0; j < this.events.list.length; j++) {
                var ex = this.events.list[j];
                var $6p = ex.id;
                if ($6p === $6o) {
                    var $f = {};
                    $f.ex = ex;
                    $f.index = j;
                    $f.modified = !$e.$cm(e, ex);
                    return $f;
                }
            };
            return null;
        };
        this.$cm = function($3T, $6q) {
            for (var name in $3T) {
                if (typeof $3T[name] === 'object') {
                    continue;
                };
                if ($3T[name] !== $6q[name]) {
                    return false;
                }
            };
            for (var name in $6q) {
                if (typeof $6q[name] === 'object') {
                    continue;
                };
                if ($3T[name] !== $6q[name]) {
                    return false;
                }
            };
            return true;
        };
        this.$7L = function($3l, $6r) {
            var $3i = [];
            for (var i = 0; i < $3l.length; i++) {
                var e = $3l[i];
                var $0l = $e.$cl(e);
                var $1A = $0l && $0l.modified;
                var $3k = !$0l;
                if ($1A) {
                    this.events.list[$0l.index] = e;
                    var $0J = $e.events.$8F($0l.ex);
                    $3i = $3i.concat($0J);
                } else if ($3k) {
                    this.events.list.push(e);
                };
                if ($1A || $3k) {
                    $3i = $3i.concat($e.events.$8G(e));
                }
            };
            $e.$8H($3i);
            $e.$8I();
            $e.$7A();
            $e.$7E();
            var $6s = false;
            if ($6s) {
                $e.$8J($3i, false, $6r);
            } else {
                $e.$7F();
                $e.$7C();
                $e.$7I();
                $e.$91();
                var f = $e.$ch();
                f();
            }
        };
        this.$ck = function(scrollX, scrollY) {
            if (!$e.$8d()) {
                return function() {
                    if (typeof $e.onScroll === 'function') {
                        var $1A = function($M) {
                            var $6r = function() {
                                if ($e.$7P()) {
                                    if (typeof $e.onAfterRender === 'function') {
                                        var $h = {};
                                        $h.isCallBack = false;
                                        $h.isScroll = true;
                                        $h.data = null;
                                        $e.onAfterRender($h);
                                    }
                                }
                            };
                            $e.$7L($M, $6r);
                        };
                        var $D = $e.$9A(scrollX, scrollY);
                        var $0X = $e.$9B($D);
                        var $1e = $e.$9C($D);
                        var $h = {};
                        $h.viewport = {};
                        $h.viewport.start = $0X.start;
                        $h.viewport.end = $0X.end;
                        $h.viewport.resources = $1e;
                        $h.async = false;
                        $h.events = [];
                        $h.loaded = function() {
                            if (this.async) {
                                $1A(this.events);
                            }
                        };
                        $e.onScroll($h);
                        if (!$h.async) {
                            $1A($h.events);
                        }
                    }
                };
            } else {
                return function() {
                    $e.scrollX = scrollX;
                    $e.scrollY = scrollY;
                    $e.$8r('Scroll');
                };
            }
        };
        this.$cn = function() {
            var $D = this.$7V();
            var $6t = $D.xStart;
            var $6u = $D.xEnd - $D.xStart;
            var $6v = $D.yStart;
            var $6w = $D.yEnd - $D.yStart;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            for (var i = 0; i <= $6u; i++) {
                var x = $6t + i;
                for (var j = 0; j < $6w; j++) {
                    var y = $6v + j;
                    if (!this.rowlist[y].hidden) {
                        this.$a6(x, y);
                    }
                };
                this.$co(x);
            };
            var $6x = this.$aq();
            for (var y = $6x.start; y < $6x.end; y++) {
                if (!this.rowlist[y].hidden) {
                    this.$cp(y);
                }
            }
        };
        this.$7I = function() {
            if ($e.progressiveRowRendering) {
                this.$aA();
            };
            if (this.rowlist !== null && this.rowlist.length > 0) {
                var $6y = this.cellSweeping;
                if ($6y) {
                    var $6n = this.cellSweepingCacheSize;
                    this.$bJ($6n);
                };
                this.$cn();
                this.$cq();
                $10.$aX();
            };
            var $v = this.$bo();
            this.$7Q.style.height = this.$7j + "px";
            this.$7Q.style.width = $v + "px";
            if ($e.cellWidthSpec === "Auto") {
                $e.nav.scroll.style.overflowX = "hidden";
                $e.nav.scroll.scrollLeft = 0;
            } else {
                $e.nav.scroll.style.overflowX = "auto";
            };
            this.$8Y = false;
        };
        this.$cq = function() {
            var $D = this.$7V();
            for (var x = $D.xStart; x < $D.xEnd; x++) {
                var $6z = (x < this.itline.length - 1) ? this.itline[x + 1].breakBefore : false;
                if ($6z) {
                    this.$cr(x);
                }
            }
        };
        this.$cr = function(x) {
            var $12 = "x" + x;
            if (this.$7k.breaks[$12]) {
                return;
            };
            var $G = this.itline[x + 1].left - 1;
            var $04 = this.$7j;
            var $0g = document.createElement("div");
            $0g.style.left = $G + "px";
            $0g.style.top = "0px";
            $0g.style.width = "1px";
            $0g.style.height = $04 + "px";
            $0g.style.fontSize = '1px';
            $0g.style.lineHeight = '1px';
            $0g.style.overflow = 'hidden';
            $0g.style.position = 'absolute';
            $0g.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $0g.className = this.$82("_matrix_vertical_break");
            } else {
                $0g.style.backgroundColor = this.timeBreakColor;
            };
            this.divBreaks.appendChild($0g);
            this.elements.breaks.push($0g);
            this.$7k.breaks[$12] = $0g;
        };
        this.$7V = function() {
            if ($e.$7k.drawArea) {
                return $e.$7k.drawArea;
            };
            if (!this.nav.scroll) {
                return null;
            };
            var $6A = $e.$bA;
            var $D = {};
            var $6B = this.dynamicEventRenderingMargin;
            var $6B = this.dynamicEventRenderingMarginX != null ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin;
            var $6C = this.dynamicEventRenderingMarginY != null ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin;
            var $G = $e.$bz - $6B;
            var $H = $G + $e.$bB + 2 * $6B;
            var $E = 0;
            var end = 0;
            if ($e.itline && $e.itline.length > 0) {
                $E = $e.$8l($G).x;
                end = $e.$8l($H, true).x;
                var $2S = this.$83();
                end = Math.min(end, $2S);
                $E = Math.max($E, 0);
            };
            var top = $6A - $6C;
            var $01 = $6A + this.nav.scroll.offsetHeight + 2 * $6C;
            var $6v = this.$9F(top).i;
            var $6D = this.$9F($01).i;
            if ($6D < this.rowlist.length) {
                $6D++;
            };
            $D.xStart = $E;
            $D.xEnd = end;
            $D.yStart = $6v;
            $D.yEnd = $6D;
            $D.pixels = {};
            $D.pixels.left = this.nav.scroll.scrollLeft;
            $D.pixels.right = this.nav.scroll.scrollLeft + this.nav.scroll.clientWidth;
            $D.pixels.top = this.nav.scroll.scrollTop;
            $D.pixels.bottom = this.nav.scroll.scrollTop + this.nav.scroll.clientHeight;
            $D.pixels.width = this.nav.scroll.scrollWidth;
            $e.$7k.drawArea = $D;
            return $D;
        };
        this.$bo = function() {
            var $f = 0;
            if (this.viewType === "Days") {
                $f = 24 * 60 / this.cellDuration * this.cellWidth;
            } else {
                var $0p = this.itline[this.itline.length - 1];
                if (!$0p) {
                    $f = 0;
                } else {
                    $f = $0p.left + $0p.width;
                }
            };
            if ($f < 0 || isNaN($f)) {
                $f = 0;
            };
            return $f;
        };
        this.$cp = function(y) {
            var $12 = "y" + y;
            if (this.$7k.linesHorizontal[$12]) {
                $e.debug.message("skiping horiz line: " + $12);
                return;
            };
            var top = this.rowlist[y].top + this.rowlist[y].height - 1;
            var $v = this.$bo();
            var $0g = document.createElement("div");
            $0g.style.left = "0px";
            $0g.style.top = top + "px";
            $0g.style.width = $v + "px";
            $0g.style.height = "1px";
            $0g.style.fontSize = '1px';
            $0g.style.lineHeight = '1px';
            $0g.style.overflow = 'hidden';
            $0g.style.position = 'absolute';
            if (!this.cssOnly) {
                $0g.style.backgroundColor = this.cellBorderColor;
            };
            $0g.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $0g.className = this.$82("_matrix_horizontal_line");
            };
            this.divLines.appendChild($0g);
            this.$7k.linesHorizontal[$12] = $0g;
        };
        this.$co = function(x) {
            var $0s = this.itline[x];
            if (!$0s) {
                return;
            };
            var $12 = "x" + x;
            if (this.$7k.linesVertical[$12]) {
                return;
            };
            var $G = $0s.left + $0s.width - 1;
            var $0g = document.createElement("div");
            $0g.style.left = $G + "px";
            $0g.style.top = "0px";
            $0g.style.width = "1px";
            $0g.style.height = $e.$7j + "px";
            $0g.style.fontSize = '1px';
            $0g.style.lineHeight = '1px';
            $0g.style.overflow = 'hidden';
            $0g.style.position = 'absolute';
            if (!this.cssOnly) {
                $0g.style.backgroundColor = this.cellBorderColor;
            };
            $0g.setAttribute("unselectable", "on");
            if (this.cssOnly) {
                $0g.className = this.$82("_matrix_vertical_line");
            };
            this.divLines.appendChild($0g);
            this.elements.linesVertical.push($0g);
            this.$7k.linesVertical[$12] = $0g;
        };
        this.$ag = function($12) {
            var $C = this.rowlist[$12];
            var $6E = !$C.expanded;
            this.rowlist[$12].expanded = $6E;
            var $0J = this.$cs($12, $C.expanded);
            if (!$6E) {
                for (var i = 0; i < $0J.length; i++) {
                    var ri = $0J[i];
                    this.$8Z(ri);
                }
            };
            this.$7A();
            this.$7y();
            this.$7E();
            this.$7r();
            if ($6E) {
                for (var i = 0; i < $0J.length; i++) {
                    var ri = $0J[i];
                    this.$90(ri);
                };
                this.$7Y();
            };
            this.$91();
            $0P.load();
            this.$7F();
            this.$7I();
            this.$7N();
            var r = this.$9i($C, $12);
            if ($6E) {
                this.$9p(r);
            } else {
                this.$9o(r);
            };
            this.$7r();
        };
        this.$aJ = function(i) {
            var $0C = {};
            $0C.index = i;
            if (typeof this.onLoadNode === 'function') {
                var $h = {};
                var $0W = this.rowlist[i].resource;
                $h.resource = $0W;
                $h.async = false;
                $h.loaded = function() {
                    if (this.async) {
                        $0W.dynamicChildren = false;
                        $0W.expanded = true;
                        $e.update();
                    }
                };
                this.onLoadNode($h);
                if (!$h.async) {
                    $0W.dynamicChildren = false;
                    $0W.expanded = true;
                    this.update();
                }
            } else {
                this.$8r('LoadNode', $0C);
            }
        };
        this.$cs = function(i, $6F) {
            var $C = this.rowlist[i];
            var $4C = [];
            if ($C.children === null || $C.children.length === 0) {
                return $4C;
            };
            for (var k = 0; k < $C.children.length; k++) {
                var $12 = $C.children[k];
                this.rowlist[$12].hidden = $6F ? !$C.expanded : true;
                if ($6F === !this.rowlist[$12].hidden) {
                    $4C.push($12);
                };
                var $6G = this.$cs($12, $6F);
                if ($6G.length > 0) {
                    $4C = $4C.concat($6G);
                }
            };
            return $4C;
        };
        this.$c7 = function($6H, $6I) {
            this.$bm();
            this.$ct($6H, $6I);
        };
        this.$cu = function($x) {
            if (!$x) {
                return false;
            };
            var $05 = this.nav.scroll.scrollWidth;
            var $E = this.nav.scroll.scrollLeft;
            var $v = this.nav.scroll.clientWidth;
            var $H = $E + $v;
            if ($x < 0 && $E <= 0) {
                return false;
            };
            if ($x > 0 && $H >= $05) {
                return false;
            };
            this.nav.scroll.scrollLeft += $x;
            return true;
        };
        this.$cv = function($x) {
            if (!$x) {
                return false;
            };
            var $05 = this.nav.scroll.scrollHeight;
            var $E = this.nav.scroll.scrollTop;
            var $04 = this.nav.scroll.clientHeight;
            var $01 = $E + $04;
            if ($x < 0 && $E <= 0) {
                return false;
            };
            if ($x > 0 && $01 >= $05) {
                return false;
            };
            this.nav.scroll.scrollTop += $x;
            return true;
        };
        this.$ct = function($6H, $6I) {
            var $6J = this.$cu($6H) || this.$cv($6I);
            if (!$6J) {
                return;
            };
            var $6K = function($6H, $6I) {
                return function() {
                    $e.$ct($6H, $6I);
                };
            };
            this.scrolling = window.setTimeout($6K($6H, $6I), 100);
        };
        this.$bm = function() {
            if (this.scrolling) {
                window.clearTimeout(this.scrolling);
                this.scrolling = null;
            }
        };
        this.$7A = function() {
            var top = 0;
            for (var i = 0; i < this.rowlist.length; i++) {
                var $C = this.rowlist[i];
                if (!$C.hidden) {
                    $C.top = top;
                    top += $C.height;
                }
            };
            this.$7j = top;
        };
        this.$7F = function() {
            this.elements.cells = [];
            this.elements.linesVertical = [];
            this.elements.breaks = [];
            this.$7k.cells = [];
            this.$7k.linesVertical = {};
            this.$7k.linesHorizontal = {};
            this.$7k.breaks = [];
            this.divCells.innerHTML = '';
            this.divLines.innerHTML = '';
            this.divBreaks.innerHTML = '';
        };
        this.$cw = 0;
        this.$cx = ['html', 'cssClass', 'backColor', 'backImage', 'backRepeat', 'business'];
        this.$a6 = function(x, y) {
            if (!this.$9X) {
                return;
            };
            var $0s = this.itline[x];
            if (!$0s) {
                return;
            };
            var $12 = x + '_' + y;
            if (this.$7k.cells[$12]) {
                return;
            };
            var p = this.$a7(x, y);
            if (typeof this.onBeforeCellRender === 'function') {
                var $C = $e.rowlist[y];
                var $0W = $C.id;
                var $2a = $C.start.getTime() - this.$a4().getTime();
                var $E = $0s.start.addTime($2a);
                var end = $0s.end.addTime($2a);
                var $I = $e.cells.findXy(x, y)[0];
                var $h = {};
                $h.cell = $I;
                this.onBeforeCellRender($h);
                DayPilot.Util.copyProps($h.cell, $h.cell.properties, $e.$cx);
            };
            if (!this.drawBlankCells) {
                var $6L = false;
                if (this.cssOnly && this.$ad(y)) {
                    $6L = false;
                } else if (!this.$cy(p, $e.$cx)) {
                    $6L = true;
                };
                if ($6L) {
                    return;
                }
            };
            var $I = document.createElement("div");
            $I.style.left = ($0s.left) + "px";
            $I.style.top = this.rowlist[y].top + "px";
            $I.style.width = ($0s.width) + "px";
            $I.style.height = (this.rowlist[y].height) + "px";
            $I.style.position = 'absolute';
            if (p && p.backColor) {
                $I.style.backgroundColor = p.backColor;
            };
            $I.setAttribute("unselectable", "on");
            $I.className = this.cssOnly ? this.$82('_cell') : this.$82('cellbackground');
            $I.coords = {};
            $I.coords.x = x;
            $I.coords.y = y;
            if (this.cssOnly && this.$ad(y)) {
                DayPilot.Util.addClass($I, this.$82("_cellparent"));
            };
            if (p) {
                if (p.cssClass) {
                    if (this.cssOnly) {
                        DayPilot.Util.addClass($I, p.cssClass);
                    } else {
                        DayPilot.Util.addClass($I, $e.$82(p.cssClass));
                    }
                };
                if (p.html) {
                    $I.innerHTML = p.html;
                };
                if (p.backImage) {
                    $I.style.backgroundImage = "url(\"" + p.backImage + "\")";
                };
                if (p.backRepeat) {
                    $I.style.backgroundRepeat = p.backRepeat;
                };
                if (p.business) {
                    DayPilot.Util.addClass($I, $e.$82("_cell_business"));
                }
            };
            $I.onclick = this.$cd;
            this.divCells.appendChild($I);
            this.elements.cells.push($I);
            this.$7k.cells[$12] = $I;
        };
        this.$cy = function($1p, $1B) {
            if ($1B) {
                for (var i = 0; i < $1B.length; i++) {
                    if ($1p[$1B[i]]) {
                        return true;
                    }
                }
            } else {
                for (var name in $1p) {
                    if ($1p[name]) {
                        return true;
                    }
                }
            };
            return false;
        };
        this.clearSelection = function() {
            this.$7M();
        };
        this.cleanSelection = this.clearSelection;
        this.$7M = function() {
            this.divRange.innerHTML = '<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';
            this.elements.range = [];
            this.elements.range2 = null;
            this.$an();
            DayPilotScheduler.rangeHold = null;
        };
        this.$9N = {};
        var $00 = this.$9N;
        $00.locale = function() {
            return DayPilot.Locale.find($e.locale);
        };
        $00.timeFormat = function() {
            if ($e.timeFormat !== 'Auto') {
                return $e.timeFormat;
            };
            return $00.locale().timeFormat;
        };
        $00.weekStarts = function() {
            if ($e.weekStarts === 'Auto') {
                var $42 = $00.locale();
                if ($42) {
                    return $42.weekStarts;
                } else {
                    return 0;
                }
            } else {
                return $e.weekStarts;
            }
        };
        $00.rounded = function() {
            return $e.eventCorners === 'Rounded';
        };
        $00.layout = function() {
            var $6M = /MSIE 6/i.test(navigator.userAgent);
            if ($e.layout === 'Auto') {
                if ($6M) {
                    return 'TableBased';
                } else {
                    return 'DivBased';
                }
            };
            return $e.layout;
        };
        $00.notifyType = function() {
            var $K;
            if ($e.notifyCommit === 'Immediate') {
                $K = "Notify";
            } else if ($e.notifyCommit === 'Queue') {
                $K = "Queue";
            } else {
                throw "Invalid notifyCommit value: " + $e.notifyCommit;
            };
            return $K;
        };
        $00.isResourcesView = function() {
            return $e.viewType !== 'Days';
        };
        $00.useBox = function($6N) {
            if ($e.useEventBoxes === 'Always') {
                return true;
            };
            if ($e.useEventBoxes === 'Never') {
                return false;
            };
            return $6N < $e.cellDuration * 60 * 1000;
        };
        $00.eventHeight = function() {
            if ($e.$7k.eventHeight) {
                return $e.$7k.eventHeight;
            };
            var $04 = $e.$bv("_event_height").height;
            if (!$04) {
                $04 = $e.eventHeight;
            };
            $e.$7k.eventHeight = $04;
            return $04;
        };
        $00.headerHeight = function() {
            if ($e.$7k.headerHeight) {
                return $e.$7k.headerHeight;
            };
            var $04 = $e.$bv("_header_height").height;
            if (!$04) {
                $04 = $e.headerHeight;
            };
            $e.$7k.headerHeight = $04;
            return $04;
        };
        $00.splitterWidth = function() {
            if ($e.rowHeaderScrolling) {
                return $e.rowHeaderSplitterWidth;
            };
            return 1;
        };
        this.$cz = function(x, y) {
            var $12 = x + '_' + y;
            if (this.cellProperties && this.cellProperties[$12]) {
                return this.cellProperties[$12].backColor;
            };
            return null;
        };
        this.$a7 = function(x, y) {
            var $12 = x + '_' + y;
            if (!this.cellProperties) {
                this.cellProperties = {};
            };
            if (this.cellProperties[$12]) {
                return this.cellProperties[$12];
            };
            if (this.$7e) {
                this.cellProperties[$12] = $e.$cA(x, y);
            };
            if (!this.cellProperties[$12]) {
                var $C = $e.rowlist[y];
                var $0W = $C.id;
                var $2a = $C.start.getTime() - $e.$a4().getTime();
                var $0s = $e.itline[x];
                var $E = $0s.start.addTime($2a);
                var end = $0s.end.addTime($2a);
                var $6O = {};
                $6O.start = $E;
                $6O.end = end;
                $6O.resource = $0W;
                var $I = {};
                $I.business = $e.isBusiness($6O);
                if (!this.cssOnly) {
                    $I.backColor = $I.business ? this.cellBackColor : this.cellBackColorNonBusiness;
                };
                this.cellProperties[$12] = $I;
            };
            return this.cellProperties[$12];
        };
        this.$cB = function($13, x, y) {
            var $12 = x + '_' + y;
            this.cellProperties[$12] = {};
            DayPilot.Util.copyProps($13, this.cellProperties[$12], $e.$cx);
            return this.cellProperties[$12];
        };
        this.$cA = function(x, y) {
            if (!this.cellConfig) {
                return null;
            };
            var $6P = this.cellConfig;
            var $I = this.cellProperties[x + "_" + y];
            if (!$I && $6P.vertical) {
                $I = this.cellProperties[x + "_0"];
            };
            if (!$I && $6P.horizontal) {
                $I = this.cellProperties["0_" + y];
            };
            if (!$I && $6P["default"]) {
                $I = $6P["default"];
            };
            var $6Q = {};
            DayPilot.Util.copyProps($I, $6Q, $e.$cx);
            return $6Q;
        };
        this.$7w = function() {
            if (this.$7e) {
                return;
            };
            if (!this.cellConfig) {
                return;
            };
            var $6P = this.cellConfig;
            if ($6P.vertical) {
                for (var x = 0; x < $6P.x; x++) {
                    var $6R = this.cellProperties[x + "_0"];
                    if (!$6R) {
                        continue;
                    };
                    for (var y = 1; y < $6P.y; y++) {
                        this.$cB($6R, x, y);
                    }
                }
            };
            if ($6P.horizontal) {
                for (var y = 0; y < $6P.y; y++) {
                    var $6R = this.cellProperties["0_" + y];
                    if (!$6R) {
                        continue;
                    };
                    for (var x = 1; x < $6P.x; x++) {
                        this.$cB($6R, x, y);
                    }
                }
            };
            if ($6P["default"]) {
                var $6R = $6P["default"];
                for (var y = 0; y < $6P.y; y++) {
                    for (var x = 0; x < $6P.x; x++) {
                        if (!this.cellProperties[x + "_" + y]) {
                            this.$cB($6R, x, y);
                        }
                    }
                }
            }
        };
        this.isBusiness = function($I) {
            var $E = $I.start;
            var end = $I.end;
            var $5W = (end.getTime() - $E.getTime()) / (1000 * 60);
            if ($5W <= 1440) {
                if ($I.start.dayOfWeek() === 0 || $I.start.dayOfWeek() === 6) {
                    return false;
                }
            };
            if ($5W < 720) {
                var $6S = $E.d.getUTCHours();
                $6S += $E.d.getUTCMinutes() / 60.0;
                $6S += $E.d.getUTCSeconds() / 3600.0;
                $6S += $E.d.getUTCMilliseconds() / 3600000.0;
                if ($6S < this.businessBeginsHour) {
                    return false;
                };
                if (this.businessEndsHour >= 24) {
                    return true;
                };
                if ($6S >= this.businessEndsHour) {
                    return false;
                }
            };
            return true;
        };
        this.$7B = function() {
            if (this.nav.top.style.visibility === 'hidden') {
                this.nav.top.style.visibility = 'visible';
            }
        };
        this.$at = function() {
            var el = $e.nav.top;
            return el.offsetWidth > 0 && el.offsetHeight > 0;
        };
        this.$cC = function() {
            var $5g = $e.$at;
            if (!$5g()) {
                $e.debug.message("Not visible during init, starting visibilityInterval");
                $e.$cD = setInterval(function() {
                    if ($5g()) {
                        $e.debug.message("Made visible, calling .show()");
                        $e.show();
                        $e.$as();
                        clearInterval($e.$cD);
                    }
                }, 100);
            }
        };
        this.$cE = function($t) {
            if (this.heightSpec !== "Parent100Pct") {
                this.heightSpec = "Fixed";
            };
            this.height = $t - (this.$84() + 2);
            this.$7E();
        };
        this.setHeight = this.$cE;
        this.$7T = function(id) {
            for (var i = 0; i < this.rowlist.length; i++) {
                if (this.rowlist[i].id === id) {
                    return this.rowlist[i];
                }
            };
            return null;
        };
        this.$b9 = function() {
            if (this.id && this.id.tagName) {
                this.nav.top = this.id;
            } else if (typeof this.id === "string") {
                this.nav.top = document.getElementById(this.id);
                if (!this.nav.top) {
                    throw "DayPilot.Scheduler: The placeholder element not found: '" + id + "'.";
                }
            } else {
                throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
            }
        };
        this.$cF = function() {
            this.$bu();
            this.$7v();
            this.$9K();
            this.$bx();
            this.$9J();
            DayPilotScheduler.register(this);
            this.$7p(this.afterRenderData, false);
            this.$by();
            this.$cC();
            this.$7o();
            this.$8r('Init');
        };
        this.init = function() {
            this.$cG();
        };
        this.$cG = function() {
            this.$b9();
            if (this.nav.top.dp) {
                return;
            };
            this.$b8();
            var $6T = this.$9V();
            if ($6T) {
                this.$cF();
                this.$9X = true;
                this.$7r();
                return;
            };
            this.$bx();
            this.$9J();
            DayPilotScheduler.register(this);
            this.$by();
            this.$8M();
            if ($e.scrollToDate) {
                $e.scrollTo($e.scrollToDate);
            } else {
                $e.setScroll($e.scrollX, $e.scrollY);
            };
            var $6U = function() {
                if ($e.scrollY) {
                    $e.setScroll($e.scrollX, $e.scrollY);
                }
            };
            window.setTimeout($6U, 200);
            if (this.messageHTML) {
                window.setTimeout(function() {
                    $e.message($e.messageHTML);
                }, 100);
            };
            this.$cC();
            this.$7o();
            this.$9X = true;
            this.$7r();
            this.$7p(this.afterRenderData, false);
            this.debug.message("Init complete.");
            this.$cH();
        };
        this.$cI = function() {
            this.$b9();
            if (this.nav.top.dp) {
                return;
            };
            var $6T = this.$9V();
            if ($6T) {
                this.$cF();
                this.$9X = true;
                this.$7r();
                return;
            };
            this.$bu();
            this.$b8();
            this.$9u();
            this.$7v();
            this.$7x();
            this.$7A();
            this.$7y();
            this.$7u();
            this.$7w();
            this.$7z();
            this.$7E();
            this.$7J();
            this.$aW(this.selectedRows);
            this.$bx();
            this.$9J();
            DayPilotScheduler.register(this);
            this.$by();
            this.$7n();
            if ($e.scrollToDate) {
                $e.scrollTo($e.scrollToDate);
            } else {
                $e.setScroll($e.scrollX, $e.scrollY);
            };
            if (!$e.onScrollCalled) {
                $e.$7S();
            };
            var $6U = function() {
                if ($e.scrollY) {
                    $e.setScroll($e.scrollX, $e.scrollY);
                }
            };
            window.setTimeout($6U, 200);
            if (this.messageHTML) {
                var $6V = function($4Y) {
                    return function() {
                        $e.message($4Y);
                    };
                };
                window.setTimeout($6V(this.messageHTML), 100);
            };
            this.$cC();
            this.$7o();
            this.$9X = true;
            this.$7r();
            this.$7p(this.afterRenderData, false);
            this.debug.message("Init complete.");
            this.$cH();
        };
        this.$cJ = function() {
            this.$b9();
            if (this.nav.top.dp) {
                return;
            };
            var $6T = this.$9V();
            if ($6T) {
                this.$cF();
                this.$9X = true;
                this.$7r();
                return;
            };
            this.$bu();
            this.$7u();
            this.$7v();
            this.$7w();
            this.$b8();
            this.$7t();
            this.$7z();
            this.$9u();
            this.$7x();
            this.$7A();
            this.$7y();
            this.$7E();
            this.$7J();
            this.$aW(this.selectedRows);
            this.$9K();
            this.$bx();
            this.$9J();
            DayPilotScheduler.register(this);
            this.$by();
            this.$7n();
            if ($e.scrollToDate) {
                $e.scrollTo($e.scrollToDate);
            } else {
                $e.setScroll($e.scrollX, $e.scrollY);
            };
            if (!$e.onScrollCalled) {
                $e.$7S();
            };
            var $6U = function() {
                if ($e.scrollY) {
                    $e.setScroll($e.scrollX, $e.scrollY);
                }
            };
            window.setTimeout($6U, 200);
            if (this.messageHTML) {
                var $6V = function($4Y) {
                    return function() {
                        $e.message($4Y);
                    };
                };
                window.setTimeout($6V(this.messageHTML), 100);
            };
            this.$cC();
            this.$7o();
            this.$9X = true;
            this.$7r();
            this.$7p(this.afterRenderData, false);
            this.debug.message("Init complete.");
            this.$cH();
        };
        this.$cK = null;
        this.$cL = function($d) {
            var $6W = {
                "events": {
                    "preInit": function() {
                        var $M = this.data;
                        if (!$M) {
                            return;
                        };
                        if (DayPilot.isArray($M.list)) {
                            $e.events.list = $M.list;
                        } else {
                            $e.events.list = $M;
                        }
                    },
                    "postInit": function() {}
                },
                "scrollTo": {
                    "preInit": function() {},
                    "postInit": function() {
                        if (this.data) {
                            $e.scrollTo(this.data);
                        }
                    }
                }
            };
            this.$cK = $6W;
            for (var name in $d) {
                if ($6W[name]) {
                    var $N = $6W[name];
                    $N.data = $d[name];
                    if ($N.preInit) {
                        $N.preInit();
                    }
                } else {
                    $e[name] = $d[name];
                }
            }
        };
        this.$cH = function() {
            var $6W = this.$cK;
            for (var name in $6W) {
                var $N = $6W[name];
                if ($N.postInit) {
                    $N.postInit();
                }
            }
        };
        this.temp = {};
        this.temp.getPosition = function() {
            var x = Math.floor($e.coords.x / $e.cellWidth);
            var y = $e.$9F($e.coords.y).i;
            if (y < $e.rowlist.length) {
                var $I = {};
                $I.start = $e.itline[x].start;
                $I.end = $e.itline[x].end;
                $I.resource = $e.rowlist[y].id;
                return $I;
            } else {
                return null;
            }
        };
        this.internal = {};
        this.internal.initialized = function() {
            return $e.$9X;
        };
        this.internal.invokeEvent = this.$8B;
        this.internal.eventMenuClick = this.$97;
        this.internal.timeRangeMenuClick = this.$9b;
        this.internal.resourceHeaderMenuClick = this.$9d;
        this.internal.linkMenuClick = this.$9c;
        this.internal.bubbleCallBack = this.$95;
        this.internal.findEventDiv = this.$9T;
        this.internal.rowtools = this.$9m;
        this.internal.getNodeChildren = this.$9H;
        this.internal.callback = function() {
            $e.$8r.apply($e, arguments);
        };
        this.internal.createRowObject = this.$9i;
        this.internal.adjustEndIn = $e.$92;
        this.internal.adjustEndNormalize = $e.$93;
        this.Init = this.init;
        this.$cL($d);
    };
    DayPilot.Row = function($C, $e) {
        if (!$C) {
            throw "Now row object supplied when creating DayPilot.Row";
        };
        if (!$e) {
            throw "No parent control supplied when creating DayPilot.Row";
        };
        var $12 = DayPilot.indexOf($e.rowlist, $C);
        var r = this;
        r.isRow = true;
        r.menuType = 'resource';
        r.start = $C.start;
        r.name = $C.name;
        r.value = $C.id;
        r.id = $C.id;
        r.index = $12;
        r.calendar = $e;
        r.$cM = $C;
        r.$ = {};
        r.$.row = $C;
        r.toJSON = function($3q) {
            var $1b = {};
            $1b.start = this.start;
            $1b.name = this.name;
            $1b.value = this.value;
            $1b.id = this.id;
            $1b.index = this.index;
            return $1b;
        };
        r.events = {};
        r.events.all = function() {
            var $L = [];
            for (var i = 0; i < r.$cM.events.length; i++) {
                $L.push(r.$cM.events[i]);
            };
            return DayPilot.list($L);
        };
        r.events.totalDuration = function() {
            var $0h = 0;
            r.events.all().each(function($N) {
                $0h += $N.part.end.getTime() - $N.part.start.getTime();
            });
            return new DayPilot.TimeSpan($0h);
        };
        r.groups = {};
        r.groups.collapseAll = function() {
            for (var i = 0; i < r.$cM.blocks.length; i++) {
                var $3v = r.$cM.blocks[i];
                var $6X = new $6Y($3v);
                $6X.$cN();
            };
            $e.$8I();
            $e.$8J(r.index);
            $e.$7E();
        };
        r.groups.expandAll = function() {
            for (var i = 0; i < r.$cM.blocks.length; i++) {
                var $3v = r.$cM.blocks[i];
                var $6X = new $6Y($3v);
                $6X.$cO();
            };
            $e.$8I();
            $e.$8J(r.index);
            $e.$7E();
        };
        r.groups.expanded = function() {
            var $L = [];
            for (var i = 0; i < r.$cM.blocks.length; i++) {
                var $3v = r.$cM.blocks[i];
                if ($3v.expanded && $3v.lines.length > $e.groupConcurrentEventsLimit) {
                    $L.push(new $6Y($3v));
                }
            };
            return DayPilot.list($L);
        };
        r.groups.collapsed = function() {
            var $L = [];
            for (var i = 0; i < r.$cM.blocks.length; i++) {
                var $3v = r.$cM.blocks[i];
                if (!$3v.expanded) {
                    $L.push(new $6Y($3v));
                }
            };
            return DayPilot.list($L);
        };
        r.groups.all = function() {
            var $L = [];
            for (var i = 0; i < r.$cM.blocks.length; i++) {
                var $3v = r.$cM.blocks[i];
                $L.push(new $6Y($3v));
            };
            return DayPilot.list($L);
        };
        r.events.collapseGroups = r.groups.collapseAll;
        r.events.expandGroups = r.groups.expandAll;
        r.column = function(i) {
            return new $6Z(r, i);
        };
        r.toggle = function() {
            $e.$ag(r.index);
        };
        var $6Y = function($3v) {
            var $70 = function($3v) {
                for (var i = 0; i < $e.elements.events.length; i++) {
                    var $P = $e.elements.events[i];
                    if ($P.event === $3v) {
                        return $P;
                    }
                };
                return null;
            };
            this.$cO = function() {
                $3v.expanded = true;
                var $P = $70($3v);
                if ($P) {
                    $e.$bG($P);
                    var $5l = DayPilot.indexOf($e.elements.events, $P);
                    if ($5l !== -1) {
                        $e.elements.events.splice($5l, 1);
                    }
                }
            };
            this.expand = function() {
                this.$cO();
                $e.$8I();
                $e.$8J($3v.row.index);
                $e.$7E();
            };
            this.$cN = function() {
                if ($3v.lines.length > $e.groupConcurrentEventsLimit) {
                    $3v.expanded = false;
                }
            };
            this.collapse = function() {
                this.$cN();
                $e.$8I();
                $e.$8J($3v.row.index);
                $e.$7E();
            };
        };
        var $6Z = function($C, i) {
            this.html = function($V) {
                var $2V = $C.calendar.divHeader;
                var $I = $2V.rows[$C.index].cells[i];
                var $11 = $I.textDiv;
                $11.innerHTML = $V;
            };
        };
    };
    DayPilotScheduler.moving = null;
    DayPilotScheduler.originalMouse = null;
    DayPilotScheduler.resizing = null;
    DayPilotScheduler.globalHandlers = false;
    DayPilotScheduler.timeRangeTimeout = null;
    DayPilotScheduler.selectedCells = null;
    DayPilotScheduler.dragStart = function(element, $0u, id, $11, $K) {
        DayPilot.us(element);
        var $71 = DayPilotScheduler.drag = {};
        $71.element = element;
        $71.duration = $0u;
        $71.text = $11;
        $71.id = id;
        $71.shadowType = $K ? $K : 'Fill';
        return false;
    };
    DayPilot.Scheduler.makeDraggable = function($d) {
        var element = $d.element;
        var $72 = $d.keepElement ? null : element;
        DayPilot.us(element);
        DayPilot.re(element, "mousedown", function(ev) {
            DayPilotScheduler.dragStart($72, $d.duration, $d.id, $d.text);
            var element = (ev.target || ev.srcElement);
            if (element.tagName) {
                var $73 = element.tagName.toLowerCase();
                if ($73 === "textarea" || $73 === "select" || $73 === "input") {
                    return false;
                }
            };
            ev.preventDefault && ev.preventDefault();
            return false;
        });
        element.ontouchstart = function(ev) {
            var $5B = 0;
            window.setTimeout(function() {
                var $71 = DayPilotScheduler.drag = {};
                $71.element = $72;
                $71.id = $d.id;
                $71.text = $d.text || "";
                $71.duration = $d.duration || 60;
                $71.shadowType = "Fill";
                DayPilotScheduler.gTouchMove(ev);
                ev.preventDefault();
            }, $5B);
            ev.preventDefault();
        };
    };
    DayPilotScheduler.dragStop = function() {
        if (DayPilotScheduler.gShadow) {
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.drag = null;
    };
    DayPilotScheduler.register = function($e) {
        if (!DayPilotScheduler.registered) {
            DayPilotScheduler.registered = [];
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i] === $e) {
                return;
            }
        };
        DayPilotScheduler.registered.push($e);
    };
    DayPilotScheduler.unregister = function($e) {
        var a = DayPilotScheduler.registered;
        if (a) {
            var i = DayPilot.indexOf(a, $e);
            if (i !== -1) {
                a.splice(i, 1);
            };
            if (a.length === 0) {
                a = null;
            }
        };
        if (!a) {
            DayPilot.ue(document, 'mousemove', DayPilotScheduler.gMouseMove);
            DayPilot.ue(document, 'mouseup', DayPilotScheduler.gMouseUp);
            DayPilot.ue(document, 'touchmove', DayPilotScheduler.gTouchMove);
            DayPilot.ue(document, 'touchend', DayPilotScheduler.gTouchEnd);
            DayPilotScheduler.globalHandlers = false;
        }
    };
    DayPilotScheduler.gTouchMove = function(ev) {
        if (DayPilotScheduler.drag) {
            ev.preventDefault();
            var x = ev.touches[0].pageX;
            var y = ev.touches[0].pageY;
            var $63 = {};
            $63.x = x;
            $63.y = y;
            var $e = (function() {
                var $74 = ev.touches[0].clientX;
                var $75 = ev.touches[0].clientY;
                var el = document.elementFromPoint($74, $75);
                while (el && el.parentNode) {
                    el = el.parentNode;
                    if (el.daypilotMainD) {
                        return el.calendar;
                    }
                };
                return false;
            })();
            if ($e) {
                if (DayPilotScheduler.gShadow) {
                    document.body.removeChild(DayPilotScheduler.gShadow);
                };
                DayPilotScheduler.gShadow = null;
                $e.coords = $e.$bU.relativeCoords(ev);
                if (!DayPilotScheduler.movingShadow && $e.rowlist.length > 0) {
                    if (!DayPilotScheduler.moving) {
                        DayPilotScheduler.moving = {};
                        var event = DayPilotScheduler.drag.event;
                        if (!event) {
                            var $6b = $e.itline[0].start;
                            $e.debug.message("external start/touch:" + $6b);
                            var ev = {
                                'id': DayPilotScheduler.drag.id,
                                'start': $6b,
                                'end': $6b.addSeconds(DayPilotScheduler.drag.duration),
                                'text': DayPilotScheduler.drag.text
                            };
                            event = new DayPilot.Event(ev);
                            event.calendar = $e;
                        };
                        DayPilotScheduler.moving.event = event;
                    };
                    DayPilotScheduler.movingShadow = $e.$9O(DayPilotScheduler.moving, DayPilotScheduler.drag.shadowType);
                };
                if (DayPilotScheduler.moving) {
                    $e.$bU.updateMoving();
                }
            } else {
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.moving = null;
                DayPilotScheduler.movingShadow = null;
                if (!DayPilotScheduler.gShadow) {
                    DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);
                };
                var $1s = DayPilotScheduler.gShadow;
                $1s.style.left = $63.x + 'px';
                $1s.style.top = $63.y + 'px';
            }
        }
    };
    DayPilotScheduler.gTouchEnd = function(ev) {
        DayPilotScheduler.gMouseUp(ev);
    };
    DayPilotScheduler.gMouseMove = function(ev) {
        if (typeof(DayPilotScheduler) === 'undefined') {
            return;
        };
        ev = ev || window.event;
        if (ev.insideMainD) {
            return;
        } else if (ev.srcElement) {
            if (ev.srcElement.inside) {
                return;
            }
        };
        var $63 = DayPilot.mc(ev);
        if (DayPilotScheduler.drag) {
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);
            };
            var $1s = DayPilotScheduler.gShadow;
            $1s.style.left = $63.x + 'px';
            $1s.style.top = $63.y + 'px';
            DayPilotScheduler.moving = null;
            if (DayPilotScheduler.movingShadow) {
                DayPilotScheduler.movingShadow.calendar = null;
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow = null;
            }
        } else if (DayPilotScheduler.moving && DayPilotScheduler.moving.event.calendar.dragOutAllowed && !DayPilotScheduler.drag) {
            var $76 = DayPilotScheduler.moving.event.calendar;
            var ev = DayPilotScheduler.moving.event;
            DayPilotScheduler.moving.target = null;
            document.body.style.cursor = 'move';
            if (!DayPilotScheduler.gShadow) {
                DayPilotScheduler.gShadow = DayPilotScheduler.createGShadow($76.shadow);
            };
            var $1s = DayPilotScheduler.gShadow;
            $1s.style.left = $63.x + 'px';
            $1s.style.top = $63.y + 'px';
            DayPilotScheduler.drag = {};
            var $71 = DayPilotScheduler.drag;
            $71.element = null;
            $71.duration = (ev.rawend().getTime() - ev.start().getTime()) / 1000;
            $71.text = ev.text();
            $71.id = ev.value();
            $71.shadowType = $76.shadow;
            $71.event = ev;
            DayPilot.de(DayPilotScheduler.movingShadow);
            DayPilotScheduler.movingShadow.calendar = null;
            DayPilotScheduler.movingShadow = null;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            if (DayPilotScheduler.registered[i].$ax) {
                DayPilotScheduler.registered[i].$ax();
            }
        }
    };
    DayPilotScheduler.gUnload = function(ev) {
        if (!DayPilotScheduler.registered) {
            return;
        };
        for (var i = 0; i < DayPilotScheduler.registered.length; i++) {
            var c = DayPilotScheduler.registered[i];
            DayPilotScheduler.unregister(c);
        }
    };
    DayPilotScheduler.gMouseUp = function(ev) {
        if (DayPilotScheduler.resizing) {
            if (!DayPilotScheduler.resizingShadow) {
                document.body.style.cursor = '';
                DayPilotScheduler.resizing = null;
                return;
            };
            var e = DayPilotScheduler.resizing.event;
            var $e = e.calendar;
            $e.$ai();
            var $0E = DayPilotScheduler.resizingShadow.start;
            var $0F = DayPilotScheduler.resizingShadow.end;
            var $2N = DayPilotScheduler.resizingShadow.overlapping;
            DayPilot.de(DayPilotScheduler.resizingShadow);
            DayPilotScheduler.resizing = null;
            DayPilotScheduler.resizingShadow = null;
            $e.$an();
            document.body.style.cursor = '';
            if ($2N) {
                return;
            };
            $e.$8C(e, $0E, $0F);
        } else if (DayPilotScheduler.moving) {
            if (!DayPilotScheduler.movingShadow) {
                document.body.style.cursor = '';
                DayPilotScheduler.moving = null;
                return;
            };
            var e = DayPilotScheduler.moving.event;
            var $e = DayPilotScheduler.moving.target;
            if (!$e) {
                DayPilot.de(DayPilotScheduler.movingShadow);
                DayPilotScheduler.movingShadow.calendar = null;
                document.body.style.cursor = '';
                DayPilotScheduler.moving = null;
                return;
            };
            clearTimeout($e.$ae.timeout);
            var $0E = DayPilotScheduler.movingShadow.start;
            var $0F = DayPilotScheduler.movingShadow.end;
            var $0G = ($e.viewType !== 'Days') ? DayPilotScheduler.movingShadow.row.id : null;
            var external = DayPilotScheduler.drag ? true : false;
            var $0g = DayPilotScheduler.movingShadow.line;
            var $2N = DayPilotScheduler.movingShadow.overlapping;
            var $77 = !DayPilotScheduler.movingShadow.allowed;
            DayPilot.de(DayPilotScheduler.movingShadow);
            $e.$an();
            DayPilot.Util.removeClass(DayPilotScheduler.moving, $e.$82("_event_moving_source"));
            if (DayPilotScheduler.drag) {
                if (!$e.todo) {
                    $e.todo = {};
                };
                $e.todo.del = DayPilotScheduler.drag.element;
                DayPilotScheduler.drag = null;
            };
            DayPilotScheduler.movingShadow.calendar = null;
            document.body.style.cursor = '';
            DayPilotScheduler.moving = null;
            DayPilotScheduler.movingShadow = null;
            if ($2N || $77) {
                return;
            };
            var ev = ev || window.event;
            $e.$94(e, $0E, $0F, $0G, external, ev, $0g);
        } else if (DayPilotScheduler.range) {
            ev = ev || window.event;
            var $5A = DayPilot.Util.mouseButton(ev);
            var $0X = DayPilotScheduler.range;
            var $e = $0X.calendar;
            if (DayPilotScheduler.timeRangeTimeout) {
                clearTimeout(DayPilotScheduler.timeRangeTimeout);
                DayPilotScheduler.timeRangeTimeout = null;
                $e.$bs(ev);
                return;
            };
            DayPilotScheduler.rangeHold = $0X;
            DayPilotScheduler.range = null;
            var $6K = function($5C) {
                return function() {
                    DayPilotScheduler.timeRangeTimeout = null;
                    var $1s = $e.elements.range2;
                    if ($1s.overlapping) {
                        $e.clearSelection();
                        return;
                    };
                    $e.$98($5C.start, $5C.end, $5C.resource);
                    if ($e.timeRangeSelectedHandling !== "Hold" && $e.timeRangeSelectedHandling !== "HoldForever") {
                        $c();
                    } else {
                        DayPilotScheduler.rangeHold = $0X;
                    }
                };
            };
            var $5C = $e.$bW($0X);
            if (!$5A.left) {
                DayPilotScheduler.timeRangeTimeout = null;
                return;
            };
            if ($e.timeRangeDoubleClickHandling === 'Disabled') {
                $6K($5C)();
                var ev = ev || window.event;
                ev.cancelBubble = true;
                return false;
            } else {
                DayPilotScheduler.timeRangeTimeout = setTimeout($6K($5C), $e.doubleClickTimeout);
            }
        } else if ($39.row) {
            var $e = $39.calendar;
            if ($e) {
                $e.$aV();
            }
        } else if ($1y.source) {
            var $e = $1y.calendar;
            $e.$9P.clearShadow();
            $e.$9P.hideLinkpoints();
            $1y.source = null;
            $1y.calendar = null;
        } else if (DayPilotScheduler.splitting) {
            var $4E = DayPilotScheduler.splitting;
            $4E.cleanup();
            DayPilotScheduler.splitting = null;
        };
        if (DayPilotScheduler.drag) {
            DayPilotScheduler.drag = null;
            document.body.style.cursor = '';
        };
        if (DayPilotScheduler.gShadow) {
            document.body.removeChild(DayPilotScheduler.gShadow);
            DayPilotScheduler.gShadow = null;
        };
        DayPilotScheduler.moveOffsetX = null;
        DayPilotScheduler.moveDragStart = null;
    };
    DayPilotScheduler.createGShadow = function($K) {
        var $1s = document.createElement('div');
        $1s.setAttribute('unselectable', 'on');
        $1s.style.position = 'absolute';
        $1s.style.width = '100px';
        $1s.style.height = '20px';
        $1s.style.border = '2px dotted #666666';
        $1s.style.zIndex = 101;
        $1s.style.pointerEvents = "none";
        if ($K === 'Fill') {
            $1s.style.backgroundColor = "#aaaaaa";
            $1s.style.opacity = 0.5;
            $1s.style.filter = "alpha(opacity=50)";
            $1s.style.border = '2px solid #aaaaaa';
        };
        document.body.appendChild($1s);
        return $1s;
    };
    var $39 = {};
    DayPilot.Global.rowmoving = $39;
    var $1y = {};
    DayPilot.Global.linking = $1y;
    DayPilot.SchedulerVisible.dragStart = DayPilotScheduler.dragStart;
    DayPilot.SchedulerVisible.dragStop = DayPilotScheduler.dragStop;
    DayPilot.SchedulerVisible.Scheduler = DayPilotScheduler.Scheduler;
    DayPilot.SchedulerVisible.globalHandlers = DayPilotScheduler.globalHandlers;
    if (typeof jQuery !== 'undefined') {
        (function($) {
            $.fn.daypilotScheduler = function($d) {
                var $3T = null;
                var j = this.each(function() {
                    if (this.daypilot) {
                        return;
                    };
                    var $78 = new DayPilot.Scheduler(this.id, $d);
                    $78.init();
                    this.daypilot = $78;
                    if (!$3T) {
                        $3T = $78;
                    }
                });
                if (this.length === 1) {
                    return $3T;
                } else {
                    return j;
                }
            };
        })(jQuery);
    };
    (function registerAngularModule() {
        var $79 = DayPilot.am();
        if (!$79) {
            return;
        };
        $79.directive("daypilotScheduler", function() {
            return {
                "restrict": "E",
                "template": "<div id='{{id}};'></div>",
                "compile": function compile(element, $7a) {
                    element.replaceWith(this["template"].replace("{{id}};", $7a["id"]));
                    return function link($7b, element, $7a) {
                        var $e = new DayPilot.Scheduler(element[0]);
                        $e.$a2.scope = $7b;
                        $e.init();
                        var $7c = $7a["id"];
                        if ($7c) {
                            $7b[$7c] = $e;
                        };
                        var $7d = $7b["$watch"];
                        $7d.call($7b, $7a["daypilotConfig"], function($49) {
                            for (var name in $49) {
                                $e[name] = $49[name];
                            };
                            $e.update();
                        }, true);
                        $7d.call($7b, $7a["daypilotEvents"], function($49) {
                            $e.events.list = $49;
                            $e.$8M({
                                "eventsOnly": true
                            });
                        }, true);
                    };
                }
            };
        });
    })();
    if (typeof Sys !== 'undefined' && Sys.Application && Sys.Application.notifyScriptLoaded) {
        Sys.Application.notifyScriptLoaded();
    }
})();

if (typeof DayPilot === 'undefined') {
    var DayPilot = {};
};
if (typeof DayPilot.Global === 'undefined') {
    DayPilot.Global = {};
};
(function() {
    if (typeof DayPilot.Year !== 'undefined') {
        return;
    };
    DayPilot.Year = function(id, $a) {
        this.v = '1418';
        var $b = this;
        this.startDate = new DayPilot.Date();
        this.cssOnly = true;
        this.cssClassPrefix = null;
        this.columns = 4;
        this.cellWidth = 20;
        this.showWeekNumbers = false;
        this.$i = [];
        this.$j = function() {
            this.root.dp = this;
            this.$k = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
        };
        this.$l = function($c) {
            if (this.cssClassPrefix) {
                return this.cssClassPrefix + $c;
            } else {
                return "";
            }
        };
        this.$m = function() {
            if (this.showWeekNumbers) {
                return this.cellWidth;
            };
            return 0;
        };
        this.$n = function() {
            this.$i = [];
            var $d = this.columns;
            var $e = 12 / $d;
            this.root.className = this.$l('_main');
            this.root.style.width = $d * (this.cellWidth * 7 + this.$m()) + 'px';
            for (var y = 0; y < $e; y++) {
                for (var x = 0; x < $d; x++) {
                    var m = y * $d + x;
                    var id = id + "_nav_" + m;
                    var $f = document.createElement("div");
                    $f.id = id;
                    $f.style.float = 'left';
                    this.root.appendChild($f);
                    var navigator = new DayPilot.Navigator(id);
                    navigator.startDate = this.$k.addMonths(m);
                    navigator.cssOnly = this.cssOnly;
                    navigator.cssClassPrefix = this.cssClassPrefix;
                    navigator.cellWidth = this.cellWidth;
                    navigator.showWeekNumbers = this.showWeekNumbers;
                    navigator.internal.showLinks = {};
                    navigator.selectMode = 'none';
                    navigator.timeRangeSelectedHandling = "JavaScript";
                    navigator.onTimeRangeSelected = this.$o;
                    navigator.init();
                    navigator.root.className = '';
                    this.$i.push(navigator);
                };
                var $g = document.createElement("div");
                $g.style.clear = 'left';
                this.root.appendChild($g);
            }
        };
        this.$o = function($h) {
            alert("clicked: " + $h.day);
        };
        this.init = function() {
            this.root = document.getElementById(id);
            if (this.root.dp) {
                return;
            };
            this.$j();
            this.$n();
        };
    };
})();